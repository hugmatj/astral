var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&a(e,n,t[n]);return e},l=(e,r)=>t(e,n(r));"undefined"!=typeof require&&require;import{d as c,e as u,f as d,w as f,u as p,g as h,o as v,r as m,i as g,j as y,k as b,l as w,m as x,n as S,p as k,q as O,s as C,t as M,v as E,x as T,y as _,h as A,z as D,A as I,T as N,B as R,C as j,D as P,E as z,F as L,G as $,H as B,J as F,K as V,L as H,M as U,N as W,O as q,P as K,Q as J,R as G,S as X,U as Y,V as Q,W as Z,X as ee,Y as te,Z as ne,_ as re,$ as oe,a0 as ie,a1 as ae,a2 as se,a3 as le,a4 as ce,a5 as ue,a6 as de,a7 as fe,a8 as pe,a9 as he,aa as ve,ab as me,ac as ge}from"./vendor.f4eb104c.js";const ye="all",be="untagged",we=c({id:"stars-filter",state:()=>({selectedFilter:ye,selectedTag:null,selectedLanguage:null,searchQuery:""}),getters:{search(){const e=this.searchQuery.trim().toLowerCase().split(":").filter(Boolean),t=e.filter((e=>e.startsWith("#"))).map((e=>e.substring(1))),n=e.filter((e=>!e.startsWith("#")));return{query:this.searchQuery,tags:t,strings:n}},isFilteringByAll(){return this.selectedFilter===ye&&!this.isFilteringByTag&&!this.isFilteringByLanguage},isFilteringByUntagged(){return this.selectedFilter===be&&!this.isFilteringByTag},isFilteringByTag(){return!!this.selectedTag&&!!Object.keys(this.selectedTag).length},isFilteringByLanguage(){return!!this.selectedLanguage},isFilteringBySearch(){return!!this.searchQuery}},actions:{clearSelectedTag(){this.selectedTag=null},clearSelectedLanguage(){this.selectedLanguage=null},setFilterByAll(){this.clearSelectedTag(),this.clearSelectedLanguage(),this.selectedFilter=ye},setFilterByUntagged(){this.clearSelectedTag(),this.selectedFilter=be}}});var xe,Se,ke,Oe,Ce,Me,Ee;(Se=xe||(xe={})).ASC="ASC",Se.DESC="DESC",(Oe=ke||(ke={})).CREATE_TAG="create_tag",Oe.ADD_NOTES="add_notes",(Ce||(Ce={})).MAX_TAGS="max_tags",(Ee=Me||(Me={})).READ_USER="read:user",Ee.PUBLIC_REPO="public_repo";const Te=e=>`mutation RemoveStar {\n  removeStar(input:{starrableId: "${e}"}) {\n    starrable {\n      id\n    }\n  }\n}`;function _e(){return new Worker("/build/assets/githubStars.worker.9410604a.js",{type:"module"})}var Ae="object"==typeof u&&u&&u.Object===Object&&u,De=Ae,Ie="object"==typeof self&&self&&self.Object===Object&&self,Ne=De||Ie||Function("return this")(),Re=Ne.Symbol,je=Re,Pe=Object.prototype,ze=Pe.hasOwnProperty,Le=Pe.toString,$e=je?je.toStringTag:void 0;var Be=function(e){var t=ze.call(e,$e),n=e[$e];try{e[$e]=void 0;var r=!0}catch(i){}var o=Le.call(e);return r&&(t?e[$e]=n:delete e[$e]),o},Fe=Object.prototype.toString;var Ve=Be,He=function(e){return Fe.call(e)},Ue=Re?Re.toStringTag:void 0;var We=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ue&&Ue in Object(e)?Ve(e):He(e)};var qe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ke=We,Je=qe;var Ge,Xe=function(e){if(!Je(e))return!1;var t=Ke(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ye=Ne["__core-js_shared__"],Qe=(Ge=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||""))?"Symbol(src)_1."+Ge:"";var Ze=function(e){return!!Qe&&Qe in e},et=Function.prototype.toString;var tt=function(e){if(null!=e){try{return et.call(e)}catch(t){}try{return e+""}catch(t){}}return""},nt=Xe,rt=Ze,ot=qe,it=tt,at=/^\[object .+?Constructor\]$/,st=Function.prototype,lt=Object.prototype,ct=st.toString,ut=lt.hasOwnProperty,dt=RegExp("^"+ct.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ft=function(e){return!(!ot(e)||rt(e))&&(nt(e)?dt:at).test(it(e))},pt=function(e,t){return null==e?void 0:e[t]};var ht=function(e,t){var n=pt(e,t);return ft(n)?n:void 0},vt=ht,mt=function(){try{var e=vt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var gt=function(e,t,n){"__proto__"==t&&mt?mt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var yt=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r};var bt=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}();var wt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var xt=function(e){return null!=e&&"object"==typeof e},St=We,kt=xt;var Ot,Ct,Mt,Et,Tt,_t,At,Dt,It=function(e){return kt(e)&&"[object Arguments]"==St(e)},Nt=xt,Rt=Object.prototype,jt=Rt.hasOwnProperty,Pt=Rt.propertyIsEnumerable,zt=It(function(){return arguments}())?It:function(e){return Nt(e)&&jt.call(e,"callee")&&!Pt.call(e,"callee")},Lt=Array.isArray,$t={exports:{}};Ot=$t,Mt=Ne,Et=function(){return!1},Tt=(Ct=$t.exports)&&!Ct.nodeType&&Ct,_t=Tt&&Ot&&!Ot.nodeType&&Ot,At=_t&&_t.exports===Tt?Mt.Buffer:void 0,Dt=(At?At.isBuffer:void 0)||Et,Ot.exports=Dt;var Bt=/^(?:0|[1-9]\d*)$/;var Ft=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Bt.test(e))&&e>-1&&e%1==0&&e<t};var Vt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ht=We,Ut=Vt,Wt=xt,qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Arguments]"]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object Boolean]"]=qt["[object DataView]"]=qt["[object Date]"]=qt["[object Error]"]=qt["[object Function]"]=qt["[object Map]"]=qt["[object Number]"]=qt["[object Object]"]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object WeakMap]"]=!1;var Kt=function(e){return Wt(e)&&Ut(e.length)&&!!qt[Ht(e)]};var Jt=function(e){return function(t){return e(t)}},Gt={exports:{}};!function(e,t){var n=Ae,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=a}(Gt,Gt.exports);var Xt=Kt,Yt=Jt,Qt=Gt.exports,Zt=Qt&&Qt.isTypedArray,en=Zt?Yt(Zt):Xt,tn=wt,nn=zt,rn=Lt,on=$t.exports,an=Ft,sn=en,ln=Object.prototype.hasOwnProperty;var cn=function(e,t){var n=rn(e),r=!n&&nn(e),o=!n&&!r&&on(e),i=!n&&!r&&!o&&sn(e),a=n||r||o||i,s=a?tn(e.length,String):[],l=s.length;for(var c in e)!t&&!ln.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||an(c,l))||s.push(c);return s},un=Object.prototype;var dn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||un)};var fn=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),pn=dn,hn=fn,vn=Object.prototype.hasOwnProperty;var mn=Xe,gn=Vt;var yn=function(e){return null!=e&&gn(e.length)&&!mn(e)},bn=cn,wn=function(e){if(!pn(e))return hn(e);var t=[];for(var n in Object(e))vn.call(e,n)&&"constructor"!=n&&t.push(n);return t},xn=yn;var Sn=function(e){return xn(e)?bn(e):wn(e)},kn=bt,On=Sn;var Cn=yn;var Mn=function(e,t){return function(n,r){if(null==n)return n;if(!Cn(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&kn(e,t,On)})),En=Mn;var Tn=function(e,t,n,r){return En(e,(function(e,o,i){t(r,e,n(e),i)})),r};var _n=function(){this.__data__=[],this.size=0};var An=function(e,t){return e===t||e!=e&&t!=t},Dn=An;var In=function(e,t){for(var n=e.length;n--;)if(Dn(e[n][0],t))return n;return-1},Nn=In,Rn=Array.prototype.splice;var jn=In;var Pn=In;var zn=In;var Ln=_n,$n=function(e){var t=this.__data__,n=Nn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Rn.call(t,n,1),--this.size,!0)},Bn=function(e){var t=this.__data__,n=jn(t,e);return n<0?void 0:t[n][1]},Fn=function(e){return Pn(this.__data__,e)>-1},Vn=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hn.prototype.clear=Ln,Hn.prototype.delete=$n,Hn.prototype.get=Bn,Hn.prototype.has=Fn,Hn.prototype.set=Vn;var Un=Hn,Wn=Un;var qn=function(){this.__data__=new Wn,this.size=0};var Kn=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Jn=function(e){return this.__data__.get(e)};var Gn=function(e){return this.__data__.has(e)},Xn=ht(Ne,"Map"),Yn=ht(Object,"create"),Qn=Yn;var Zn=function(){this.__data__=Qn?Qn(null):{},this.size=0};var er=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},tr=Yn,nr=Object.prototype.hasOwnProperty;var rr=function(e){var t=this.__data__;if(tr){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return nr.call(t,e)?t[e]:void 0},or=Yn,ir=Object.prototype.hasOwnProperty;var ar=Yn;var sr=Zn,lr=er,cr=rr,ur=function(e){var t=this.__data__;return or?void 0!==t[e]:ir.call(t,e)},dr=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ar&&void 0===t?"__lodash_hash_undefined__":t,this};function fr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fr.prototype.clear=sr,fr.prototype.delete=lr,fr.prototype.get=cr,fr.prototype.has=ur,fr.prototype.set=dr;var pr=fr,hr=Un,vr=Xn;var mr=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var gr=function(e,t){var n=e.__data__;return mr(t)?n["string"==typeof t?"string":"hash"]:n.map},yr=gr;var br=gr;var wr=gr;var xr=gr;var Sr=function(){this.size=0,this.__data__={hash:new pr,map:new(vr||hr),string:new pr}},kr=function(e){var t=yr(this,e).delete(e);return this.size-=t?1:0,t},Or=function(e){return br(this,e).get(e)},Cr=function(e){return wr(this,e).has(e)},Mr=function(e,t){var n=xr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Er(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Er.prototype.clear=Sr,Er.prototype.delete=kr,Er.prototype.get=Or,Er.prototype.has=Cr,Er.prototype.set=Mr;var Tr=Er,_r=Un,Ar=Xn,Dr=Tr;var Ir=Un,Nr=qn,Rr=Kn,jr=Jn,Pr=Gn,zr=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Ar||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dr(r)}return n.set(e,t),this.size=n.size,this};function Lr(e){var t=this.__data__=new Ir(e);this.size=t.size}Lr.prototype.clear=Nr,Lr.prototype.delete=Rr,Lr.prototype.get=jr,Lr.prototype.has=Pr,Lr.prototype.set=zr;var $r=Lr;var Br=Tr,Fr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Vr=function(e){return this.__data__.has(e)};function Hr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Br;++t<n;)this.add(e[t])}Hr.prototype.add=Hr.prototype.push=Fr,Hr.prototype.has=Vr;var Ur=Hr,Wr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},qr=function(e,t){return e.has(t)};var Kr=function(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,p=2&n?new Ur:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var m=a?r(v,h,d,t,e,i):r(h,v,d,e,t,i);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!Wr(t,(function(e,t){if(!qr(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!o(h,v,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f};var Jr=Ne.Uint8Array,Gr=An,Xr=Kr,Yr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Qr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Zr=Re?Re.prototype:void 0,eo=Zr?Zr.valueOf:void 0;var to=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Jr(e),new Jr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Gr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Yr;case"[object Set]":var l=1&r;if(s||(s=Qr),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=Xr(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(eo)return eo.call(e)==eo.call(t)}return!1};var no=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},ro=Lt;var oo=function(e,t,n){var r=t(e);return ro(e)?r:no(r,n(e))};var io=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},ao=function(){return[]},so=Object.prototype.propertyIsEnumerable,lo=Object.getOwnPropertySymbols,co=oo,uo=lo?function(e){return null==e?[]:(e=Object(e),io(lo(e),(function(t){return so.call(e,t)})))}:ao,fo=Sn;var po=function(e){return co(e,fo,uo)},ho=Object.prototype.hasOwnProperty;var vo=function(e,t,n,r,o,i){var a=1&n,s=po(e),l=s.length;if(l!=po(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:ho.call(t,u)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<l;){var v=e[u=s[c]],m=t[u];if(r)var g=a?r(m,v,u,t,e,i):r(v,m,u,e,t,i);if(!(void 0===g?v===m||o(v,m,n,r,i):g)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p},mo=ht(Ne,"DataView"),go=Xn,yo=ht(Ne,"Promise"),bo=ht(Ne,"Set"),wo=ht(Ne,"WeakMap"),xo=We,So=tt,ko=So(mo),Oo=So(go),Co=So(yo),Mo=So(bo),Eo=So(wo),To=xo;(mo&&"[object DataView]"!=To(new mo(new ArrayBuffer(1)))||go&&"[object Map]"!=To(new go)||yo&&"[object Promise]"!=To(yo.resolve())||bo&&"[object Set]"!=To(new bo)||wo&&"[object WeakMap]"!=To(new wo))&&(To=function(e){var t=xo(e),n="[object Object]"==t?e.constructor:void 0,r=n?So(n):"";if(r)switch(r){case ko:return"[object DataView]";case Oo:return"[object Map]";case Co:return"[object Promise]";case Mo:return"[object Set]";case Eo:return"[object WeakMap]"}return t});var _o=$r,Ao=Kr,Do=to,Io=vo,No=To,Ro=Lt,jo=$t.exports,Po=en,zo="[object Object]",Lo=Object.prototype.hasOwnProperty;var $o=function(e,t,n,r,o,i){var a=Ro(e),s=Ro(t),l=a?"[object Array]":No(e),c=s?"[object Array]":No(t),u=(l="[object Arguments]"==l?zo:l)==zo,d=(c="[object Arguments]"==c?zo:c)==zo,f=l==c;if(f&&jo(e)){if(!jo(t))return!1;a=!0,u=!1}if(f&&!u)return i||(i=new _o),a||Po(e)?Ao(e,t,n,r,o,i):Do(e,t,l,n,r,o,i);if(!(1&n)){var p=u&&Lo.call(e,"__wrapped__"),h=d&&Lo.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return i||(i=new _o),o(v,m,n,r,i)}}return!!f&&(i||(i=new _o),Io(e,t,n,r,o,i))},Bo=xt;var Fo=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Bo(t)&&!Bo(n)?t!=t&&n!=n:$o(t,n,r,o,e,i))},Vo=$r,Ho=Fo;var Uo=qe;var Wo=function(e){return e==e&&!Uo(e)},qo=Wo,Ko=Sn;var Jo=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},Go=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Vo;if(r)var f=r(c,u,l,e,t,d);if(!(void 0===f?Ho(u,c,3,r,d):f))return!1}}return!0},Xo=function(e){for(var t=Ko(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,qo(o)]}return t},Yo=Jo;var Qo=function(e){var t=Xo(e);return 1==t.length&&t[0][2]?Yo(t[0][0],t[0][1]):function(n){return n===e||Go(n,e,t)}},Zo=We,ei=xt;var ti=function(e){return"symbol"==typeof e||ei(e)&&"[object Symbol]"==Zo(e)},ni=Lt,ri=ti,oi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ii=/^\w*$/;var ai=function(e,t){if(ni(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ri(e))||(ii.test(e)||!oi.test(e)||null!=t&&e in Object(t))},si=Tr;function li(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(li.Cache||si),n}li.Cache=si;var ci=li;var ui=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,di=/\\(\\)?/g,fi=function(e){var t=ci(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ui,(function(e,n,r,o){t.push(r?o.replace(di,"$1"):n||e)})),t}));var pi=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},hi=pi,vi=Lt,mi=ti,gi=Re?Re.prototype:void 0,yi=gi?gi.toString:void 0;var bi=function e(t){if("string"==typeof t)return t;if(vi(t))return hi(t,e)+"";if(mi(t))return yi?yi.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var wi=Lt,xi=ai,Si=fi,ki=function(e){return null==e?"":bi(e)};var Oi=function(e,t){return wi(e)?e:xi(e,t)?[e]:Si(ki(e))},Ci=ti;var Mi=function(e){if("string"==typeof e||Ci(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Ei=Oi,Ti=Mi;var _i=function(e,t){for(var n=0,r=(t=Ei(t,e)).length;null!=e&&n<r;)e=e[Ti(t[n++])];return n&&n==r?e:void 0},Ai=_i;var Di=Oi,Ii=zt,Ni=Lt,Ri=Ft,ji=Vt,Pi=Mi;var zi=function(e,t){return null!=e&&t in Object(e)},Li=function(e,t,n){for(var r=-1,o=(t=Di(t,e)).length,i=!1;++r<o;){var a=Pi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ji(o)&&Ri(a,o)&&(Ni(e)||Ii(e))};var $i=Fo,Bi=function(e,t,n){var r=null==e?void 0:Ai(e,t);return void 0===r?n:r},Fi=function(e,t){return null!=e&&Li(e,t,zi)},Vi=ai,Hi=Wo,Ui=Jo,Wi=Mi;var qi=function(e){return e};var Ki=_i;var Ji=function(e){return function(t){return null==t?void 0:t[e]}},Gi=function(e){return function(t){return Ki(t,e)}},Xi=ai,Yi=Mi;var Qi=Qo,Zi=function(e,t){return Vi(e)&&Hi(t)?Ui(Wi(e),t):function(n){var r=Bi(n,e);return void 0===r&&r===t?Fi(n,e):$i(t,r,3)}},ea=qi,ta=Lt,na=function(e){return Xi(e)?Ji(Yi(e)):Gi(e)};var ra=function(e){return"function"==typeof e?e:null==e?ea:"object"==typeof e?ta(e)?Zi(e[0],e[1]):Qi(e):na(e)},oa=yt,ia=Tn,aa=ra,sa=Lt;var la=gt,ca=function(e,t){return function(n,r){var o=sa(n)?oa:ia,i=t?t():{};return o(n,e,aa(r),i)}}((function(e,t,n){la(e,n,t)}));const ua=c({id:"stars",state:()=>({isDraggingRepo:!1,userStars:[],starredRepos:[],pageInfo:{startCursor:null,endCursor:null,hasNextPage:!0},totalRepos:0,selectedRepos:[],draggingRepos:[],worker:new _e,hasFetchedFromStorage:!1}),getters:{userStarsByRepoId(){return ca(this.userStars,(e=>`${e.repo_id}`))},allStars(){return this.starredRepos},untaggedStars(){return this.allStars.filter((e=>{const t=this.userStarsByRepoId[e.node.databaseId];return!t||!t.tags.length}))},filteredRepos(){const e=we(),t=e.selectedTag;let n=e.isFilteringByUntagged?this.untaggedStars:this.allStars;if((e.isFilteringByTag||e.isFilteringByLanguage)&&(e.isFilteringByTag&&(n=n.filter((e=>{const n=this.userStarsByRepoId[e.node.databaseId];return!!n&&!!t&&n.tags.map((e=>e.id)).includes(t.id)}))),e.isFilteringByLanguage&&(n=n.filter((t=>{var n;return(null==(n=t.node.primaryLanguage)?void 0:n.name)===e.selectedLanguage})))),e.isFilteringBySearch){const t=e.search;n=n.filter((e=>{var n,r;const o=(null==(n=this.userStarsByRepoId[e.node.databaseId])?void 0:n.notes)||"",i=[e.node.nameWithOwner,e.node.description,o].filter(Boolean).join(" ").toLowerCase(),a=t.strings.every((e=>i.includes(e)));if(t.tags.length){const n=((null==(r=this.userStarsByRepoId[e.node.databaseId])?void 0:r.tags)||[]).map((e=>e.name.toLowerCase()));return t.tags.every((e=>n.includes(e)))&&a}return a}))}return n},languages(){return Object.entries(this.allStars.map((e=>{var t;return(null==(t=e.node.primaryLanguage)?void 0:t.name)||""})).filter(Boolean).reduce(((e,t)=>l(s({},e),{[t]:(e[t]||0)+1})),{})).map((e=>{const[t,n]=e;return{name:t,count:n}})).sort(((e,t)=>t.count-e.count))},selectedRepo(){return this.selectedRepos[0]||{}},isAnyRepoSelected(){return!!Object.keys(this.selectedRepo).length}},actions:{fetchStars(e=null,t=xe.DESC){var n;const r=da();this.worker.postMessage({token:null==(n=r.user)?void 0:n.access_token,cursor:e,direction:t})},addTagToStars(e,t){d.Inertia.post("/stars/tag",{tagId:e,repoIds:t})},syncTagsToStar(e,t){d.Inertia.put("/star/sync-tags",{repoId:e,tags:t})},async fetchReadme(e){var t;const n=da();return await(await fetch(`https://api.github.com/repos/${e.nameWithOwner}/readme`,{headers:{Accept:"application/vnd.github.v3.html",Authorization:`bearer ${null==(t=n.user)?void 0:t.access_token}`}})).text()},async removeStar(e){var t;const n=da();await fetch("https://api.github.com/graphql",{method:"POST",headers:{Authorization:`bearer ${null==(t=n.user)?void 0:t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({query:Te(e)})});const r=this.starredRepos.find((t=>t.node.id===e));if(r){const t=this.userStars.find((e=>e.repo_id===r.node.databaseId));this.selectedRepos=this.selectedRepos.filter((t=>t.id!==e)),this.starredRepos.splice(this.starredRepos.indexOf(r),1),t&&d.Inertia.delete(`/star/${t.id}`)}},resetPageInfo(){this.pageInfo={startCursor:null,endCursor:null,hasNextPage:!0}}}}),da=c({id:"user",state:()=>({user:null}),actions:{deleteUser(){const e=ua();e.selectedRepos=[],e.starredRepos=[],e.resetPageInfo(),d.Inertia.delete("/user")}}}),fa=c({id:"authorizations",state:()=>({abilities:{[ke.CREATE_TAG]:!1,[ke.ADD_NOTES]:!1},limits:{[Ce.MAX_TAGS]:-1}}),actions:{checkForSponsorship(){d.Inertia.get("/check-sponsorship")}}});var pa=Mn,ha=yn;var va=ti;var ma=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=va(e),a=void 0!==t,s=null===t,l=t==t,c=va(t);if(!s&&!c&&!i&&e>t||i&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0};var ga=pi,ya=_i,ba=ra,wa=function(e,t){var n=-1,r=ha(e)?Array(e.length):[];return pa(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},xa=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},Sa=Jt,ka=function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var l=ma(o[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},Oa=qi,Ca=Lt;var Ma=function(e,t,n){t=t.length?ga(t,(function(e){return Ca(e)?function(t){return ya(t,1===e.length?e[0]:e)}:e})):[Oa];var r=-1;t=ga(t,Sa(ba));var o=wa(e,(function(e,n,o){return{criteria:ga(t,(function(t){return t(e)})),index:++r,value:e}}));return xa(o,(function(e,t){return ka(e,t,n)}))},Ea=Lt;var Ta=function(e,t,n,r){return null==e?[]:(Ea(t)||(t=null==t?[]:[t]),Ea(n=r?void 0:n)||(n=null==n?[]:[n]),Ma(e,t,n))};const _a=c({id:"tags",state:()=>({tags:[]}),actions:{addTag:e=>new Promise(((t,n)=>{d.Inertia.post("/tags",{name:e},{onSuccess:e=>t(e),onError:e=>n(e[Object.keys(e)[0]])})})),sortTags(e,t){this.tags=Ta(this.tags,e,t),this.syncTagOrder()},syncTagOrder(){const e=this.tags.map(((e,t)=>({id:e.id,sort_order:t})));d.Inertia.put("/tags/reorder",{tags:e})},deleteTag(e){d.Inertia.delete(`/tags/${e}`)}}}),Aa=(e,t,n)=>{f(e,(e=>{t[n]=e}),{immediate:!0})};function Da(e){return!!h()&&(v(e),!0)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ia(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}const Na="undefined"!=typeof window,Ra=()=>{};const ja=e=>e();function Pa(e){let t;return n=>{const r=p(e);if(t&&clearTimeout(t),r<=0)return n();t=setTimeout(n,r)}}function za(e,t,n={}){const{debounce:r=0}=n,o=Ia(n,["debounce"]);return function(e,t,n={}){const{eventFilter:r=ja}=n,o=Ia(n,["eventFilter"]);return f(e,(i=r,a=t,function(...e){i((()=>a.apply(this,e)),{fn:a,thisArg:this,args:e})}),o);var i,a}(e,t,Object.assign(Object.assign({},o),{eventFilter:Pa(r)}))}const La=Na?window:void 0;function $a(...e){let t,n,r,o;if("string"==typeof e[0]?([n,r,o]=e,t=La):[t,n,r,o]=e,!t)return Ra;let i=Ra;const a=f((()=>p(t)),(e=>{i(),e&&(e.addEventListener(n,r,o),i=()=>{e.removeEventListener(n,r,o),i=Ra})}),{immediate:!0,flush:"post"}),s=()=>{a(),i()};return Da(s),s}function Ba(e,t,n={}){const{target:r=La,eventName:o="keydown",passive:i=!1}=n,a="function"==typeof(s=e)?s:"string"==typeof s?e=>e.key===s:s?()=>!0:()=>!1;var s;return $a(r,o,(e=>{a(e)&&t(e)}),i)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fa(e,t,n={}){const{window:r=La}=n,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["window"]);let i;const a=r&&"ResizeObserver"in r,s=()=>{i&&(i.disconnect(),i=void 0)},l=f((()=>function(e){var t,n;const r=p(e);return null!==(n=null===(t=r)||void 0===t?void 0:t.$el)&&void 0!==n?n:r}(e)),(e=>{s(),a&&r&&e&&(i=new r.ResizeObserver(t),i.observe(e,o))}),{immediate:!0,flush:"post"}),c=()=>{s(),l()};return Da(c),{isSupported:a,stop:c}}const Va={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};var Ha,Ua;(Ua=Ha||(Ha={})).UP="UP",Ua.RIGHT="RIGHT",Ua.DOWN="DOWN",Ua.LEFT="LEFT",Ua.NONE="NONE";const{shift:Wa,cmd:qa,ctrl:Ka}=function(e={}){const{reactive:t=!1,target:n=La,aliasMap:r=Va,passive:o=!0,onEventFired:i=Ra}=e,a=m(new Set),s={toJSON:()=>({}),current:a},l=t?m(s):s;function c(e,n){const r=e.key.toLowerCase(),o=[e.code.toLowerCase(),r];n?a.add(e.code):a.delete(e.code);for(const i of o)i in l&&(t?l[i]=n:l[i].value=n)}n&&($a(n,"keydown",(e=>(c(e,!0),i(e))),{passive:o}),$a(n,"keyup",(e=>(c(e,!1),i(e))),{passive:o}));const u=new Proxy(l,{get(e,n,o){if("string"!=typeof n)return Reflect.get(e,n,o);if((n=n.toLowerCase())in r&&(n=r[n]),!(n in l))if(/[+_-]/.test(n)){const e=n.split(/[+_-]/g).map((e=>e.trim()));l[n]=g((()=>e.every((e=>p(u[e])))))}else l[n]=y(!1);const i=Reflect.get(e,n,o);return t?p(i):i}});return u}();$a(window,"blur",(()=>{["shift","meta","control"].forEach((e=>{window.dispatchEvent(new KeyboardEvent("keyup",{key:e}))}))}));const Ja=g((()=>qa.value||Ka.value)),Ga=g((()=>Wa.value)),Xa=(e,t=!0)=>{const n=y([]),r=y(null),o=y(null),i=()=>p("function"==typeof e?e():e),a=g((()=>i().length-1)),s=e=>i().indexOf(e),l=g((()=>null!==r.value?s(r.value):-1)),c=g((()=>null!==o.value?s(o.value):-1));f(c,(e=>console.log("Last shift-selected index is now:",e)));const u=e=>i()[e],d=g((()=>{let e=null;for(let t=l.value;t<=a.value;t++)if(h(u(t))){e=u(t);break}return e})),h=e=>null!==e&&n.value.includes(e),v=e=>{h(e)||n.value.push(e)},m=e=>{n.value.splice(n.value.indexOf(e),1)},b=(e,t)=>{const n=[],[r,o]=[e,t].sort(((e,t)=>e-t));for(let i=r;i<=o;i++)n.push(u(i));return n},w=e=>{Ja.value&&!Ga.value?(e=>{h(e)?m(e):(v(e),o.value=null)})(e):Ga.value?((e=>{const t=s(e),o=t>l.value,i=t<l.value,c=h(r.value)&&!o?l.value:l.value+1;let f=b(Math.max(c,0),t);if(!h(r.value))if(o)n.value.splice(c,n.value.length);else{const e=s(d.value||u(a.value));if(e){f=b(t,e);for(let t=e+1;t<=a.value&&h(u(t));t++)m(u(t))}}if(f.forEach((e=>{v(e)})),o)for(let n=t+1;n<=a.value&&h(u(n));n++)m(u(n));else if(i)for(let n=t-1;n>=0&&h(u(n));n--)m(u(n))})(e),o.value=e):((e=>{n.value=[e]})(e),o.value=null),Ga.value&&-1!==l.value||(r.value=e)};return{selectItem:e=>{t&&w(e)},selectedItems:n}},Ya=y(!1),Qa=y(null),Za=()=>({isOpen:g((()=>Ya.value)),currentContext:g((()=>Qa.value)),show:e=>{Qa.value=e,Ya.value=!0},hide:()=>Ya.value=!1}),es=y(!1),ts=()=>({isOpen:es,show:()=>{es.value=!0},hide:()=>{es.value=!1}}),ns=()=>{const{activeElement:e,body:t}=document;if(!e)return!1;if(e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")};var rs,is;(is=rs||(rs={})).Success="success",is.Error="error";const as=y(!1),ss=y(""),ls=y(rs.Success);let cs;const us=()=>({show:async(e,t=rs.Success)=>{var n;clearTimeout(cs),ss.value=e,ls.value=t,await(n=1,new Promise((e=>setTimeout(e,n)))),as.value=!0,cs=setTimeout((()=>{as.value=!1}),3750)},isVisible:as,currentMessage:ss,currentType:ls});var ds={exports:{}};
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ms(){return(ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ys(e){return function(e){if(Array.isArray(e))return bs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var xs=ws(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ss=ws(/Edge/i),ks=ws(/firefox/i),Os=ws(/safari/i)&&!ws(/chrome/i)&&!ws(/android/i),Cs=ws(/iP(ad|od|hone)/i),Ms=ws(/chrome/i)&&ws(/android/i),Es={capture:!1,passive:!1};function Ts(e,t,n){e.addEventListener(t,n,!xs&&Es)}function _s(e,t,n){e.removeEventListener(t,n,!xs&&Es)}function As(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function Ds(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Is(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&As(e,t):As(e,t))||r&&e===n)return e;if(e===n)break}while(e=Ds(e))}return null}var Ns,Rs=/\s+/g;function js(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Rs," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Rs," ")}}function Ps(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function zs(e,t){var n="";if("string"==typeof e)n=e;else do{var r=Ps(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Ls(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function $s(){var e=document.scrollingElement;return e||document.documentElement}function Bs(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==$s()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!xs))do{if(o&&o.getBoundingClientRect&&("none"!==Ps(o,"transform")||n&&"static"!==Ps(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(Ps(o,"border-top-width")),s-=f.left+parseInt(Ps(o,"border-left-width")),l=a+i.height,c=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var p=zs(o||e),h=p&&p.a,v=p&&p.d;p&&(l=(a/=v)+(u/=v),c=(s/=h)+(d/=h))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Fs(e,t,n){for(var r=qs(e,!0),o=Bs(e)[t];r;){var i=Bs(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===$s())break;r=qs(r,!1)}return!1}function Vs(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Ql.ghost&&(r||a[i]!==Ql.dragged)&&Is(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function Hs(e,t){for(var n=e.lastElementChild;n&&(n===Ql.ghost||"none"===Ps(n,"display")||t&&!As(n,t));)n=n.previousElementSibling;return n||null}function Us(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ql.clone||t&&!As(e,t)||n++;return n}function Ws(e){var t=0,n=0,r=$s();if(e)do{var o=zs(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function qs(e,t){if(!e||!e.getBoundingClientRect)return $s();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Ps(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return $s();if(r||t)return n;r=!0}}}while(n=n.parentNode);return $s()}function Ks(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Js(e,t){return function(){if(!Ns){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),Ns=setTimeout((function(){Ns=void 0}),t)}}}function Gs(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Xs(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Ys(e,t){Ps(e,"position","absolute"),Ps(e,"top",t.top),Ps(e,"left",t.left),Ps(e,"width",t.width),Ps(e,"height",t.height)}function Qs(e){Ps(e,"position",""),Ps(e,"top",""),Ps(e,"left",""),Ps(e,"width",""),Ps(e,"height","")}var Zs="Sortable"+(new Date).getTime();function el(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Ps(e,"display")&&e!==Ql.ghost){t.push({target:e,rect:Bs(e)});var n=ps({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=zs(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=Bs(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=zs(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&Ks(l,s)&&!Ks(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),Ks(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){Ps(e,"transition",""),Ps(e,"transform","");var o=zs(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Ps(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Ps(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Ps(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Ps(e,"transition",""),Ps(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var tl=[],nl={initializeByDefault:!0},rl={mount:function(e){for(var t in nl)nl.hasOwnProperty(t)&&!(t in e)&&(e[t]=nl[t]);tl.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),tl.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";tl.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](ps({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](ps({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in tl.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,ms(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return tl.forEach((function(r){"function"==typeof r.eventProperties&&ms(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return tl.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function ol(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[Zs]){var v,m=t.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||xs||Ss?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=s||n,v.item=o||n,v.clone=i,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=p?p.lastPutMode:void 0;var y=ps(ps({},h),rl.getEventProperties(r,t));for(var b in y)v[b]=y[b];n&&n.dispatchEvent(v),m[g]&&m[g].call(t,v)}}var il=["evt"],al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=gs(n,il);rl.pluginEvent.bind(Ql)(e,t,ps({dragEl:ll,parentEl:cl,ghostEl:ul,rootEl:dl,nextEl:fl,lastDownEl:pl,cloneEl:hl,cloneHidden:vl,dragStarted:Tl,putSortable:xl,activeSortable:Ql.active,originalEvent:r,oldIndex:ml,oldDraggableIndex:yl,newIndex:gl,newDraggableIndex:bl,hideGhostForTarget:Jl,unhideGhostForTarget:Gl,cloneNowHidden:function(){vl=!0},cloneNowShown:function(){vl=!1},dispatchSortableEvent:function(e){sl({sortable:t,name:e,originalEvent:r})}},o))};function sl(e){ol(ps({putSortable:xl,cloneEl:hl,targetEl:ll,rootEl:dl,oldIndex:ml,oldDraggableIndex:yl,newIndex:gl,newDraggableIndex:bl},e))}var ll,cl,ul,dl,fl,pl,hl,vl,ml,gl,yl,bl,wl,xl,Sl,kl,Ol,Cl,Ml,El,Tl,_l,Al,Dl,Il,Nl=!1,Rl=!1,jl=[],Pl=!1,zl=!1,Ll=[],$l=!1,Bl=[],Fl="undefined"!=typeof document,Vl=Cs,Hl=Ss||xs?"cssFloat":"float",Ul=Fl&&!Ms&&!Cs&&"draggable"in document.createElement("div"),Wl=function(){if(Fl){if(xs)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),ql=function(e,t){var n=Ps(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Vs(e,0,t),i=Vs(e,1,t),a=o&&Ps(o),s=i&&Ps(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Bs(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Bs(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Hl]||i&&"none"===n[Hl]&&l+c>r)?"vertical":"horizontal"},Kl=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==hs(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Jl=function(){!Wl&&ul&&Ps(ul,"display","none")},Gl=function(){!Wl&&ul&&Ps(ul,"display","")};Fl&&document.addEventListener("click",(function(e){if(Rl)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Rl=!1,!1}),!0);var Xl=function(e){if(ll){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,jl.some((function(e){var t=e[Zs].options.emptyInsertThreshold;if(t&&!Hs(e)){var n=Bs(e),r=o>=n.left-t&&o<=n.right+t,s=i>=n.top-t&&i<=n.bottom+t;return r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Zs]._onDragOver(n)}}var o,i,a},Yl=function(e){ll&&ll.parentNode[Zs]._isOutsideThisEl(e.target)};function Ql(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ms({},t),e[Zs]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ql(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ql.supportPointer&&"PointerEvent"in window&&!Os,emptyInsertThreshold:5};for(var r in rl.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Kl(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Ul,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ts(e,"pointerdown",this._onTapStart):(Ts(e,"mousedown",this._onTapStart),Ts(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ts(e,"dragover",this),Ts(e,"dragenter",this)),jl.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ms(this,el())}function Zl(e,t,n,r,o,i,a,s){var l,c,u=e[Zs],d=u.options.onMove;return!window.CustomEvent||xs||Ss?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||Bs(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function ec(e){e.draggable=!1}function tc(){$l=!1}function nc(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function rc(e){return setTimeout(e,0)}function oc(e){return clearTimeout(e)}Ql.prototype={constructor:Ql,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(_l=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ll):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Bl.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Bl.push(r)}}(n),!ll&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Os||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Is(s,r.draggable,n,!1))&&s.animated||pl===s)){if(ml=Us(s),yl=Us(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return sl({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),al("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=Is(l,r.trim(),n,!1))return sl({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),al("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!Is(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!ll&&n.parentNode===i){var l=Bs(n);if(dl=i,cl=(ll=n).parentNode,fl=ll.nextSibling,pl=n,wl=a.group,Ql.dragged=ll,Sl={target:ll,clientX:(t||e).clientX,clientY:(t||e).clientY},Ml=Sl.clientX-l.left,El=Sl.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ll.style["will-change"]="all",r=function(){al("delayEnded",o,{evt:e}),Ql.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!ks&&o.nativeDraggable&&(ll.draggable=!0),o._triggerDragStart(e,t),sl({sortable:o,name:"choose",originalEvent:e}),js(ll,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Ls(ll,e.trim(),ec)})),Ts(s,"dragover",Xl),Ts(s,"mousemove",Xl),Ts(s,"touchmove",Xl),Ts(s,"mouseup",o._onDrop),Ts(s,"touchend",o._onDrop),Ts(s,"touchcancel",o._onDrop),ks&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ll.draggable=!0),al("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Ss||xs))r();else{if(Ql.eventCanceled)return void this._onDrop();Ts(s,"mouseup",o._disableDelayedDrag),Ts(s,"touchend",o._disableDelayedDrag),Ts(s,"touchcancel",o._disableDelayedDrag),Ts(s,"mousemove",o._delayedDragTouchMoveHandler),Ts(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Ts(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ll&&ec(ll),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_s(e,"mouseup",this._disableDelayedDrag),_s(e,"touchend",this._disableDelayedDrag),_s(e,"touchcancel",this._disableDelayedDrag),_s(e,"mousemove",this._delayedDragTouchMoveHandler),_s(e,"touchmove",this._delayedDragTouchMoveHandler),_s(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Ts(document,"pointermove",this._onTouchMove):Ts(document,t?"touchmove":"mousemove",this._onTouchMove):(Ts(ll,"dragend",this),Ts(dl,"dragstart",this._onDragStart));try{document.selection?rc((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Nl=!1,dl&&ll){al("dragStarted",this,{evt:t}),this.nativeDraggable&&Ts(document,"dragover",Yl);var n=this.options;!e&&js(ll,n.dragClass,!1),js(ll,n.ghostClass,!0),Ql.active=this,e&&this._appendGhost(),sl({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(kl){this._lastX=kl.clientX,this._lastY=kl.clientY,Jl();for(var e=document.elementFromPoint(kl.clientX,kl.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(kl.clientX,kl.clientY))!==t;)t=e;if(ll.parentNode[Zs]._isOutsideThisEl(e),t)do{if(t[Zs]){if(t[Zs]._onDragOver({clientX:kl.clientX,clientY:kl.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Gl()}},_onTouchMove:function(e){if(Sl){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=ul&&zs(ul,!0),a=ul&&i&&i.a,s=ul&&i&&i.d,l=Vl&&Il&&Ws(Il),c=(o.clientX-Sl.clientX+r.x)/(a||1)+(l?l[0]-Ll[0]:0)/(a||1),u=(o.clientY-Sl.clientY+r.y)/(s||1)+(l?l[1]-Ll[1]:0)/(s||1);if(!Ql.active&&!Nl){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ul){i?(i.e+=c-(Ol||0),i.f+=u-(Cl||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Ps(ul,"webkitTransform",d),Ps(ul,"mozTransform",d),Ps(ul,"msTransform",d),Ps(ul,"transform",d),Ol=c,Cl=u,kl=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ul){var e=this.options.fallbackOnBody?document.body:dl,t=Bs(ll,!0,Vl,!0,e),n=this.options;if(Vl){for(Il=e;"static"===Ps(Il,"position")&&"none"===Ps(Il,"transform")&&Il!==document;)Il=Il.parentNode;Il!==document.body&&Il!==document.documentElement?(Il===document&&(Il=$s()),t.top+=Il.scrollTop,t.left+=Il.scrollLeft):Il=$s(),Ll=Ws(Il)}js(ul=ll.cloneNode(!0),n.ghostClass,!1),js(ul,n.fallbackClass,!0),js(ul,n.dragClass,!0),Ps(ul,"transition",""),Ps(ul,"transform",""),Ps(ul,"box-sizing","border-box"),Ps(ul,"margin",0),Ps(ul,"top",t.top),Ps(ul,"left",t.left),Ps(ul,"width",t.width),Ps(ul,"height",t.height),Ps(ul,"opacity","0.8"),Ps(ul,"position",Vl?"absolute":"fixed"),Ps(ul,"zIndex","100000"),Ps(ul,"pointerEvents","none"),Ql.ghost=ul,e.appendChild(ul),Ps(ul,"transform-origin",Ml/parseInt(ul.style.width)*100+"% "+El/parseInt(ul.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;al("dragStart",this,{evt:e}),Ql.eventCanceled?this._onDrop():(al("setupClone",this),Ql.eventCanceled||((hl=Xs(ll)).draggable=!1,hl.style["will-change"]="",this._hideClone(),js(hl,this.options.chosenClass,!1),Ql.clone=hl),n.cloneId=rc((function(){al("clone",n),Ql.eventCanceled||(n.options.removeCloneOnHide||dl.insertBefore(hl,ll),n._hideClone(),sl({sortable:n,name:"clone"}))})),!t&&js(ll,o.dragClass,!0),t?(Rl=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_s(document,"mouseup",n._onDrop),_s(document,"touchend",n._onDrop),_s(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,ll)),Ts(document,"drop",n),Ps(ll,"transform","translateZ(0)")),Nl=!0,n._dragStartId=rc(n._dragStarted.bind(n,t,e)),Ts(document,"selectstart",n),Tl=!0,Os&&Ps(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,l=s.group,c=Ql.active,u=wl===l,d=s.sort,f=xl||c,p=this,h=!1;if(!$l){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Is(a,s.draggable,i,!0),_("dragOver"),Ql.eventCanceled)return h;if(ll.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return D(!1);if(Rl=!1,c&&!s.disabled&&(u?d||(r=cl!==dl):xl===this||(this.lastPutMode=wl.checkPull(this,c,ll,e))&&l.checkPut(this,c,ll,e))){if(o="vertical"===this._getDirection(e,a),t=Bs(ll),_("dragOverValid"),Ql.eventCanceled)return h;if(r)return cl=dl,A(),this._hideClone(),_("revert"),Ql.eventCanceled||(fl?dl.insertBefore(ll,fl):dl.appendChild(ll)),D(!0);var v=Hs(i,s.draggable);if(!v||function(e,t,n){var r=Bs(Hs(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}(e,o,this)&&!v.animated){if(v===ll)return D(!1);if(v&&i===e.target&&(a=v),a&&(n=Bs(a)),!1!==Zl(dl,i,ll,t,a,n,e,!!a))return A(),i.appendChild(ll),cl=i,I(),D(!0)}else if(v&&function(e,t,n){var r=Bs(Vs(n.el,0,n.options,!0)),o=10;return t?e.clientX<r.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var m=Vs(i,0,s,!0);if(m===ll)return D(!1);if(n=Bs(a=m),!1!==Zl(dl,i,ll,t,a,n,e,!1))return A(),i.insertBefore(ll,m),cl=i,I(),D(!0)}else if(a.parentNode===i){n=Bs(a);var g,y,b,w=ll.parentNode!==i,x=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2}(ll.animated&&ll.toRect||t,a.animated&&a.toRect||n,o),S=o?"top":"left",k=Fs(a,"top","top")||Fs(ll,"top","top"),O=k?k.scrollTop:void 0;if(_l!==a&&(y=n[S],Pl=!1,zl=!x&&s.invertSwap||w),0!==(g=function(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&Dl<c*o){if(!Pl&&(1===Al?l>u+c*i/2:l<d-c*i/2)&&(Pl=!0),Pl)f=!0;else if(1===Al?l<u+Dl:l>d-Dl)return-Al}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return Us(ll)<Us(e)?1:-1}(t);if((f=f||a)&&(l<u+c*i/2||l>d-c*i/2))return l>u+c/2?1:-1;return 0}(e,a,n,o,x?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,zl,_l===a))){var C=Us(ll);do{C-=g,b=cl.children[C]}while(b&&("none"===Ps(b,"display")||b===ul))}if(0===g||b===a)return D(!1);_l=a,Al=g;var M=a.nextElementSibling,E=!1,T=Zl(dl,i,ll,t,a,n,e,E=1===g);if(!1!==T)return 1!==T&&-1!==T||(E=1===T),$l=!0,setTimeout(tc,30),A(),E&&!M?i.appendChild(ll):a.parentNode.insertBefore(ll,E?M:a),k&&Gs(k,0,O-k.scrollTop),cl=ll.parentNode,void 0===y||zl||(Dl=Math.abs(y-Bs(a)[S])),I(),D(!0)}if(i.contains(ll))return D(!1)}return!1}function _(s,l){al(s,p,ps({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:a,completed:D,onMove:function(n,r){return Zl(dl,i,ll,t,n,Bs(n),e,r)},changed:I},l))}function A(){_("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function D(t){return _("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==f&&(js(ll,xl?xl.options.ghostClass:c.options.ghostClass,!1),js(ll,s.ghostClass,!0)),xl!==p&&p!==Ql.active?xl=p:p===Ql.active&&xl&&(xl=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){_("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===ll&&!ll.animated||a===i&&!a.animated)&&(_l=null),s.dragoverBubble||e.rootEl||a===document||(ll.parentNode[Zs]._isOutsideThisEl(e.target),!t&&Xl(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function I(){gl=Us(ll),bl=Us(ll,s.draggable),sl({sortable:p,name:"change",toEl:i,newIndex:gl,newDraggableIndex:bl,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_s(document,"mousemove",this._onTouchMove),_s(document,"touchmove",this._onTouchMove),_s(document,"pointermove",this._onTouchMove),_s(document,"dragover",Xl),_s(document,"mousemove",Xl),_s(document,"touchmove",Xl)},_offUpEvents:function(){var e=this.el.ownerDocument;_s(e,"mouseup",this._onDrop),_s(e,"touchend",this._onDrop),_s(e,"pointerup",this._onDrop),_s(e,"touchcancel",this._onDrop),_s(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;gl=Us(ll),bl=Us(ll,n.draggable),al("drop",this,{evt:e}),cl=ll&&ll.parentNode,gl=Us(ll),bl=Us(ll,n.draggable),Ql.eventCanceled||(Nl=!1,zl=!1,Pl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),oc(this.cloneId),oc(this._dragStartId),this.nativeDraggable&&(_s(document,"drop",this),_s(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Os&&Ps(document.body,"user-select",""),Ps(ll,"transform",""),e&&(Tl&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ul&&ul.parentNode&&ul.parentNode.removeChild(ul),(dl===cl||xl&&"clone"!==xl.lastPutMode)&&hl&&hl.parentNode&&hl.parentNode.removeChild(hl),ll&&(this.nativeDraggable&&_s(ll,"dragend",this),ec(ll),ll.style["will-change"]="",Tl&&!Nl&&js(ll,xl?xl.options.ghostClass:this.options.ghostClass,!1),js(ll,this.options.chosenClass,!1),sl({sortable:this,name:"unchoose",toEl:cl,newIndex:null,newDraggableIndex:null,originalEvent:e}),dl!==cl?(gl>=0&&(sl({rootEl:cl,name:"add",toEl:cl,fromEl:dl,originalEvent:e}),sl({sortable:this,name:"remove",toEl:cl,originalEvent:e}),sl({rootEl:cl,name:"sort",toEl:cl,fromEl:dl,originalEvent:e}),sl({sortable:this,name:"sort",toEl:cl,originalEvent:e})),xl&&xl.save()):gl!==ml&&gl>=0&&(sl({sortable:this,name:"update",toEl:cl,originalEvent:e}),sl({sortable:this,name:"sort",toEl:cl,originalEvent:e})),Ql.active&&(null!=gl&&-1!==gl||(gl=ml,bl=yl),sl({sortable:this,name:"end",toEl:cl,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){al("nulling",this),dl=ll=cl=ul=fl=hl=pl=vl=Sl=kl=Tl=gl=bl=ml=yl=_l=Al=xl=wl=Ql.dragged=Ql.ghost=Ql.clone=Ql.active=null,Bl.forEach((function(e){e.checked=!0})),Bl.length=Ol=Cl=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ll&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)Is(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||nc(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];Is(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Is(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=rl.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Kl(n)},destroy:function(){al("destroy",this);var e=this.el;e[Zs]=null,_s(e,"mousedown",this._onTapStart),_s(e,"touchstart",this._onTapStart),_s(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_s(e,"dragover",this),_s(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),jl.splice(jl.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!vl){if(al("hideClone",this),Ql.eventCanceled)return;Ps(hl,"display","none"),this.options.removeCloneOnHide&&hl.parentNode&&hl.parentNode.removeChild(hl),vl=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(vl){if(al("showClone",this),Ql.eventCanceled)return;ll.parentNode!=dl||this.options.group.revertClone?fl?dl.insertBefore(hl,fl):dl.appendChild(hl):dl.insertBefore(hl,ll),this.options.group.revertClone&&this.animate(ll,hl),Ps(hl,"display",""),vl=!1}}else this._hideClone()}},Fl&&Ts(document,"touchmove",(function(e){(Ql.active||Nl)&&e.cancelable&&e.preventDefault()})),Ql.utils={on:Ts,off:_s,css:Ps,find:Ls,is:function(e,t){return!!Is(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Js,closest:Is,toggleClass:js,clone:Xs,index:Us,nextTick:rc,cancelNextTick:oc,detectDirection:ql,getChild:Vs},Ql.get=function(e){return e[Zs]},Ql.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ql.utils=ps(ps({},Ql.utils),e.utils)),rl.mount(e)}))},Ql.create=function(e,t){return new Ql(e,t)},Ql.version="1.14.0";var ic,ac,sc,lc,cc,uc,dc=[],fc=!1;function pc(){dc.forEach((function(e){clearInterval(e.pid)})),dc=[]}function hc(){clearInterval(uc)}var vc,mc=Js((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=$s(),u=!1;ac!==n&&(ac=n,pc(),ic=t.scroll,o=t.scrollFn,!0===ic&&(ic=qs(n,!0)));var d=0,f=ic;do{var p=f,h=Bs(p),v=h.top,m=h.bottom,g=h.left,y=h.right,b=h.width,w=h.height,x=void 0,S=void 0,k=p.scrollWidth,O=p.scrollHeight,C=Ps(p),M=p.scrollLeft,E=p.scrollTop;p===c?(x=b<k&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),S=w<O&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=b<k&&("auto"===C.overflowX||"scroll"===C.overflowX),S=w<O&&("auto"===C.overflowY||"scroll"===C.overflowY));var T=x&&(Math.abs(y-i)<=s&&M+b<k)-(Math.abs(g-i)<=s&&!!M),_=S&&(Math.abs(m-a)<=s&&E+w<O)-(Math.abs(v-a)<=s&&!!E);if(!dc[d])for(var A=0;A<=d;A++)dc[A]||(dc[A]={});dc[d].vx==T&&dc[d].vy==_&&dc[d].el===p||(dc[d].el=p,dc[d].vx=T,dc[d].vy=_,clearInterval(dc[d].pid),0==T&&0==_||(u=!0,dc[d].pid=setInterval(function(){r&&0===this.layer&&Ql.active._onTouchMove(cc);var t=dc[this.layer].vy?dc[this.layer].vy*l:0,n=dc[this.layer].vx?dc[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Ql.dragged.parentNode[Zs],n,t,e,cc,dc[this.layer].el)||Gs(dc[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=qs(f,!1)));fc=u}}),30),gc=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function yc(){}function bc(){}yc.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Vs(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:gc},ms(yc,{pluginName:"revertOnSpill"}),bc.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:gc},ms(bc,{pluginName:"removeOnSpill"});var wc,xc,Sc,kc,Oc,Cc=[],Mc=[],Ec=!1,Tc=!1,_c=!1;function Ac(e,t){Mc.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}function Dc(){Cc.forEach((function(e){e!==Sc&&e.parentNode&&e.parentNode.removeChild(e)}))}Ql.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ts(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ts(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ts(document,"touchmove",this._handleFallbackAutoScroll):Ts(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_s(document,"dragover",this._handleAutoScroll):(_s(document,"pointermove",this._handleFallbackAutoScroll),_s(document,"touchmove",this._handleFallbackAutoScroll),_s(document,"mousemove",this._handleFallbackAutoScroll)),hc(),pc(),clearTimeout(Ns),Ns=void 0},nulling:function(){cc=ac=ic=fc=uc=sc=lc=null,dc.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(cc=e,t||this.options.forceAutoScrollFallback||Ss||xs||Os){mc(e,this.options,i,t);var a=qs(i,!0);!fc||uc&&r===sc&&o===lc||(uc&&hc(),uc=setInterval((function(){var i=qs(document.elementFromPoint(r,o),!0);i!==a&&(a=i,pc()),mc(e,n.options,i,t)}),10),sc=r,lc=o)}else{if(!this.options.bubbleScroll||qs(i,!0)===$s())return void pc();mc(e,this.options,qs(i,!1),!1)}}},ms(e,{pluginName:"scroll",initializeByDefault:!0})}),Ql.mount(bc,yc);var Ic,Nc,Rc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ql,MultiDrag:function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?Ts(document,"pointerup",this._deselectMultiDrag):(Ts(document,"mouseup",this._deselectMultiDrag),Ts(document,"touchend",this._deselectMultiDrag)),Ts(document,"keydown",this._checkKeyDown),Ts(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";Cc.length&&xc===e?Cc.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Sc=t},delayEnded:function(){this.isMultiDrag=~Cc.indexOf(Sc)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<Cc.length;r++)Mc.push(Xs(Cc[r])),Mc[r].sortableIndex=Cc[r].sortableIndex,Mc[r].draggable=!1,Mc[r].style["will-change"]="",js(Mc[r],this.options.selectedClass,!1),Cc[r]===Sc&&js(Mc[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Cc.length&&xc===t&&(Ac(!0,n),r("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(Ac(!1,n),Mc.forEach((function(e){Ps(e,"display","")})),t(),Oc=!1,r())},hideClone:function(e){var t=this;e.sortable;var n=e.cloneNowHidden,r=e.cancel;this.isMultiDrag&&(Mc.forEach((function(e){Ps(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),Oc=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&xc&&xc.multiDrag._deselectMultiDrag(),Cc.forEach((function(e){e.sortableIndex=Us(e)})),Cc=Cc.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),_c=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Cc.forEach((function(e){e!==Sc&&Ps(e,"position","absolute")}));var r=Bs(Sc,!1,!0,!0);Cc.forEach((function(e){e!==Sc&&Ys(e,r)})),Tc=!0,Ec=!0}n.animateAll((function(){Tc=!1,Ec=!1,t.options.animation&&Cc.forEach((function(e){Qs(e)})),t.options.sort&&Dc()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;Tc&&~Cc.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,o=e.dragRect;Cc.length>1&&(Cc.forEach((function(e){r.addAnimationState({target:e,rect:Tc?Bs(e):o}),Qs(e),e.fromRect=o,t.removeAnimationState(e)})),Tc=!1,function(e,t){Cc.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,o=e.activeSortable,i=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&o._hideClone(),Ec=!1,s.animation&&Cc.length>1&&(Tc||!n&&!o.options.sort&&!a)){var l=Bs(Sc,!1,!0,!0);Cc.forEach((function(e){e!==Sc&&(Ys(e,l),i.appendChild(e))})),Tc=!0}if(!n)if(Tc||Dc(),Cc.length>1){var c=Oc;o._showClone(t),o.options.animation&&!Oc&&c&&Mc.forEach((function(e){o.addAnimationState({target:e,rect:kc}),e.fromRect=kc,e.thisAnimationDuration=null}))}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(Cc.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){kc=ms({},t);var o=zs(Sc,!0);kc.top-=o.f,kc.left-=o.e}},dragOverAnimationComplete:function(){Tc&&(Tc=!1,Dc())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,i=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!_c)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),js(Sc,c.selectedClass,!~Cc.indexOf(Sc)),~Cc.indexOf(Sc))Cc.splice(Cc.indexOf(Sc),1),wc=null,ol({sortable:o,rootEl:n,name:"deselect",targetEl:Sc,originalEvt:t});else{if(Cc.push(Sc),ol({sortable:o,rootEl:n,name:"select",targetEl:Sc,originalEvt:t}),t.shiftKey&&wc&&o.el.contains(wc)){var d,f,p=Us(wc),h=Us(Sc);if(~p&&~h&&p!==h)for(h>p?(f=p,d=h):(f=h,d=p+1);f<d;f++)~Cc.indexOf(u[f])||(js(u[f],c.selectedClass,!0),Cc.push(u[f]),ol({sortable:o,rootEl:n,name:"select",targetEl:u[f],originalEvt:t}))}else wc=Sc;xc=l}if(_c&&this.isMultiDrag){if(Tc=!1,(r[Zs].options.sort||r!==n)&&Cc.length>1){var v=Bs(Sc),m=Us(Sc,":not(."+this.options.selectedClass+")");if(!Ec&&c.animation&&(Sc.thisAnimationDuration=null),l.captureAnimationState(),!Ec&&(c.animation&&(Sc.fromRect=v,Cc.forEach((function(e){if(e.thisAnimationDuration=null,e!==Sc){var t=Tc?Bs(e):v;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),Dc(),Cc.forEach((function(e){u[m]?r.insertBefore(e,u[m]):r.appendChild(e),m++})),a===Us(Sc))){var g=!1;Cc.forEach((function(e){e.sortableIndex===Us(e)||(g=!0)})),g&&i("update")}Cc.forEach((function(e){Qs(e)})),l.animateAll()}xc=l}(n===r||s&&"clone"!==s.lastPutMode)&&Mc.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=_c=!1,Mc.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_s(document,"pointerup",this._deselectMultiDrag),_s(document,"mouseup",this._deselectMultiDrag),_s(document,"touchend",this._deselectMultiDrag),_s(document,"keydown",this._checkKeyDown),_s(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==_c&&_c||xc!==this.sortable||e&&Is(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;Cc.length;){var t=Cc[0];js(t,this.options.selectedClass,!1),Cc.shift(),ol({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ms(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[Zs];t&&t.options.multiDrag&&!~Cc.indexOf(e)&&(xc&&xc!==t&&(xc.multiDrag._deselectMultiDrag(),xc=t),js(e,t.options.selectedClass,!0),Cc.push(e))},deselect:function(e){var t=e.parentNode[Zs],n=Cc.indexOf(e);t&&t.options.multiDrag&&~n&&(js(e,t.options.selectedClass,!1),Cc.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return Cc.forEach((function(r){var o;t.push({multiDragElement:r,index:r.sortableIndex}),o=Tc&&r!==Sc?-1:Tc?Us(r,":not(."+e.options.selectedClass+")"):Us(r),n.push({multiDragElement:r,index:o})})),{items:ys(Cc),clones:[].concat(Mc),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})},Sortable:Ql,Swap:function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;vc=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,i=e.changed,a=e.cancel;if(o.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=vc;!1!==r(n)?(js(n,l.swapClass,!0),vc=n):vc=null,c&&c!==vc&&js(c,l.swapClass,!1)}i(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,o=n||this.sortable,i=this.options;vc&&js(vc,i.swapClass,!1),vc&&(i.swap||n&&n.options.swap)&&r!==vc&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(e,t){var n,r,o=e.parentNode,i=t.parentNode;if(!o||!i||o.isEqualNode(t)||i.isEqualNode(e))return;n=Us(e),r=Us(t),o.isEqualNode(i)&&n<r&&r++;o.insertBefore(t,o.children[n]),i.insertBefore(e,i.children[r])}(r,vc),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){vc=null}},ms(e,{pluginName:"swap",eventProperties:function(){return{swapItem:vc}}})}});"undefined"!=typeof self&&self;var jc,Pc,zc,Lc,$c,Bc,Fc=S(ds.exports=(Ic=x,Nc=w(Rc),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var r={};r[n("b622")("toStringTag")]="z",e.exports="[object z]"===String(r)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var r=n("fc6a"),o=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),s=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,n){var r=n("23e7"),o=n("d58f").left,i=n("a640"),a=n("ae40"),s=i("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){var r=n("c6b6"),o=n("9263");e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("17c2"),a=n("9112");for(var s in o){var l=r[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(u){c.forEach=i}}},"17c2":function(e,t,n){var r=n("b727").forEach,o=n("a640"),i=n("ae40"),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622")("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(s){}return n}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var r=n("a691"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),s=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,f,p,h=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in t){if(f=t[u],d=e.noTargetGet?(p=o(n,u))&&p.value:n[u],!c(v?u:h+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&i(f,"sham",!0),a(n,u,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"25f0":function(e,t,n){var r=n("6eeb"),o=n("825a"),i=n("d039"),a=n("ad6d"),s="toString",l=RegExp.prototype,c=l.toString,u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&r(RegExp.prototype,s,(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?a.call(e):n)}),{unsafe:!0})},"2ca0":function(e,t,n){var r,o=n("23e7"),i=n("06cf").f,a=n("50c4"),s=n("5a34"),l=n("1d80"),c=n("ab13"),u=n("c430"),d="".startsWith,f=Math.min,p=c("startsWith");o({target:"String",proto:!0,forced:!(!u&&!p&&(r=i(String.prototype,"startsWith"),r&&!r.writable)||p)},{startsWith:function(e){var t=String(l(this));s(e);var n=a(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return d?d.call(t,r,n):t.slice(n,n+r.length)===r}})},"2d00":function(e,t,n){var r,o,i=n("da84"),a=n("342f"),s=i.process,l=s&&s.versions,c=l&&l.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),o=n("3f8c"),i=n("b622")("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("825a"),a=n("df75");e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,l=0;s>l;)o.f(e,n=r[l++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){var r=n("6547").charAt,o=n("69f3"),i=n("7dd0"),a="String Iterator",s=o.set,l=o.getterFor(a);i(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),o=n("c6b6"),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),o=n("7c73"),i=n("9bf2"),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},"44e7":function(e,t,n){var r=n("861d"),o=n("c6b6"),i=n("b622")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(e){return function(t,n,a){var s,l=r(t),c=o(l.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(e,t,n){var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=n("ae40"),s=i("filter"),l=a("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){var r=n("0366"),o=n("7b0b"),i=n("9bdd"),a=n("e95a"),s=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,u,d,f,p,h=o(e),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,b=c(h),w=0;if(y&&(g=r(g,m>2?arguments[2]:void 0,2)),null==b||v==Array&&a(b))for(n=new v(t=s(h.length));t>w;w++)p=y?g(h[w],w):h[w],l(n,w,p);else for(f=(d=b.call(h)).next,n=new v;!(u=f.call(d)).done;w++)p=y?i(d,g,[u.value,w],!0):u.value,l(n,w,p);return n.length=w,n}},"4fad":function(e,t,n){var r=n("23e7"),o=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},"50c4":function(e,t,n){var r=n("a691"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5319:function(e,t,n){var r=n("d784"),o=n("825a"),i=n("7b0b"),a=n("50c4"),s=n("a691"),l=n("1d80"),c=n("8aa5"),u=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(n,r){var o=l(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!m&&g||"string"==typeof r&&-1===r.indexOf(y)){var i=n(t,e,this,r);if(i.done)return i.value}var l=o(e),p=String(this),h="function"==typeof r;h||(r=String(r));var v=l.global;if(v){var w=l.unicode;l.lastIndex=0}for(var x=[];;){var S=u(l,p);if(null===S)break;if(x.push(S),!v)break;""===String(S[0])&&(l.lastIndex=c(p,a(l.lastIndex),w))}for(var k,O="",C=0,M=0;M<x.length;M++){S=x[M];for(var E=String(S[0]),T=d(f(s(S.index),p.length),0),_=[],A=1;A<S.length;A++)_.push(void 0===(k=S[A])?k:String(k));var D=S.groups;if(h){var I=[E].concat(_,T,p);void 0!==D&&I.push(D);var N=String(r.apply(void 0,I))}else N=b(E,p,T,_,D,r);T>=C&&(O+=p.slice(C,T)+N,C=T+E.length)}return O+p.slice(C)}];function b(e,n,r,o,a,s){var l=r+e.length,c=o.length,u=v;return void 0!==a&&(a=i(a),u=h),t.call(s,u,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return t;if(u>c){var d=p(u/10);return 0===d?t:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):t}s=o[u-1]}return void 0===s?"":s}))}}))},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,n){var r=n("23e7"),o=n("a2bf"),i=n("7b0b"),a=n("50c4"),s=n("1c0b"),l=n("65f0");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),r=a(n.length);return s(e),(t=l(n,0)).length=o(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,n){var r=n("a691"),o=n("1d80"),i=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622")("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),s=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("f772"),f=n("d012"),p=s.WeakMap;if(a){var h=new p,v=h.get,m=h.has,g=h.set;r=function(e,t){return g.call(h,e,t),t},o=function(e){return v.call(h,e)||{}},i=function(e){return m.call(h,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return c(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6eeb":function(e,t,n){var r=n("da84"),o=n("9112"),i=n("5135"),a=n("ce4e"),s=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!f&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},"6f53":function(e,t,n){var r=n("83ab"),o=n("df75"),i=n("fc6a"),a=n("d1e7").f,s=function(e){return function(t){for(var n,s=i(t),l=o(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},"73d9":function(e,t,n){n("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),o=n("5135"),i=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,o=n("825a"),i=n("37e8"),a=n("7839"),s=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d=u("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var e,t;h=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[d]=e):n=h(),void 0===t?n:i(n,t)}},"7dd0":function(e,t,n){var r=n("23e7"),o=n("9ed3"),i=n("e163"),a=n("d2bb"),s=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),f=n("3f8c"),p=n("ae93"),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),g="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,n,u,p,x,S){o(n,t,u);var k,O,C,M=function(e){if(e===p&&D)return D;if(!v&&e in _)return _[e];switch(e){case g:case y:case b:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",T=!1,_=e.prototype,A=_[m]||_["@@iterator"]||p&&_[p],D=!v&&A||M(p),I="Array"==t&&_.entries||A;if(I&&(k=i(I.call(new e)),h!==Object.prototype&&k.next&&(d||i(k)===h||(a?a(k,h):"function"!=typeof k[m]&&l(k,m,w)),s(k,E,!0,!0),d&&(f[E]=w))),p==y&&A&&A.name!==y&&(T=!0,D=function(){return A.call(this)}),d&&!S||_[m]===D||l(_,m,D),f[t]=D,p)if(O={values:M(y),keys:x?D:M(g),entries:M(b)},S)for(C in O)(v||T||!(C in _))&&c(_,C,O[C]);else r({target:t,proto:!0,forced:v||T},O);return O}},"7f9a":function(e,t,n){var r=n("da84"),o=n("8925"),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var r,o,i;"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,r,o,i=/@([^@]*):(\d+):(\d+)\s*$/gi,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(f.stack)||i.exec(f.stack),s=a&&a[1]||!1,l=a&&a[2]||!1,c=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");s===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<u.length;d++){if("interactive"===u[d].readyState)return u[d];if(u[d].src===s)return u[d];if(s===c&&u[d].innerHTML&&u[d].innerHTML.trim()===o)return u[d]}return null}}return e})?r.apply(t,o):r)||(e.exports=i)},8925:function(e,t,n){var r=n("c6cd"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(e,t){e.exports=Ic},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){var r,o,i=n("ad6d"),a=n("9f7f"),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,u=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(u||f||d)&&(c=function(e){var t,n,r,o,a=this,c=d&&a.sticky,p=i.call(a),h=a.source,v=0,m=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,v++),n=new RegExp("^(?:"+h+")",p)),f&&(n=new RegExp("^"+h+"$(?!\\s)",p)),u&&(t=a.lastIndex),r=s.call(c?n:a,m),c?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:u&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&l.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},"94ca":function(e,t,n){var r=n("d039"),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},"99af":function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),s=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",g=p>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=d("concat"),b=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!g||!y},{concat:function(e){var t,n,r,o,i,a=s(this),d=u(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(b(i=-1===t?a:arguments[t])){if(f+(o=l(i.length))>v)throw TypeError(m);for(n=0;n<o;n++,f++)n in i&&c(d,f,i[n])}else{if(f>=v)throw TypeError(m);c(d,f++,i)}return d.length=f,d}})},"9bdd":function(e,t,n){var r=n("825a");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),a=n("d44e"),s=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,c,!1,!0),s[c]=l,e}},"9f7f":function(e,t,n){var r=n("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,n){var r=n("e8b5"),o=n("50c4"),i=n("0366"),a=function(e,t,n,s,l,c,u,d){for(var f,p=l,h=0,v=!!u&&i(u,d,3);h<s;){if(h in n){if(f=v?v(n[h],h,t):n[h],c>0&&r(f))p=a(e,t,f,o(f.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}h++}return p};e.exports=a},a352:function(e,t){e.exports=Nc},a434:function(e,t,n){var r=n("23e7"),o=n("23cb"),i=n("a691"),a=n("50c4"),s=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,r,u,d,f,p,y=s(this),b=a(y.length),w=o(e,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-w):(n=x-2,r=v(h(i(t),0),b-w)),b+n-r>m)throw TypeError(g);for(u=l(y,r),d=0;d<r;d++)(f=w+d)in y&&c(u,d,y[f]);if(u.length=r,n<r){for(d=w;d<b-r;d++)p=d+n,(f=d+r)in y?y[p]=y[f]:delete y[p];for(d=b;d>b-r+n;d--)delete y[d-1]}else if(n>r)for(d=b-r;d>w;d--)p=d+n-1,(f=d+r-1)in y?y[p]=y[f]:delete y[p];for(d=0;d<n;d++)y[d+w]=arguments[d+2];return y.length=b-r+n,u}})},a4d3:function(e,t,n){var r=n("23e7"),o=n("da84"),i=n("d066"),a=n("c430"),s=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),d=n("5135"),f=n("e8b5"),p=n("861d"),h=n("825a"),v=n("7b0b"),m=n("fc6a"),g=n("c04e"),y=n("5c6c"),b=n("7c73"),w=n("df75"),x=n("241c"),S=n("057f"),k=n("7418"),O=n("06cf"),C=n("9bf2"),M=n("d1e7"),E=n("9112"),T=n("6eeb"),_=n("5692"),A=n("f772"),D=n("d012"),I=n("90e3"),N=n("b622"),R=n("e538"),j=n("746f"),P=n("d44e"),z=n("69f3"),L=n("b727").forEach,$=A("hidden"),B="Symbol",F=N("toPrimitive"),V=z.set,H=z.getterFor(B),U=Object.prototype,W=o.Symbol,q=i("JSON","stringify"),K=O.f,J=C.f,G=S.f,X=M.f,Y=_("symbols"),Q=_("op-symbols"),Z=_("string-to-symbol-registry"),ee=_("symbol-to-string-registry"),te=_("wks"),ne=o.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,oe=s&&u((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K(U,t);r&&delete U[t],J(e,t,n),r&&e!==U&&J(U,t,r)}:J,ie=function(e,t){var n=Y[e]=b(W.prototype);return V(n,{type:B,tag:e,description:t}),s||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},se=function(e,t,n){e===U&&se(Q,t,n),h(e);var r=g(t,!0);return h(n),d(Y,r)?(n.enumerable?(d(e,$)&&e[$][r]&&(e[$][r]=!1),n=b(n,{enumerable:y(0,!1)})):(d(e,$)||J(e,$,y(1,{})),e[$][r]=!0),oe(e,r,n)):J(e,r,n)},le=function(e,t){h(e);var n=m(t),r=w(n).concat(fe(n));return L(r,(function(t){s&&!ce.call(n,t)||se(e,t,n[t])})),e},ce=function(e){var t=g(e,!0),n=X.call(this,t);return!(this===U&&d(Y,t)&&!d(Q,t))&&(!(n||!d(this,t)||!d(Y,t)||d(this,$)&&this[$][t])||n)},ue=function(e,t){var n=m(e),r=g(t,!0);if(n!==U||!d(Y,r)||d(Q,r)){var o=K(n,r);return!o||!d(Y,r)||d(n,$)&&n[$][r]||(o.enumerable=!0),o}},de=function(e){var t=G(m(e)),n=[];return L(t,(function(e){d(Y,e)||d(D,e)||n.push(e)})),n},fe=function(e){var t=e===U,n=G(t?Q:m(e)),r=[];return L(n,(function(e){!d(Y,e)||t&&!d(U,e)||r.push(Y[e])})),r};l||(T((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===U&&n.call(Q,e),d(this,$)&&d(this[$],t)&&(this[$][t]=!1),oe(this,t,y(1,e))};return s&&re&&oe(U,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return H(this).tag})),T(W,"withoutSetter",(function(e){return ie(I(e),e)})),M.f=ce,C.f=se,O.f=ue,x.f=S.f=de,k.f=fe,R.f=function(e){return ie(N(e),e)},s&&(J(W.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||T(U,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),L(w(te),(function(e){j(e)})),r({target:B,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(Z,t))return Z[t];var n=W(t);return Z[t]=n,ee[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?b(e):le(b(e),t)},defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(v(e))}}),q&&r({target:"JSON",stat:!0,forced:!l||u((function(){var e=W();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!ae(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),o[1]=t,q.apply(null,o)}}),W.prototype[F]||E(W.prototype,F,W.prototype.valueOf),P(W,B),D[$]=!0},a630:function(e,t,n){var r=n("23e7"),o=n("4df4");r({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:o})},a640:function(e,t,n){var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},ab13:function(e,t,n){var r=n("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},ac1f:function(e,t,n){var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,n){var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("5135"),a=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,u=i(t,0)?t[0]:l,d=i(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,d)}))}},ae93:function(e,t,n){var r,o,i,a=n("e163"),s=n("9112"),l=n("5135"),c=n("b622"),u=n("c430"),d=c("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):f=!0),null==r&&(r={}),u||l(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(e,t,n){var r=n("00ee"),o=n("f5df");e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,l="name";r&&!(l in i)&&o(i,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),s=n("4930"),l=n("fdbf"),c=o("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},b64b:function(e,t,n){var r=n("23e7"),o=n("7b0b"),i=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(e){return i(o(e))}})},b727:function(e,t,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),s=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d;return function(p,h,v,m){for(var g,y,b=i(p),w=o(b),x=r(h,v,3),S=a(w.length),k=0,O=m||s,C=t?O(p,S):n?O(p,0):void 0;S>k;k++)if((f||k in w)&&(y=x(g=w[k],k,b),e))if(t)C[k]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:l.call(C,g)}else if(u)return!1;return d?-1:c||u?u:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("ce4e"),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},c740:function(e,t,n){var r=n("23e7"),o=n("b727").findIndex,i=n("44d2"),a=n("ae40"),s="findIndex",l=!0,c=a(s);s in[]&&Array(1).findIndex((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){var r=n("23e7"),o=n("4d64").indexOf,i=n("a640"),a=n("ae40"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e){return l?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(c,n)||c.push(n));return c}},caad:function(e,t,n){var r=n("23e7"),o=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0,forced:!n("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},ce4e:function(e,t,n){var r=n("da84"),o=n("9112");e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),o=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},d1e7:function(e,t,n){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){n("746f")("iterator")},d2bb:function(e,t,n){var r=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(i){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),o=n("6eeb"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,o=n("5135"),i=n("b622")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},d58f:function(e,t,n){var r=n("1c0b"),o=n("7b0b"),i=n("44ad"),a=n("50c4"),s=function(e){return function(t,n,s,l){r(n);var c=o(t),u=i(c),d=a(c.length),f=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(f in u){l=u[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in u&&(l=n(l,u[f],f,c));return l}};e.exports={left:s(!1),right:s(!0)}},d784:function(e,t,n){n("ac1f");var r=n("6eeb"),o=n("d039"),i=n("b622"),a=n("9263"),s=n("9112"),l=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=i("replace"),f=!!/./[d]&&""===/./[d]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var h=i(e),v=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=v&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!v||!m||"replace"===e&&(!c||!u||f)||"split"===e&&!p){var g=/./[h],y=n(h,""[e],(function(e,t,n,r,o){return t.exec===a?v&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],w=y[1];r(String.prototype,e,b),r(RegExp.prototype,h,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}d&&s(RegExp.prototype[h],"sham",!0)}},d81d:function(e,t,n){var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=n("ae40"),s=i("map"),l=a("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),o=n("83ab"),i=n("56ef"),a=n("fc6a"),s=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=s.f,c=i(r),u={},d=0;c.length>d;)void 0!==(n=o(r,t=c[d++]))&&l(u,t,n);return u}})},dbf1:function(e,t,n){(function(e){n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window?window.console:e.console}).call(this,n("c8ba"))},ddb0:function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("e260"),a=n("9112"),s=n("b622"),l=s("iterator"),c=s("toStringTag"),u=i.values;for(var d in o){var f=r[d],p=f&&f.prototype;if(p){if(p[l]!==u)try{a(p,l,u)}catch(v){p[l]=u}if(p[c]||a(p,c,d),o[d])for(var h in i)if(p[h]!==i[h])try{a(p,h,i[h])}catch(v){p[h]=i[h]}}}},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},e01a:function(e,t,n){var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("5135"),s=n("861d"),l=n("9bf2").f,c=n("e893"),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(f,u);var p=f.prototype=u.prototype;p.constructor=f;var h=p.toString,v="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(d,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e163:function(e,t,n){var r=n("5135"),o=n("7b0b"),i=n("f772"),a=n("e177"),s=i("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),a=n("69f3"),s=n("7dd0"),l="Array Iterator",c=a.set,u=a.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},e439:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("fc6a"),a=n("06cf").f,s=n("83ab"),l=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e893:function(e,t,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=o(t),s=a.f,l=i.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),o=n("3f8c"),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},f5df:function(e,t,n){var r=n("00ee"),o=n("c6b6"),i=n("b622")("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){if(n.r(t),"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");var p=n("a352"),h=n.n(p);function v(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function m(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}var g=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");var y,b,w=/-(\w)/g,x=(y=function(e){return e.replace(w,(function(e,t){return t.toUpperCase()}))},b=Object.create(null),function(e){return b[e]||(b[e]=y(e))});n("5db7"),n("73d9");var S=["Start","Add","Remove","Update","End"],k=["Choose","Unchoose","Sort","Filter","Clone"],O=["Move"],C=[O,S,k].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),M={manage:O,manageAndEmit:S,emit:k};n("caad"),n("2ca0");var E=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function T(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function _(e){return e.reduce((function(e,t){var n=d(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}function A(e){return Object.entries(e).filter((function(e){var t=d(e,2),n=t[0];return t[1],!T(n)})).map((function(e){var t=d(e,2),n=t[0],r=t[1];return[x(n),r]})).filter((function(e){var t,n=d(e,2),r=n[0];return n[1],t=r,!(-1!==C.indexOf(t))}))}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n("c740");var I=function(e){return e.el},N=function(e){return e.__draggable_context},R=function(){function e(t){var n=t.nodes,r=n.header,o=n.default,i=n.footer,a=t.root,s=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=o,this.children=[].concat(f(r),f(o),f(i)),this.externalComponent=a.externalComponent,this.rootTransition=a.transition,this.tag=a.tag,this.realList=s}var t,n,r;return t=e,(n=[{key:"render",value:function(e,t){var n=this.tag,r=this.children;return e(n,t,this._isRootComponent?{default:function(){return r}}:r)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,n){var r,o;r=I(e),o={element:t[n],index:n},r.__draggable_context=o}))}},{key:"getUnderlyingVm",value:function(e){return N(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var n=this.defaultNodes,r=n.length,o=t.children,i=o.item(e);if(null===i)return r;var a=N(i);if(a)return a.index;if(0===r)return 0;var s=I(n[0]);return e<f(o).findIndex((function(e){return e===s}))?0:r}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}])&&D(t.prototype,n),r&&D(t,r),e}(),j=n("8bbf");function P(e){var t=["transition-group","TransitionGroup"].includes(e),n=!function(e){return E.includes(e)}(e)&&!t;return{transition:t,externalComponent:n,tag:n?Object(j.resolveComponent)(e):t?j.TransitionGroup:e}}function z(e){var t=e.$slots,n=e.tag,r=e.realList,o=function(e){var t=e.$slots,n=e.realList,r=e.getKey,o=n||[],i=d(["header","footer"].map((function(e){return function(e,t){var n=e[t];return n?n():[]}(t,e)})),2),a=i[0],s=i[1],c=t.item;if(!c)throw new Error("draggable element must have an item slot");var u=o.flatMap((function(e,t){return c({element:e,index:t}).map((function(t){return t.key=r(e),t.props=l(l({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(u.length!==o.length)throw new Error("Item slot must have only one child");return{header:a,footer:s,default:u}}({$slots:t,realList:r,getKey:e.getKey}),i=P(n);return new R({nodes:o,root:i,realList:r})}function L(e,t){var n=this;Object(j.nextTick)((function(){return n.$emit(e.toLowerCase(),t)}))}function $(e){var t=this;return function(n,r){if(null!==t.realList)return t["onDrag".concat(e)](n,r)}}function B(e){var t=this,n=$.call(this,e);return function(r,o){n.call(t,r,o),L.call(t,e,r)}}var F=null,V={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},H=["update:modelValue","change"].concat(f([].concat(f(M.manageAndEmit),f(M.emit)).map((function(e){return e.toLowerCase()})))),U=Object(j.defineComponent)({name:"draggable",inheritAttrs:!1,props:V,emits:H,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,n=this.tag,r=this.componentData,o=z({$slots:e,tag:n,realList:this.realList,getKey:this.getKey});this.componentStructure=o;var i=function(e){var t=e.$attrs,n=e.componentData,r=void 0===n?{}:n;return l(l({},_(Object.entries(t).filter((function(e){var t=d(e,2),n=t[0];return t[1],T(n)})))),r)}({$attrs:t,componentData:r});return o.render(j.h,i)}catch(a){return this.error=!0,Object(j.h)("pre",{style:{color:"red"}},a.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&g.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,n=this.$el;this.componentStructure.updated();var r=function(e){var t=e.$attrs,n=e.callBackBuilder,r=_(A(t));Object.entries(n).forEach((function(e){var t=d(e,2),n=t[0],o=t[1];M[n].forEach((function(e){r["on".concat(e)]=o(e)}))}));var o="[data-draggable]".concat(r.draggable||"");return l(l({},r),{},{draggable:o})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return B.call(e,t)},emit:function(t){return L.bind(e,t)},manage:function(t){return $.call(e,t)}}}),o=1===n.nodeType?n:n.parentElement;this._sortable=new h.a(o,r),this.targetDomElement=o,o.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&A(e).forEach((function(e){var n=d(e,2),r=n[0],o=n[1];t.option(r,o)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(j.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=f(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,f(e))};this.alterList(t)},updatePosition:function(e,t){this.alterList((function(n){return n.splice(t,0,n.splice(e,1)[0])}))},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var o=r.realList,i={list:o,component:r};return t!==n&&o?l(l({},r.getUnderlyingVm(n)||{}),i):i},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),F=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){v(e.item);var n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(m(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,n=t.index,r=t.element;this.spliceList(n,1);var o={element:r,oldIndex:n};this.emitChanges({removed:o})}else v(e.clone)},onDragUpdate:function(e){v(e.item),m(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=f(t.to.children).filter((function(e){return"none"!==e.style.display})),r=n.indexOf(t.related),o=e.component.getVmIndexFromDomIndex(r);return-1===n.indexOf(F)&&t.willInsertAfter?o+1:o},onDragMove:function(e,t){var n=this.move,r=this.realList;if(!n||!r)return!0;var o=this.getRelatedContextFromMoveEvent(e),i=this.computeFutureIndex(o,e),a=l(l({},this.context),{},{futureIndex:i});return n(l(l({},e),{},{relatedContext:o,draggedContext:a}),t)},onDragEnd:function(){F=null}}});t.default=U},fb6a:function(e,t,n){var r=n("23e7"),o=n("861d"),i=n("e8b5"),a=n("23cb"),s=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),f=n("ae40"),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),m=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!h},{slice:function(e,t){var n,r,u,d=l(this),f=s(d.length),p=a(e,f),h=a(void 0===t?f:t,f);if(i(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,p,h);for(r=new(void 0===n?Array:n)(g(h-p,0)),u=0;p<h;p++,u++)p in d&&c(r,u,d[p]);return r.length=u,r}})},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default));function Vc(){return(Vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hc(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wc(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function qc(e,t){if(e in t){for(var n=t[e],r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return"function"==typeof n?n.apply(void 0,o):n}var a=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(a,qc),a}function Kc(e){var t,n,r=e.visible,o=void 0===r||r,i=e.features,a=void 0===i?jc.None:i,s=Hc(e,["visible","features"]);return o||a&jc.Static&&s.props.static?Jc(s):a&jc.RenderStrategy?qc(null==(t=s.props.unmount)||t?zc.Unmount:zc.Hidden,((n={})[zc.Unmount]=function(){return null},n[zc.Hidden]=function(){return Jc(Vc({},s,{props:Vc({},s.props,{hidden:!0,style:{display:"none"}})}))},n)):Jc(s)}function Jc(e){var t,n=e.props,r=e.attrs,o=e.slots,i=e.slot,a=e.name,s=function(e,t){void 0===t&&(t=[]);for(var n,r=Object.assign({},e),o=Wc(t);!(n=o()).done;){var i=n.value;i in r&&delete r[i]}return r}(n,["unmount","static"]),l=s.as,c=Hc(s,["as"]),u=null==o.default?void 0:o.default(i);if("template"===l){if(Object.keys(c).length>0||Object.keys(r).length>0){var d=null!=u?u:[],f=d[0],p=d.slice(1);if(null==(t=f)||"string"!=typeof t.type&&"object"!=typeof t.type&&"function"!=typeof t.type||p.length>0)throw new Error(['Passing props on "template"!',"","The current component <"+a+' /> is rendering a "template".',"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(r)).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return D(f,c)}return Array.isArray(u)&&1===u.length?u[0]:u}return A(l,c,u)}(Pc=jc||(jc={}))[Pc.None=0]="None",Pc[Pc.RenderStrategy=1]="RenderStrategy",Pc[Pc.Static=2]="Static",(Lc=zc||(zc={}))[Lc.Unmount=0]="Unmount",Lc[Lc.Hidden=1]="Hidden",(Bc=$c||($c={})).Space=" ",Bc.Enter="Enter",Bc.Escape="Escape",Bc.Backspace="Backspace",Bc.ArrowLeft="ArrowLeft",Bc.ArrowUp="ArrowUp",Bc.ArrowRight="ArrowRight",Bc.ArrowDown="ArrowDown",Bc.Home="Home",Bc.End="End",Bc.PageUp="PageUp",Bc.PageDown="PageDown",Bc.Tab="Tab";var Gc=0;function Xc(){return++Gc}var Yc,Qc,Zc,eu,tu,nu,ru,ou,iu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function au(e){null==e||e.focus({preventScroll:!0})}function su(e,t){var n=Array.isArray(e)?e:function(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(iu))}(e),r=document.activeElement,o=function(){if(t&(Yc.First|Yc.Next))return tu.Next;if(t&(Yc.Previous|Yc.Last))return tu.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),i=function(){if(t&Yc.First)return 0;if(t&Yc.Previous)return Math.max(0,n.indexOf(r))-1;if(t&Yc.Next)return Math.max(0,n.indexOf(r))+1;if(t&Yc.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=t&Yc.NoScroll?{preventScroll:!0}:{},s=0,l=n.length,c=void 0;do{var u;if(s>=l||s+l<=0)return Zc.Error;var d=i+s;if(t&Yc.WrapAround)d=(d+l)%l;else{if(d<0)return Zc.Underflow;if(d>=l)return Zc.Overflow}null==(u=c=n[d])||u.focus(a),s+=o}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),Zc.Success}function lu(e,t,n){window.addEventListener(e,t,n),E((function(){return window.removeEventListener(e,t,n)}))}function cu(e,t){for(var n,r=Wc(e);!(n=r()).done;){if(n.value.contains(t))return!0}return!1}(Qc=Yc||(Yc={}))[Qc.First=1]="First",Qc[Qc.Previous=2]="Previous",Qc[Qc.Next=4]="Next",Qc[Qc.Last=8]="Last",Qc[Qc.WrapAround=16]="WrapAround",Qc[Qc.NoScroll=32]="NoScroll",(eu=Zc||(Zc={}))[eu.Error=0]="Error",eu[eu.Overflow=1]="Overflow",eu[eu.Success=2]="Success",eu[eu.Underflow=3]="Underflow",(nu=tu||(tu={}))[nu.Previous=-1]="Previous",nu[nu.Next=1]="Next",(ou=ru||(ru={}))[ou.Strict=0]="Strict",ou[ou.Loose=1]="Loose";var uu=new Set,du=new Map;function fu(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function pu(e){var t=du.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var hu,vu,mu=Symbol("StackContext");function gu(){return C(mu,(function(){}))}function yu(e){var t=gu();O(mu,(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==e||e.apply(void 0,r),t.apply(void 0,r)}))}(vu=hu||(hu={}))[vu.AddElement=0]="AddElement",vu[vu.RemoveElement=1]="RemoveElement";var bu=Symbol("ForcePortalRootContext");var wu=k({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup:function(e,t){var n=t.slots,r=t.attrs;return O(bu,e.force),function(){return Kc({props:Hc(e,["force"]),slot:{},slots:n,attrs:r,name:"ForcePortalRoot"})}}});function xu(){var e=document.getElementById("headlessui-portal-root");if(e)return e;var t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),document.body.appendChild(t)}var Su=k({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup:function(e,t){var n=t.slots,r=t.attrs,o=C(bu,!1),i=C(ku,null),a=y(!0===o||null===i?xu():i.resolveTarget());T((function(){o||null!==i&&(a.value=i.resolveTarget())}));var s=y(null);return function(e){var t=gu();T((function(n){var r=null==e?void 0:e.value;r&&(t(hu.AddElement,r),n((function(){return t(hu.RemoveElement,r)})))}))}(s),E((function(){var e,t=document.getElementById("headlessui-portal-root");t&&(a.value===t&&a.value.children.length<=0&&(null==(e=a.value.parentElement)||e.removeChild(a.value)))})),yu(),function(){if(null===a.value)return null;var t={ref:s};return A(N,{to:a.value},Kc({props:Vc({},e,t),slot:{},attrs:r,slots:n,name:"Portal"}))}}}),ku=Symbol("PortalGroupContext"),Ou=k({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup:function(e,t){var n=t.attrs,r=t.slots,o=m({resolveTarget:function(){return e.target}});return O(ku,o),function(){return Kc({props:Hc(e,["target"]),slot:{},attrs:n,slots:r,name:"PortalGroup"})}}}),Cu=Symbol("DescriptionContext");function Mu(e){var t=void 0===e?{}:e,n=t.slot,r=void 0===n?y({}):n,o=t.name,i=void 0===o?"Description":o,a=t.props,s=void 0===a?{}:a,l=y([]);return O(Cu,{register:function(e){return l.value.push(e),function(){var t=l.value.indexOf(e);-1!==t&&l.value.splice(t,1)}},slot:r,name:i,props:s}),g((function(){return l.value.length>0?l.value.join(" "):void 0}))}function Eu(e){var t;return null==e||null==e.value?null:null!=(t=e.value.$el)?t:e.value}var Tu,_u,Au,Du,Iu=Symbol("Context");function Nu(){return C(Iu,null)}function Ru(e){O(Iu,e)}(_u=Tu||(Tu={}))[_u.Open=0]="Open",_u[_u.Closed=1]="Closed",(Du=Au||(Au={}))[Du.Open=0]="Open",Du[Du.Closed=1]="Closed";var ju=Symbol("DialogContext");function Pu(e){var t=C(ju,null);if(null===t){var n=new Error("<"+e+" /> is missing a parent <Dialog /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Pu),n}return t}var zu,Lu,$u="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Bu=k({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:$u},initialFocus:{type:Object,default:null}},emits:{close:function(e){return!0}},render:function(){var e=this,t=Vc({},this.$attrs,{ref:"el",id:this.id,role:"dialog","aria-modal":this.dialogState===Au.Open||void 0,"aria-labelledby":this.titleId,"aria-describedby":this.describedby,onClick:this.handleClick}),n=Hc(this.$props,["open","initialFocus"]),r={open:this.dialogState===Au.Open};return A(wu,{force:!0},(function(){return A(Su,(function(){return A(Ou,{target:e.dialogRef},(function(){return A(wu,{force:!1},(function(){return Kc({props:Vc({},n,t),slot:r,attrs:e.$attrs,slots:e.$slots,visible:e.visible,features:jc.RenderStrategy|jc.Static,name:"Dialog"})}))}))}))}))},setup:function(e,t){var n=t.emit,r=y(new Set),o=Nu(),i=g((function(){var t;return e.open===$u&&null!==o?qc(o.value,((t={})[Tu.Open]=!0,t[Tu.Closed]=!1,t)):e.open}));if(!(e.open!==$u||null!==o))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if("boolean"!=typeof i.value)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+(i.value===$u?void 0:e.open));var a=g((function(){return e.open?Au.Open:Au.Closed})),s=g((function(){return null!==o?o.value===Tu.Open:a.value===Au.Open})),l=y(null),c=y(a.value===Au.Open);I((function(){c.value=a.value===Au.Open}));var u="headlessui-dialog-"+Xc(),d=g((function(){return{initialFocus:e.initialFocus}}));!function(e,t,n){void 0===t&&(t=y(!0)),void 0===n&&(n=y({}));var r=y("undefined"!=typeof window?document.activeElement:null),o=y(null);function i(){if(t.value&&1===e.value.size){var i=n.value.initialFocus,a=document.activeElement;if(i){if(i===a)return}else if(cu(e.value,a))return;if(r.value=a,i)au(i);else{for(var s,l=!1,c=Wc(e.value);!(s=c()).done;)if(su(s.value,Yc.First)===Zc.Success){l=!0;break}l||console.warn("There are no focusable elements inside the <FocusTrap />")}o.value=document.activeElement}}function a(){au(r.value),r.value=null,o.value=null}T(i),I((function(){t.value?i():a()})),E(a),lu("keydown",(function(n){if(t.value&&n.key===$c.Tab&&document.activeElement&&1===e.value.size){n.preventDefault();for(var r,i=Wc(e.value);!(r=i()).done;)if(su(r.value,(n.shiftKey?Yc.Previous:Yc.Next)|Yc.WrapAround)===Zc.Success){o.value=document.activeElement;break}}})),lu("focus",(function(n){if(t.value&&1===e.value.size){var r=o.value;if(r){var i=n.target;i&&i instanceof HTMLElement?cu(e.value,i)?(o.value=i,au(i)):(n.preventDefault(),n.stopPropagation(),au(r)):au(o.value)}}}),!0)}(r,c,d),function(e,t){void 0===t&&(t=y(!0)),T((function(n){if(t.value&&e.value){var r=e.value;uu.add(r);for(var o,i=Wc(du.keys());!(o=i()).done;){var a=o.value;a.contains(r)&&(pu(a),du.delete(a))}document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){for(var t,n=Wc(uu);!(t=n()).done;){var r=t.value;if(e.contains(r))return}1===uu.size&&(du.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),fu(e))}})),n((function(){if(uu.delete(r),uu.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!du.has(e)){for(var t,n=Wc(uu);!(t=n()).done;){var r=t.value;if(e.contains(r))return}du.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),fu(e)}}));else for(var e,t=Wc(du.keys());!(e=t()).done;){var n=e.value;pu(n),du.delete(n)}}))}}))}(l,c),yu((function(e,t){var n;return qc(e,((n={})[hu.AddElement]=function(){r.value.add(t)},n[hu.RemoveElement]=function(){r.value.delete(t)},n))}));var f=Mu({name:"DialogDescription",slot:g((function(){return{open:i.value}}))}),p=y(null),h={titleId:p,dialogState:a,setTitleId:function(e){p.value!==e&&(p.value=e)},close:function(){n("close",!1)}};return O(ju,h),lu("mousedown",(function(e){var t=e.target;a.value===Au.Open&&1===r.value.size&&(cu(r.value,t)||(h.close(),_((function(){return null==t?void 0:t.focus()}))))})),lu("keydown",(function(e){e.key===$c.Escape&&a.value===Au.Open&&(r.value.size>1||(e.preventDefault(),e.stopPropagation(),h.close()))})),T((function(e){if(a.value===Au.Open){var t=document.documentElement.style.overflow,n=document.documentElement.style.paddingRight,r=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=r+"px",e((function(){document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=n}))}})),T((function(e){if(a.value===Au.Open){var t=Eu(l);if(t){var n=new IntersectionObserver((function(e){for(var t,n=Wc(e);!(t=n()).done;){var r=t.value;0===r.boundingClientRect.x&&0===r.boundingClientRect.y&&0===r.boundingClientRect.width&&0===r.boundingClientRect.height&&h.close()}}));n.observe(t),e((function(){return n.disconnect()}))}}})),{id:u,el:l,dialogRef:l,containers:r,dialogState:a,titleId:p,describedby:f,visible:s,open:i,handleClick:function(e){e.stopPropagation()}}}}),Fu=k({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},render:function(){var e=Pu("DialogOverlay"),t={ref:"el",id:this.id,"aria-hidden":!0,onClick:this.handleClick};return Kc({props:Vc({},this.$props,t),slot:{open:e.dialogState.value===Au.Open},attrs:this.$attrs,slots:this.$slots,name:"DialogOverlay"})},setup:function(){var e=Pu("DialogOverlay");return{id:"headlessui-dialog-overlay-"+Xc(),handleClick:function(t){t.preventDefault(),t.stopPropagation(),e.close()}}}}),Vu=k({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},render:function(){var e=Pu("DialogTitle"),t={id:this.id};return Kc({props:Vc({},this.$props,t),slot:{open:e.dialogState.value===Au.Open},attrs:this.$attrs,slots:this.$slots,name:"DialogTitle"})},setup:function(){var e=Pu("DialogTitle"),t="headlessui-dialog-title-"+Xc();return M((function(){e.setTitleId(t),E((function(){return e.setTitleId(null)}))})),{id:t}}});function Hu(e,t){if(e)return e;var n=null!=t?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Uu(e,t){var n=y(Hu(e.value.type,e.value.as));return M((function(){n.value=Hu(e.value.type,e.value.as)})),T((function(){var e;n.value||Eu(t)&&Eu(t)instanceof HTMLButtonElement&&!(null==(e=Eu(t))?void 0:e.hasAttribute("type"))&&(n.value="button")})),n}(Lu=zu||(zu={}))[Lu.Open=0]="Open",Lu[Lu.Closed=1]="Closed";var Wu=Symbol("DisclosureContext");function qu(e){var t=C(Wu,null);if(null===t){var n=new Error("<"+e+" /> is missing a parent <Disclosure /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,qu),n}return t}var Ku=Symbol("DisclosurePanelContext");var Ju,Gu,Xu,Yu,Qu,Zu=k({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup:function(e,t){var n=t.slots,r=t.attrs,o="headlessui-disclosure-button-"+Xc(),i="headlessui-disclosure-panel-"+Xc(),a=y(e.defaultOpen?zu.Open:zu.Closed),s=y(null),l=y(null),c={buttonId:o,panelId:i,disclosureState:a,panel:s,button:l,toggleDisclosure:function(){var e;a.value=qc(a.value,((e={})[zu.Open]=zu.Closed,e[zu.Closed]=zu.Open,e))},closeDisclosure:function(){a.value!==zu.Closed&&(a.value=zu.Closed)},close:function(e){c.closeDisclosure();var t=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?Eu(e):Eu(c.button):Eu(c.button);null==t||t.focus()}};return O(Wu,c),Ru(g((function(){var e;return qc(a.value,((e={})[zu.Open]=Tu.Open,e[zu.Closed]=Tu.Closed,e))}))),function(){return Kc({props:Hc(e,["defaultOpen"]),slot:{open:a.value===zu.Open,close:c.close},slots:n,attrs:r,name:"Disclosure"})}}}),ed=k({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},render:function(){var e=qu("DisclosureButton"),t={open:e.disclosureState.value===zu.Open},n=this.isWithinPanel?{ref:"el",type:this.type,onClick:this.handleClick,onKeydown:this.handleKeyDown}:{id:this.id,ref:"el",type:this.type,"aria-expanded":this.$props.disabled?void 0:e.disclosureState.value===zu.Open,"aria-controls":Eu(e.panel)?e.panelId:void 0,disabled:!!this.$props.disabled||void 0,onClick:this.handleClick,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp};return Kc({props:Vc({},this.$props,n),slot:t,attrs:this.$attrs,slots:this.$slots,name:"DisclosureButton"})},setup:function(e,t){var n=t.attrs,r=qu("DisclosureButton"),o=C(Ku,null),i=null!==o&&o===r.panelId,a=y(null);return i||T((function(){r.button.value=a.value})),{isWithinPanel:i,id:r.buttonId,el:a,type:Uu(g((function(){return{as:e.as,type:n.type}})),a),handleClick:function(){var t;e.disabled||(i?(r.toggleDisclosure(),null==(t=Eu(r.button))||t.focus()):r.toggleDisclosure())},handleKeyDown:function(t){var n;if(!e.disabled)if(i)switch(t.key){case $c.Space:case $c.Enter:t.preventDefault(),t.stopPropagation(),r.toggleDisclosure(),null==(n=Eu(r.button))||n.focus()}else switch(t.key){case $c.Space:case $c.Enter:t.preventDefault(),t.stopPropagation(),r.toggleDisclosure()}},handleKeyUp:function(e){switch(e.key){case $c.Space:e.preventDefault()}}}}}),td=k({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e=qu("DisclosurePanel"),t={open:e.disclosureState.value===zu.Open,close:e.close},n={id:this.id,ref:"el"};return Kc({props:Vc({},this.$props,n),slot:t,attrs:this.$attrs,slots:this.$slots,features:jc.RenderStrategy|jc.Static,visible:this.visible,name:"DisclosurePanel"})},setup:function(){var e=qu("DisclosurePanel");O(Ku,e.panelId);var t=Nu(),n=g((function(){return null!==t?t.value===Tu.Open:e.disclosureState.value===zu.Open}));return{id:e.panelId,el:e.panel,visible:n}}});function nd(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),o=null!=r?r:-1,i=function(){switch(e.focus){case Ju.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case Ju.Previous:var r=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==o&&r.length-n-1>=o)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case Ju.Next:return n.findIndex((function(e,n){return!(n<=o)&&!t.resolveDisabled(e)}));case Ju.Last:var i=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===i?i:n.length-1-i;case Ju.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case Ju.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===i?r:i}function rd(e){var t=e.container,n=e.accept,r=e.walk,o=e.enabled;T((function(){var e=t.value;if(e&&(void 0===o||o.value))for(var i=Object.assign((function(e){return n(e)}),{acceptNode:n}),a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1);a.nextNode();)r(a.currentNode)}))}!function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Ju||(Ju={})),(Xu=Gu||(Gu={}))[Xu.Open=0]="Open",Xu[Xu.Closed=1]="Closed",(Qu=Yu||(Yu={}))[Qu.Open=0]="Open",Qu[Qu.Closed=1]="Closed";var od=Symbol("MenuContext");function id(e){var t=C(od,null);if(null===t){var n=new Error("<"+e+" /> is missing a parent <Menu /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,id),n}return t}var ad,sd,ld=k({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup:function(e,t){var n=t.slots,r=t.attrs,o=y(Yu.Closed),i=y(null),a=y(null),s=y([]),l=y(""),c=y(null),u={menuState:o,buttonRef:i,itemsRef:a,items:s,searchQuery:l,activeItemIndex:c,closeMenu:function(){o.value=Yu.Closed,c.value=null},openMenu:function(){return o.value=Yu.Open},goToItem:function(e,t){var n=nd(e===Ju.Specific?{focus:Ju.Specific,id:t}:{focus:e},{resolveItems:function(){return s.value},resolveActiveIndex:function(){return c.value},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.disabled}});""===l.value&&c.value===n||(l.value="",c.value=n)},search:function(e){l.value+=e.toLowerCase();var t=s.value.findIndex((function(e){return e.dataRef.textValue.startsWith(l.value)&&!e.dataRef.disabled}));-1!==t&&t!==c.value&&(c.value=t)},clearSearch:function(){l.value=""},registerItem:function(e,t){s.value.push({id:e,dataRef:t})},unregisterItem:function(e){var t=s.value.slice(),n=null!==c.value?t[c.value]:null,r=t.findIndex((function(t){return t.id===e}));-1!==r&&t.splice(r,1),s.value=t,c.value=r===c.value||null===n?null:t.indexOf(n)}};return lu("mousedown",(function(e){var t,n,r,s=e.target,l=document.activeElement;o.value===Yu.Open&&((null==(t=Eu(i))?void 0:t.contains(s))||((null==(n=Eu(a))?void 0:n.contains(s))||u.closeMenu(),l!==document.body&&(null==l?void 0:l.contains(s))||e.defaultPrevented||null==(r=Eu(i))||r.focus({preventScroll:!0})))})),O(od,u),Ru(g((function(){var e;return qc(o.value,((e={})[Yu.Open]=Tu.Open,e[Yu.Closed]=Tu.Closed,e))}))),function(){var t={open:o.value===Yu.Open};return Kc({props:e,slot:t,slots:n,attrs:r,name:"Menu"})}}}),cd=k({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},render:function(){var e,t=id("MenuButton"),n={open:t.menuState.value===Yu.Open},r={ref:"el",id:this.id,type:this.type,"aria-haspopup":!0,"aria-controls":null==(e=Eu(t.itemsRef))?void 0:e.id,"aria-expanded":this.$props.disabled?void 0:t.menuState.value===Yu.Open,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onClick:this.handleClick};return Kc({props:Vc({},this.$props,r),slot:n,attrs:this.$attrs,slots:this.$slots,name:"MenuButton"})},setup:function(e,t){var n=t.attrs,r=id("MenuButton");return{id:"headlessui-menu-button-"+Xc(),el:r.buttonRef,type:Uu(g((function(){return{as:e.as,type:n.type}})),r.buttonRef),handleKeyDown:function(e){switch(e.key){case $c.Space:case $c.Enter:case $c.ArrowDown:e.preventDefault(),e.stopPropagation(),r.openMenu(),_((function(){var e;null==(e=Eu(r.itemsRef))||e.focus({preventScroll:!0}),r.goToItem(Ju.First)}));break;case $c.ArrowUp:e.preventDefault(),e.stopPropagation(),r.openMenu(),_((function(){var e;null==(e=Eu(r.itemsRef))||e.focus({preventScroll:!0}),r.goToItem(Ju.Last)}))}},handleKeyUp:function(e){switch(e.key){case $c.Space:e.preventDefault()}},handleClick:function(t){var n;e.disabled||(r.menuState.value===Yu.Open?(r.closeMenu(),_((function(){var e;return null==(e=Eu(r.buttonRef))?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),r.openMenu(),n=function(){var e;return null==(e=Eu(r.itemsRef))?void 0:e.focus({preventScroll:!0})},requestAnimationFrame((function(){return requestAnimationFrame(n)}))))}}}}),ud=k({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e,t,n=id("MenuItems"),r={open:n.menuState.value===Yu.Open},o={"aria-activedescendant":null===n.activeItemIndex.value||null==(e=n.items.value[n.activeItemIndex.value])?void 0:e.id,"aria-labelledby":null==(t=Eu(n.buttonRef))?void 0:t.id,id:this.id,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,role:"menu",tabIndex:0,ref:"el"};return Kc({props:Vc({},this.$props,o),slot:r,attrs:this.$attrs,slots:this.$slots,features:jc.RenderStrategy|jc.Static,visible:this.visible,name:"MenuItems"})},setup:function(){var e=id("MenuItems"),t="headlessui-menu-items-"+Xc(),n=y(null);rd({container:g((function(){return Eu(e.itemsRef)})),enabled:g((function(){return e.menuState.value===Yu.Open})),accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var r=Nu(),o=g((function(){return null!==r?r.value===Tu.Open:e.menuState.value===Yu.Open}));return{id:t,el:e.itemsRef,handleKeyDown:function(t){switch(n.value&&clearTimeout(n.value),t.key){case $c.Space:if(""!==e.searchQuery.value)return t.preventDefault(),t.stopPropagation(),e.search(t.key);case $c.Enter:if(t.preventDefault(),t.stopPropagation(),null!==e.activeItemIndex.value){var r,o=e.items.value[e.activeItemIndex.value].id;null==(r=document.getElementById(o))||r.click()}e.closeMenu(),_((function(){var t;return null==(t=Eu(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case $c.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(Ju.Next);case $c.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(Ju.Previous);case $c.Home:case $c.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(Ju.First);case $c.End:case $c.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(Ju.Last);case $c.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),_((function(){var t;return null==(t=Eu(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case $c.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(e.search(t.key),n.value=setTimeout((function(){return e.clearSearch()}),350))}},handleKeyUp:function(e){switch(e.key){case $c.Space:e.preventDefault()}},visible:o}}}),dd=k({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup:function(e,t){var n=t.slots,r=t.attrs,o=id("MenuItem"),i="headlessui-menu-item-"+Xc(),a=g((function(){return null!==o.activeItemIndex.value&&o.items.value[o.activeItemIndex.value].id===i})),s=y({disabled:e.disabled,textValue:""});function l(t){if(e.disabled)return t.preventDefault();o.closeMenu(),_((function(){var e;return null==(e=Eu(o.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function c(){if(e.disabled)return o.goToItem(Ju.Nothing);o.goToItem(Ju.Specific,i)}function u(){e.disabled||a.value||o.goToItem(Ju.Specific,i)}function d(){e.disabled||a.value&&o.goToItem(Ju.Nothing)}return M((function(){var e,t,n=null==(e=document.getElementById(i))||null==(t=e.textContent)?void 0:t.toLowerCase().trim();void 0!==n&&(s.value.textValue=n)})),M((function(){return o.registerItem(i,s)})),E((function(){return o.unregisterItem(i)})),T((function(){o.menuState.value===Yu.Open&&a.value&&_((function(){var e;return null==(e=document.getElementById(i))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})}))})),function(){var t=e.disabled,o={active:a.value,disabled:t};return Kc({props:Vc({},e,{id:i,role:"menuitem",tabIndex:!0===t?void 0:-1,"aria-disabled":!0===t||void 0,onClick:l,onFocus:c,onPointermove:u,onMousemove:u,onPointerleave:d,onMouseleave:d}),slot:o,attrs:r,slots:n,name:"MenuItem"})}}});(sd=ad||(ad={}))[sd.Open=0]="Open",sd[sd.Closed=1]="Closed";var fd=Symbol("LabelContext");function pd(){var e=C(fd,null);if(null===e){var t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,pd),t}return e}function hd(e){var t=void 0===e?{}:e,n=t.slot,r=void 0===n?{}:n,o=t.name,i=void 0===o?"Label":o,a=t.props,s=void 0===a?{}:a,l=y([]);return O(fd,{register:function(e){return l.value.push(e),function(){var t=l.value.indexOf(e);-1!==t&&l.value.splice(t,1)}},slot:r,name:i,props:s}),g((function(){return l.value.length>0?l.value.join(" "):void 0}))}var vd=k({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},render:function(){var e=this.context,t=e.name,n=void 0===t?"Label":t,r=e.slot,o=void 0===r?{}:r,i=e.props,a=void 0===i?{}:i,s=this.$props,l=s.passive,c=Hc(s,["passive"]),u=Vc({},Object.entries(a).reduce((function(e,t){var n,r=t[0],o=t[1];return Object.assign(e,((n={})[r]=p(o),n))}),{}),{id:this.id}),d=Vc({},c,u);return l&&delete d.onClick,Kc({props:d,slot:o,attrs:this.$attrs,slots:this.$slots,name:n})},setup:function(){var e=pd(),t="headlessui-label-"+Xc();return M((function(){return E(e.register(t))})),{id:t,context:e}}}),md=Symbol("RadioGroupContext");function gd(e){var t=C(md,null);if(null===t){var n=new Error("<"+e+" /> is missing a parent <RadioGroup /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,gd),n}return t}var yd,bd,wd=k({name:"RadioGroup",emits:{"update:modelValue":function(e){return!0}},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},render:function(){return Kc({props:Vc({},Hc(this.$props,["modelValue","disabled"]),{ref:"el",id:this.id,role:"radiogroup","aria-labelledby":this.labelledby,"aria-describedby":this.describedby,onKeydown:this.handleKeyDown}),slot:{},attrs:this.$attrs,slots:this.$slots,name:"RadioGroup"})},setup:function(e,t){var n=t.emit,r=y(null),o=y([]),i=hd({name:"RadioGroupLabel"}),a=Mu({name:"RadioGroupDescription"}),s=g((function(){return e.modelValue})),l={options:o,value:s,disabled:g((function(){return e.disabled})),firstOption:g((function(){return o.value.find((function(e){return!e.propsRef.disabled}))})),containsCheckedOption:g((function(){return o.value.some((function(t){return R(t.propsRef.value)===R(e.modelValue)}))})),change:function(t){var r;if(e.disabled)return!1;if(s.value===t)return!1;var i=null==(r=o.value.find((function(e){return R(e.propsRef.value)===R(t)})))?void 0:r.propsRef;return!(null==i?void 0:i.disabled)&&(n("update:modelValue",t),!0)},registerOption:function(e){var t,n=Array.from(null==(t=r.value)?void 0:t.querySelectorAll('[id^="headlessui-radiogroup-option-"]')).reduce((function(e,t,n){var r;return Object.assign(e,((r={})[t.id]=n,r))}),{});o.value.push(e),o.value.sort((function(e,t){return n[e.id]-n[t.id]}))},unregisterOption:function(e){var t=o.value.findIndex((function(t){return t.id===e}));-1!==t&&o.value.splice(t,1)}};return O(md,l),rd({container:g((function(){return Eu(r)})),accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}}),{id:"headlessui-radiogroup-"+Xc(),labelledby:i,describedby:a,el:r,handleKeyDown:function(e){if(r.value&&r.value.contains(e.target)){var t=o.value.filter((function(e){return!1===e.propsRef.disabled})).map((function(e){return e.element}));switch(e.key){case $c.ArrowLeft:case $c.ArrowUp:if(e.preventDefault(),e.stopPropagation(),su(t,Yc.Previous|Yc.WrapAround)===Zc.Success){var n=o.value.find((function(e){return e.element===document.activeElement}));n&&l.change(n.propsRef.value)}break;case $c.ArrowRight:case $c.ArrowDown:if(e.preventDefault(),e.stopPropagation(),su(t,Yc.Next|Yc.WrapAround)===Zc.Success){var i=o.value.find((function(e){return e.element===document.activeElement}));i&&l.change(i.propsRef.value)}break;case $c.Space:e.preventDefault(),e.stopPropagation();var a=o.value.find((function(e){return e.element===document.activeElement}));a&&l.change(a.propsRef.value)}}}}}});(bd=yd||(yd={}))[bd.Empty=1]="Empty",bd[bd.Active=2]="Active";var xd,Sd,kd=k({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},render:function(){var e=Hc(this.$props,["value","disabled"]),t={checked:this.checked,disabled:this.disabled,active:Boolean(this.state&yd.Active)};return Kc({props:Vc({},e,{id:this.id,ref:"el",role:"radio","aria-checked":this.checked?"true":"false","aria-labelledby":this.labelledby,"aria-describedby":this.describedby,"aria-disabled":!!this.disabled||void 0,tabIndex:this.tabIndex,onClick:this.disabled?void 0:this.handleClick,onFocus:this.disabled?void 0:this.handleFocus,onBlur:this.disabled?void 0:this.handleBlur}),slot:t,attrs:this.$attrs,slots:this.$slots,name:"RadioGroupOption"})},setup:function(e){var t=gd("RadioGroupOption"),n="headlessui-radiogroup-option-"+Xc(),r=hd({name:"RadioGroupLabel"}),o=Mu({name:"RadioGroupDescription"}),i=y(null),a=g((function(){return{value:e.value,disabled:e.disabled}})),s=y(yd.Empty);M((function(){return t.registerOption({id:n,element:i,propsRef:a})})),E((function(){return t.unregisterOption(n)}));var l=g((function(){var e;return(null==(e=t.firstOption.value)?void 0:e.id)===n})),c=g((function(){return t.disabled.value||e.disabled})),u=g((function(){return R(t.value.value)===R(e.value)}));return{id:n,el:i,labelledby:r,describedby:o,state:s,disabled:c,checked:u,tabIndex:g((function(){return c.value?-1:u.value||!t.containsCheckedOption.value&&l.value?0:-1})),handleClick:function(){var n;t.change(e.value)&&(s.value|=yd.Active,null==(n=i.value)||n.focus())},handleFocus:function(){s.value|=yd.Active},handleBlur:function(){s.value&=~yd.Active}}}}),Od=vd,Cd=Symbol("GroupContext"),Md=k({name:"Switch",emits:{"update:modelValue":function(e){return!0}},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1}},render:function(){var e={checked:this.$props.modelValue},t={id:this.id,ref:"el",role:"switch",type:this.type,tabIndex:0,"aria-checked":this.$props.modelValue,"aria-labelledby":this.labelledby,"aria-describedby":this.describedby,onClick:this.handleClick,onKeyup:this.handleKeyUp,onKeypress:this.handleKeyPress};return Kc({props:Vc({},this.$props,t),slot:e,attrs:this.$attrs,slots:this.$slots,name:"Switch"})},setup:function(e,t){var n=t.emit,r=t.attrs,o=C(Cd,null),i="headlessui-switch-"+Xc();function a(){n("update:modelValue",!e.modelValue)}var s=y(null),l=null===o?s:o.switchRef;return{id:i,el:l,type:Uu(g((function(){return{as:e.as,type:r.type}})),l),labelledby:null==o?void 0:o.labelledby,describedby:null==o?void 0:o.describedby,handleClick:function(e){e.preventDefault(),a()},handleKeyUp:function(e){e.key!==$c.Tab&&e.preventDefault(),e.key===$c.Space&&a()},handleKeyPress:function(e){e.preventDefault()}}}});function Ed(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=Wc(e.splice(0));!(t=n()).done;){(0,t.value)()}}};return t}function Td(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&r.length>0&&(t=e.classList).add.apply(t,r)}function _d(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&r.length>0&&(t=e.classList).remove.apply(t,r)}function Ad(e,t,n,r,o,i){var a,s,l=Ed(),c=void 0!==i?(a=i,s={called:!1},function(){if(!s.called)return s.called=!0,a.apply(void 0,arguments)}):function(){};return _d.apply(void 0,[e].concat(o)),Td.apply(void 0,[e].concat(t,n)),l.nextFrame((function(){_d.apply(void 0,[e].concat(n)),Td.apply(void 0,[e].concat(r)),l.add(function(e,t){var n=Ed();if(!e)return n.dispose;var r=getComputedStyle(e),o=[r.transitionDuration,r.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e}))[0];return void 0===t?0:t})),i=o[0],a=o[1];return 0!==i?n.setTimeout((function(){return t(xd.Finished)}),i+a):t(xd.Finished),n.add((function(){return t(xd.Cancelled)})),n.dispose}(e,(function(n){return _d.apply(void 0,[e].concat(r,t)),Td.apply(void 0,[e].concat(o)),c(n)})))})),l.add((function(){return _d.apply(void 0,[e].concat(t,n,r,o))})),l.add((function(){return c(xd.Cancelled)})),l.dispose}function Dd(e){return void 0===e&&(e=""),e.split(" ").filter((function(e){return e.trim().length>1}))}(Sd=xd||(xd={})).Finished="finished",Sd.Cancelled="cancelled";var Id,Nd,Rd=Symbol("TransitionContext");(Nd=Id||(Id={})).Visible="visible",Nd.Hidden="hidden";var jd=Symbol("NestingContext");function Pd(e){return"children"in e?Pd(e.children):e.value.filter((function(e){return e.state===Id.Visible})).length>0}function zd(e){var t=y([]),n=y(!1);function r(r,o){var i;void 0===o&&(o=zc.Hidden);var a=t.value.findIndex((function(e){return e.id===r}));-1!==a&&(qc(o,((i={})[zc.Unmount]=function(){t.value.splice(a,1)},i[zc.Hidden]=function(){t.value[a].state=Id.Hidden},i)),!Pd(t)&&n.value&&(null==e||e()))}return M((function(){return n.value=!0})),E((function(){return n.value=!1})),{children:t,register:function(e){var n=t.value.find((function(t){return t.id===e}));return n?n.state!==Id.Visible&&(n.state=Id.Visible):t.value.push({id:e,state:Id.Visible}),function(){return r(e,zc.Unmount)}},unregister:r}}var Ld=jc.RenderStrategy,$d=k({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:function(){return!0},afterEnter:function(){return!0},beforeLeave:function(){return!0},afterLeave:function(){return!0}},render:function(){var e=this;if(this.renderAsRoot)return A(Bd,Vc({},this.$props,{onBeforeEnter:function(){return e.$emit("beforeEnter")},onAfterEnter:function(){return e.$emit("afterEnter")},onBeforeLeave:function(){return e.$emit("beforeLeave")},onAfterLeave:function(){return e.$emit("afterLeave")}}),this.$slots);return Kc({props:Vc({},Hc(this.$props,["appear","show","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),{ref:"el"}),slot:{},slots:this.$slots,attrs:this.$attrs,features:Ld,visible:this.state===Id.Visible,name:"TransitionChild"})},setup:function(e,t){var n=t.emit;if(null===C(Rd,null)&&null!==Nu())return{renderAsRoot:!0};var r=y(null),o=y(Id.Visible),i=g((function(){return e.unmount?zc.Unmount:zc.Hidden})),a=function(){var e=C(Rd,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),s=a.show,l=a.appear,c=function(){var e=C(jd,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),u=c.register,d=c.unregister,p={value:!0},h=Xc(),v={value:!1},m=zd((function(){v.value||(o.value=Id.Hidden,d(h),n("afterLeave"))}));M((function(){var e=u(h);E(e)})),T((function(){var e;i.value===zc.Hidden&&h&&(s&&o.value!==Id.Visible?o.value=Id.Visible:qc(o.value,((e={})[Id.Hidden]=function(){return d(h)},e[Id.Visible]=function(){return u(h)},e)))}));var b=Dd(e.enter),w=Dd(e.enterFrom),x=Dd(e.enterTo),S=Dd(e.entered),k=Dd(e.leave),_=Dd(e.leaveFrom),A=Dd(e.leaveTo);return M((function(){T((function(){if(o.value===Id.Visible){var e=Eu(r);if(e instanceof Comment&&""===e.data)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}}))})),M((function(){f([s,l],(function(e,t,i){!function(e){var t=p.value&&!l.value,i=Eu(r);i&&i instanceof HTMLElement&&(t||(v.value=!0,s.value&&n("beforeEnter"),s.value||n("beforeLeave"),e(s.value?Ad(i,b,w,x,S,(function(e){v.value=!1,e===xd.Finished&&n("afterEnter")})):Ad(i,k,_,A,S,(function(e){v.value=!1,e===xd.Finished&&(Pd(m)||(o.value=Id.Hidden,d(h),n("afterLeave")))})))))}(i),p.value=!1}),{immediate:!0})})),O(jd,m),Ru(g((function(){var e;return qc(o.value,((e={})[Id.Visible]=Tu.Open,e[Id.Hidden]=Tu.Closed,e))}))),{el:r,renderAsRoot:!1,state:o}}}),Bd=k({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:function(){return!0},afterEnter:function(){return!0},beforeLeave:function(){return!0},afterLeave:function(){return!0}},render:function(){var e=this,t=this.$props,n=t.unmount,r=Hc(t,["show","appear","unmount"]),o={unmount:n};return Kc({props:Vc({},o,{as:"template"}),slot:{},slots:Vc({},this.$slots,{default:function(){return[A($d,Vc({onBeforeEnter:function(){return e.$emit("beforeEnter")},onAfterEnter:function(){return e.$emit("afterEnter")},onBeforeLeave:function(){return e.$emit("beforeLeave")},onAfterLeave:function(){return e.$emit("afterLeave")}},e.$attrs,o,r),e.$slots.default)]}}),attrs:{},features:Ld,visible:this.state===Id.Visible,name:"Transition"})},setup:function(e){var t=Nu(),n=g((function(){var n;return null===e.show&&null!==t?qc(t.value,((n={})[Tu.Open]=!0,n[Tu.Closed]=!1,n)):e.show}));T((function(){if(![!0,!1].includes(n.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')}));var r=y(n.value?Id.Visible:Id.Hidden),o=zd((function(){r.value=Id.Hidden})),i={value:!0},a={show:n,appear:g((function(){return e.appear||!i.value}))};return M((function(){T((function(){i.value=!1,n.value?r.value=Id.Visible:Pd(o)||(r.value=Id.Hidden)}))})),O(jd,o),O(Rd,a),{state:r,show:n}}});function Fd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),z("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})])}function Vd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])}function Hd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function Ud(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function Wd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])}function qd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])}function Kd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z","clip-rule":"evenodd"})])}function Jd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"})])}function Gd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"})])}function Xd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"})])}function Yd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})])}function Qd(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])}const Zd={class:"flex items-center w-full"},ef={class:"flex items-center"},tf={class:"text-xs font-bold tracking-wider uppercase select-none"},nf={class:"flex-shrink-0 ml-auto"},rf=k({props:{title:{type:String,required:!0},collapsible:{type:Boolean,default:!1}},setup:e=>(t,n)=>(j(),P(p(Zu),{as:"div","default-open":!0},{default:L((({open:n})=>[$("div",Zd,[$("div",ef,[z(p(ed),{class:B(["flex items-center text-gray-500",{"-ml-1":e.collapsible}]),as:e.collapsible?"button":"h4"},{default:L((()=>[e.collapsible?(j(),P(p(Ud),{key:0,class:B(["relative flex-shrink-0 w-5 h-5 transform",{"rotate-90":n}]),style:{top:"-1px"},"aria-hidden":"true"},null,8,["class"])):F("",!0),$("span",tf,V(e.title),1)])),_:2},1032,["class","as"])]),H($("div",nf,[W(t.$slots,"right-action")],512),[[U,n||!e.collapsible]])]),H(z(p(td),{static:""},{default:L((()=>[W(t.$slots,"default")])),_:2},1536),[[U,n||!e.collapsible]])])),_:3}))}),of=k({props:{tag:{type:String,default:"li"},title:{type:String,required:!0},isActive:{type:Boolean,default:!1},isHighlighted:{type:Boolean,default:!1},count:{type:Number,default:0},hasContextMenu:{type:Boolean,default:!1},isContextMenuActive:{type:Boolean,default:!1}},setup:e=>({labelClasses:g((()=>e.isHighlighted?"text-white bg-brand-600":e.isActive?"text-brand-600":"text-gray-400 hover:text-gray-300")),badgeClasses:g((()=>(e.isHighlighted?"text-brand-600 bg-white":e.isActive?"text-white bg-brand-600":"text-white bg-gray-700")+(e.hasContextMenu?e.isContextMenuActive?" invisible":" group-hover:opacity-0":""))),iconClasses:g((()=>e.isActive||e.isHighlighted?"opacity-100":"opacity-60"))}),render(){return A(this.tag,{class:`group flex items-center p-1 font-semibold cursor-pointer text-sm transition-colors ${this.labelClasses}`,role:"option",ariaSelected:this.isActive},[!!this.$slots.icon&&A("div",{class:`flex-shrink-0 w-5 h-5 mr-2 ${this.iconClasses}`,ariaHidden:!0},this.$slots.icon()),A("span",{role:"region",ariaLive:"polite"},this.title),A("div",{class:"relative ml-auto"},[!!this.count&&A("div",{class:`transition-opacity text-white rounded-full px-2 h-5 text-xs inline-flex items-center flex-shrink-0 ${this.badgeClasses}`,role:"region",ariaLive:"polite"},this.count),!!this.hasContextMenu&&this.$slots.contextMenu&&this.$slots.contextMenu()])])}}),af=k({props:{value:{required:!0,type:void 0}},emits:["change"],setup(e,{emit:t}){f((()=>e.value),(e=>{t("change",e)}))},render:()=>[]});function sf(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})])}function lf(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])}function cf(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h8m-8 6h16"})])}function uf(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])}function df(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])}function ff(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])}const pf=y(!1),hf=y(null),vf=()=>({isOpen:g((()=>pf.value)),currentTag:g((()=>hf.value)),show:e=>{hf.value=e,pf.value=!0},hide:()=>pf.value=!1});var mf=(e,t)=>{for(const[n,r]of t)e[n]=r;return e};const gf=k({components:{SidebarItem:of,Menu:ld,MenuButton:cd,MenuItem:dd,MenuItems:ud,TagIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])},DotsHorizontalIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])},PencilAltIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),z("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})])},TrashIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})])},WatchValue:af},props:{tag:{type:Object,required:!0},isActive:Boolean},emits:["stars-dropped"],setup(e,{emit:t}){const n=y(!1),r=y(!1),o=ua(),i=_a(),{show:a}=vf(),{show:s}=us();return{onDragOver:e=>{e.preventDefault(),o.isDraggingRepo&&(n.value=!0)},onDragLeave:()=>n.value=!1,onDrop:r=>{o.isDraggingRepo&&o.draggingRepos.length&&(t("stars-dropped",{tag:e.tag,repoIds:o.draggingRepos.map((e=>e.databaseId))}),n.value=!1),r.preventDefault()},isHighlighted:n,showRenameTagDialog:a,deleteTag:()=>{confirm(`Are you sure you want to delete the "${e.tag.name}" tag?`)&&(i.deleteTag(e.tag.id),s(`The ${e.tag.name} tag was deleted.`))},isContextMenuActive:r}}}),yf={class:"py-1"},bf=$("span",null,"Rename",-1),wf=$("span",null,"Delete",-1);var xf=mf(gf,[["render",function(e,t,n,r,o,i){const a=q("TagIcon"),s=q("WatchValue"),l=q("DotsHorizontalIcon"),c=q("MenuButton"),u=q("PencilAltIcon"),d=q("MenuItem"),f=q("TrashIcon"),p=q("MenuItems"),h=q("Menu"),v=q("SidebarItem");return j(),P(v,{title:e.tag.name,count:e.tag.stars_count,"is-active":e.isActive,"is-highlighted":e.isHighlighted,"has-context-menu":!0,"is-context-menu-active":e.isContextMenuActive,class:"py-1 rounded-md sidebar-tag",onDragover:e.onDragOver,onDragleave:e.onDragLeave,onDrop:e.onDrop},{icon:L((()=>[z(a)])),contextMenu:L((()=>[$("div",{class:B([e.tag.stars_count&&"absolute top-0 right-0"])},[z(h,{as:"div",class:"relative"},{default:L((({open:n})=>[z(s,{value:n,onChange:t[0]||(t[0]=t=>e.isContextMenuActive=!!t)},null,8,["value"]),z(c,{class:B(["top-0 right-0 w-5 h-5 text-gray-300 transition-opacity opacity-0 hover:text-gray-200 group-hover:opacity-100",[n&&"opacity-100"]])},{default:L((()=>[z(l)])),_:2},1032,["class"]),z(K,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:L((()=>[z(p,{class:"absolute z-20 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg w-28 right-2 sm:right-0 ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:L((()=>[$("div",yf,[z(d,null,{default:L((({active:n})=>[$("button",{class:B([n?"bg-indigo-50 text-indigo-700":"text-gray-700","group-scope flex items-center p-2 text-xs w-full font-semibold"]),onClick:t[1]||(t[1]=J((t=>e.showRenameTagDialog(e.tag)),["stop"]))},[z(u,{class:"w-4 h-4 mr-1 text-gray-400 group-scope-hover:text-indigo-500","aria-hidden":"true"}),bf],2)])),_:1}),z(d,null,{default:L((({active:n})=>[$("button",{class:B([n?"bg-indigo-50 text-indigo-700":"text-gray-700","group-scope flex items-center p-2 text-xs w-full font-semibold"]),onClick:t[2]||(t[2]=J(((...t)=>e.deleteTag&&e.deleteTag(...t)),["stop"]))},[z(f,{class:"w-4 h-4 mr-1 text-gray-400 group-scope-hover:text-indigo-500","aria-hidden":"true"}),wf],2)])),_:1})])])),_:1})])),_:1})])),_:1})],2)])),_:1},8,["title","count","is-active","is-highlighted","is-context-menu-active","onDragover","onDragleave","onDrop"])}]]);const Sf={setup:e=>(e,t)=>(j(),P(p(Jd)))},kf={setup:e=>(e,t)=>(j(),P(p(Gd)))},Of={},Cf={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-numeric-up-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-sort-numeric-up-alt fa-w-14 fa-3x"},Mf=[$("path",{fill:"currentColor",d:"M107.31 36.69a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31zM400 416h-16V304a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 352h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM330.17 34.91a79 79 0 0 0-55 54.17c-14.27 51.05 21.19 97.77 68.83 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.77 86.25-61.61 86.25-132V112c-.02-51.21-48.4-91.34-101.85-77.09zM352 132a20 20 0 1 1 20-20 20 20 0 0 1-20 20z",class:""},null,-1)];var Ef=mf(Of,[["render",function(e,t){return j(),G("svg",Cf,Mf)}]]);const Tf={},_f={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-numeric-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-sort-numeric-down fa-w-14 fa-3x"},Af=[$("path",{fill:"currentColor",d:"M304 96h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-16V48a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 96zm26.15 162.91a79 79 0 0 0-55 54.17c-14.25 51.05 21.21 97.77 68.85 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.76 86.25-61.61 86.25-132V336c-.02-51.21-48.4-91.34-101.85-77.09zM352 356a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm-176-4h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352z",class:""},null,-1)];var Df=mf(Tf,[["render",function(e,t){return j(),G("svg",_f,Af)}]]);const If=$("span",{class:"text-xs tracking-wider uppercase"},"Sort",-1),Nf={class:"py-1"},Rf=$("span",null,"Alphabetical (A-Z)",-1),jf=$("span",null,"Alphabetical (Z-A)",-1),Pf=$("span",null,"Most Stars",-1),zf=$("span",null,"Fewest Stars",-1);const Lf=k({components:{draggable:Fc,SidebarGroup:rf,SidebarItem:of,SidebarTag:xf,SortTagsMenu:k({emits:["sortTags"],setup:(e,{emit:t})=>(e,n)=>(j(),P(p(ld),{as:"div",class:"relative"},{default:L((({open:e})=>[z(p(cd),{class:B(["inline-flex items-center text-gray-400 transition-colors hover:text-gray-200",{"text-gray-50":e}])},{default:L((()=>[If,z(p(Xd),{class:"w-4 h-4 ml-1"})])),_:2},1032,["class"]),z(K,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:L((()=>[z(p(ud),{class:"absolute z-20 w-40 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg right-2 sm:right-0 ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:L((()=>[$("div",Nf,[z(p(dd),null,{default:L((({active:e})=>[$("button",{type:"button",class:B([e?"bg-indigo-50 text-indigo-700":"text-gray-700","group flex items-center p-2 text-xs w-full font-semibold"]),onClick:n[0]||(n[0]=e=>t("sortTags","name","asc"))},[z(Sf,{class:"w-4 h-4 mr-1 text-gray-400 group-hover:text-indigo-500","aria-hidden":"true"}),Rf],2)])),_:1}),z(p(dd),null,{default:L((({active:e})=>[$("button",{type:"button",class:B([e?"bg-indigo-50 text-indigo-700":"text-gray-700","group flex items-center p-2 text-xs w-full font-semibold"]),onClick:n[1]||(n[1]=e=>t("sortTags","name","desc"))},[z(kf,{class:"w-4 h-4 mr-1 text-gray-400 group-hover:text-indigo-500","aria-hidden":"true"}),jf],2)])),_:1}),z(p(dd),null,{default:L((({active:e})=>[$("button",{type:"button",class:B([e?"bg-indigo-50 text-indigo-700":"text-gray-700","group flex items-center p-2 text-xs w-full font-semibold"]),onClick:n[2]||(n[2]=e=>t("sortTags","stars_count","desc"))},[z(Ef,{class:"w-4 h-4 mr-1 text-gray-400 group-hover:text-indigo-500","aria-hidden":"true"}),Pf],2)])),_:1}),z(p(dd),null,{default:L((({active:e})=>[$("button",{type:"button",class:B([e?"bg-indigo-50 text-indigo-700":"text-gray-700","group flex items-center p-2 text-xs w-full font-semibold"]),onClick:n[3]||(n[3]=e=>t("sortTags","stars_count","asc"))},[z(Df,{class:"w-4 h-4 mr-1 text-gray-400 group-hover:text-indigo-500","aria-hidden":"true"}),zf],2)])),_:1})])])),_:1})])),_:1})])),_:1}))}),InboxIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})])},StarIcon:uf,PlusCircleIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}},emits:["tag-selected","language-selected","all-stars-selected","untagged-selected"],setup(){const e=we(),t=_a(),n=ua(),{show:r}=us(),o=y(),i=y(""),a=y(!1);return{newTagForm:o,showNewTagForm:()=>{var e;a.value=!0,null==(e=o.value)||e.focus()},isNewTagFormShowing:a,newTag:i,starsFilterStore:e,tagIsSelected:t=>{var n;return t.id===(null==(n=e.selectedTag)?void 0:n.id)},languageIsSelected:t=>t===e.selectedLanguage,doAddTag:async e=>{try{await t.addTag(e),r(`The ${e} tag was added.`),i.value=""}catch(n){r(n,rs.Error)}},onStarsDropped:e=>n.addTagToStars(e.tag.id,e.repoIds),tags:g({get:()=>t.tags,set:e=>{t.tags=e}}),totalRepos:g((()=>n.totalRepos||n.starredRepos.length)),totalUntaggedRepos:g((()=>n.untaggedStars.length)),languages:g((()=>n.languages)),sortTags:t.sortTags,syncTagOrder:t.syncTagOrder}}}),$f={class:"h-full p-4 overflow-y-auto bg-gray-900 dark:bg-gray-800"},Bf={class:"mt-6 space-y-6"},Ff={class:"mt-2 space-y-2",role:"listbox","aria-label":"Stars",tabindex:"0"},Vf={class:"relative flex items-center h-10 mt-2"},Hf=$("span",{class:"ml-2"},"Add a tag...",-1),Uf={class:"mt-2 space-y-2",role:"listbox","aria-label":"Tags",tabindex:"0"},Wf={class:"mt-2 space-y-2",role:"listbox","aria-label":"Languages",tabindex:"0"};var qf=mf(Lf,[["render",function(e,t,n,r,o,i){const a=q("InboxIcon"),s=q("SidebarItem"),l=q("StarIcon"),c=q("SidebarGroup"),u=q("SortTagsMenu"),d=q("PlusCircleIcon"),f=q("SidebarTag"),p=q("draggable");return j(),G("div",$f,[$("div",Bf,[z(c,{title:"Stars"},{default:L((()=>[$("ul",Ff,[z(s,{title:"All Stars","is-active":e.starsFilterStore.isFilteringByAll,count:e.totalRepos,onClick:t[0]||(t[0]=t=>e.$emit("all-stars-selected"))},{icon:L((()=>[z(a)])),_:1},8,["is-active","count"]),z(s,{title:"Untagged Stars","is-active":e.starsFilterStore.isFilteringByUntagged,count:e.totalUntaggedRepos,onClick:t[1]||(t[1]=t=>e.$emit("untagged-selected"))},{icon:L((()=>[z(l)])),_:1},8,["is-active","count"])])])),_:1}),z(c,{title:"Tags",collapsible:"",class:"relative"},{"right-action":L((()=>[e.tags.length>1?(j(),P(u,{key:0,class:"-mt-1",onSortTags:e.sortTags},null,8,["onSortTags"])):F("",!0)])),default:L((()=>[$("div",Vf,[$("button",{class:B(["inline-flex items-center w-full text-sm font-semibold text-gray-700 transition-colors focus:outline-none focus:text-gray-500 hover:text-gray-500",{"pointer-events-none":e.isNewTagFormShowing}]),type:"button",onClick:t[2]||(t[2]=(...t)=>e.showNewTagForm&&e.showNewTagForm(...t))},[z(d,{class:"flex-shrink-0 w-5 h-5","aria-hidden":"true"}),Hf],2),$("form",{class:B(["absolute top-0 left-0 w-full transition-opacity duration-150 opacity-0 pointer-events-none",{"opacity-100 pointer-events-auto":e.isNewTagFormShowing}]),onSubmit:t[5]||(t[5]=J((t=>e.doAddTag(e.newTag)),["prevent"]))},[H($("input",{ref:"newTagForm","onUpdate:modelValue":t[3]||(t[3]=t=>e.newTag=t),type:"text",placeholder:"Enter a tag name...",class:"w-full border-0 rounded-sm focus:ring-2 focus:ring-transparent sm:text-sm",onBlur:t[4]||(t[4]=t=>e.isNewTagFormShowing=!1)},null,544),[[X,e.newTag]])],34)]),$("ul",Uf,[z(p,{modelValue:e.tags,"onUpdate:modelValue":t[6]||(t[6]=t=>e.tags=t),tag:"transition-group","item-key":"id",animation:300,"ghost-class":"tag-ghost",onEnd:e.syncTagOrder},{item:L((({element:t})=>[z(f,{tag:t,"is-active":e.tagIsSelected(t),onStarsDropped:e.onStarsDropped,onClick:n=>e.$emit("tag-selected",t)},null,8,["tag","is-active","onStarsDropped","onClick"])])),_:1},8,["modelValue","onEnd"])])])),_:1}),z(c,{title:"Languages",collapsible:""},{default:L((()=>[$("ul",Wf,[(j(!0),G(Y,null,Q(e.languages,(t=>(j(),P(s,{key:t.name,title:t.name,count:t.count,"is-active":e.languageIsSelected(t.name),onClick:n=>e.$emit("language-selected",t.name)},null,8,["title","count","is-active","onClick"])))),128))])])),_:1})])])}]]),Kf={exports:{}},Jf=Kf.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof Z&&Z;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return o(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof Z&&Z,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function d(e){1!==c.push(e)||r||n()}t.exports=d}).call(this,void 0!==u?u:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}function a(){t(o,r)}var s=h(a);"error"===s.status&&r(s.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function v(e){return e instanceof this?e:i.resolve(new this(o),e)}function m(e){var t=new this(o);return i.reject(t,e)}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(o);++l<n;)u(e[l],l);return c;function u(e,o){function l(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(c,a))}t.resolve(e).then(l,(function(e){r||(r=!0,i.reject(c,e))}))}}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(o);++a<n;)l(e[a]);return s;function l(e){t.resolve(e).then((function(e){r||(r=!0,i.resolve(s,e))}),(function(e){r||(r=!0,i.reject(s,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=v,c.reject=m,c.all=g,c.race=y},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==u?u:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=i();function s(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function u(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function d(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",v=void 0,m={},g=Object.prototype.toString,y="readonly",b="readwrite";function w(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function x(e){return new c((function(t){var n=e.transaction(h,b),r=l([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function S(e){return"boolean"==typeof v?c.resolve(v):x(e).then((function(e){return v=e}))}function k(e){var t=m[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function O(e){var t=m[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function C(e,t){var n=m[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function M(e,t){return new c((function(n,r){if(m[e.name]=m[e.name]||P(),e.db){if(!t)return n(e.db);k(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},n(t),O(e)}}))}function E(e){return M(e,!1)}function T(e){return M(e,!0)}function _(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function A(e){return new c((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function D(e){return l([w(atob(e.data))],{type:e.type})}function I(e){return e&&e.__local_forage_encoded_blob}function N(e){var t=this,n=t._initReady().then((function(){var e=m[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return d(n,e,e),n}function R(e){k(e);for(var t=m[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,_(e)?T(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw C(e,t),t}))}function j(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),T(e)})).then((function(){return R(e).then((function(){j(e,t,n,r-1)}))})).catch(n);n(i)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function z(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=m[n.name];o||(o=P(),m[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=N);var i=[];function a(){return c.resolve()}for(var s=0;s<o.forages.length;s++){var l=o.forages[s];l!==t&&i.push(l._initReady().catch(a))}var u=o.forages.slice(0);return c.all(i).then((function(){return n.db=o.db,E(n)})).then((function(e){return n.db=e,_(n,t._defaultConfig.version)?T(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function L(e,t){var n=this;e=f(e);var r=new c((function(t,r){n.ready().then((function(){j(n._dbInfo,y,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),I(e)&&(e=D(e)),t(e)},a.onerror=function(){r(a.error)}}catch(s){r(s)}}))})).catch(r)}));return u(r,t),r}function $(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){j(n._dbInfo,y,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;I(r)&&(r=D(r));var o=e(r,n.key,s++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(l){r(l)}}))})).catch(r)}));return u(r,t),r}function B(e,t,n){var r=this;e=f(e);var o=new c((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===g.call(t)?S(i.db).then((function(e){return e?t:A(t)})):t})).then((function(t){j(r._dbInfo,b,(function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;o(e)}}catch(c){o(c)}}))})).catch(o)}));return u(o,n),o}function F(e,t){var n=this;e=f(e);var r=new c((function(t,r){n.ready().then((function(){j(n._dbInfo,b,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(s){r(s)}}))})).catch(r)}));return u(r,t),r}function V(e){var t=this,n=new c((function(e,n){t.ready().then((function(){j(t._dbInfo,b,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(a){n(a)}}))})).catch(n)}));return u(n,e),n}function H(e){var t=this,n=new c((function(e,n){t.ready().then((function(){j(t._dbInfo,y,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(a){n(a)}}))})).catch(n)}));return u(n,e),n}function U(e,t){var n=this,r=new c((function(t,r){e<0?t(null):n.ready().then((function(){j(n._dbInfo,y,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,l=a.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(c){r(c)}}))})).catch(r)}));return u(r,t),r}function W(e){var t=this,n=new c((function(e,n){t.ready().then((function(){j(t._dbInfo,y,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(s){n(s)}}))})).catch(n)}));return u(n,e),n}function q(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var i=e.name===n.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):E(e).then((function(t){var n=m[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));r=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;k(e);var r=m[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var s=o[i];s._dbInfo.db=null,s._dbInfo.version=n}return new c((function(t,r){var o=a.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,O(n._dbInfo)}})).catch((function(t){throw(C(e,t)||c.resolve()).catch((function(){})),t}))}})):i.then((function(t){k(e);var n=m[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new c((function(t,n){var r=a.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)O(r[t]._dbInfo)})).catch((function(t){throw(C(e,t)||c.resolve()).catch((function(){})),t}))}))}else r=c.reject("Invalid arguments");return u(r,t),r}var K={_driver:"asyncStorage",_initStorage:z,_support:s(),iterate:$,getItem:L,setItem:B,removeItem:F,clear:V,length:H,key:U,keys:W,dropInstance:q};function J(){return"function"==typeof openDatabase}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,Q="__lfsc__:",Z=Q.length,ee="arbf",te="blob",ne="si08",re="ui08",oe="uic8",ie="si16",ae="si32",se="ur16",le="ui32",ce="fl32",ue="fl64",de=Z+ee.length,fe=Object.prototype.toString;function pe(e){var t,n,r,o,i,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=G.indexOf(e[t]),r=G.indexOf(e[t+1]),o=G.indexOf(e[t+2]),i=G.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c}function he(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=G[n[t]>>2],r+=G[(3&n[t])<<4|n[t+1]>>4],r+=G[(15&n[t+1])<<2|n[t+2]>>6],r+=G[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function ve(e,t){var n="";if(e&&(n=fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===fe.call(e.buffer))){var r,o=Q;e instanceof ArrayBuffer?(r=e,o+=ee):(r=e.buffer,"[object Int8Array]"===n?o+=ne:"[object Uint8Array]"===n?o+=re:"[object Uint8ClampedArray]"===n?o+=oe:"[object Int16Array]"===n?o+=ie:"[object Uint16Array]"===n?o+=se:"[object Int32Array]"===n?o+=ae:"[object Uint32Array]"===n?o+=le:"[object Float32Array]"===n?o+=ce:"[object Float64Array]"===n?o+=ue:t(new Error("Failed to get type for BinaryArray"))),t(o+he(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=X+e.type+"~"+he(this.result);t(Q+te+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),t(null,a)}}function me(e){if(e.substring(0,Z)!==Q)return JSON.parse(e);var t,n=e.substring(de),r=e.substring(Z,de);if(r===te&&Y.test(n)){var o=n.match(Y);t=o[1],n=n.substring(o[0].length)}var i=pe(n);switch(r){case ee:return i;case te:return l([i],{type:t});case ne:return new Int8Array(i);case re:return new Uint8Array(i);case oe:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case se:return new Uint16Array(i);case ae:return new Int32Array(i);case le:return new Uint32Array(i);case ce:return new Float32Array(i);case ue:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var ge={serialize:ve,deserialize:me,stringToBuffer:pe,bufferToString:he};function ye(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function be(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new c((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(o){return r(o)}n.db.transaction((function(o){ye(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=ge,o}function we(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?i(e,a):ye(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function xe(e,t){var n=this;e=f(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){we(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Se(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){we(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var l=i.item(s),c=l.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function ke(e,t,n,r){var o=this;e=f(e);var i=new c((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var s=t,l=o._dbInfo;l.serializer.serialize(t,(function(t,c){c?a(c):l.db.transaction((function(n){we(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(ke.apply(o,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return u(i,n),i}function Oe(e,t,n){return ke.apply(this,[e,t,n,1])}function Ce(e,t){var n=this;e=f(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){we(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Me(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ee(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Te(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){we(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function _e(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ae(e){return new c((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function De(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return u(r=e.name?new c((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ae(r))})).then((function(e){return new c((function(t,n){e.db.transaction((function(r){function o(e){return new c((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,s=e.storeNames.length;a<s;a++)i.push(o(e.storeNames[a]));c.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),t),r}var Ie={_driver:"webSQLStorage",_initStorage:be,_support:J(),iterate:Se,getItem:xe,setItem:Oe,removeItem:Ce,clear:Me,length:Ee,key:Te,keys:_e,dropInstance:De};function Ne(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Re(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function je(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}function Pe(){return!je()||localStorage.length>0}function ze(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=Re(e,t._defaultConfig),Pe()?(t._dbInfo=n,n.serializer=ge,c.resolve()):c.reject()}function Le(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return u(n,e),n}function $e(e,t){var n=this;e=f(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return u(r,t),r}function Be(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(o),a++)))return c}}}));return u(r,t),r}function Fe(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(o){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return u(r,t),r}function Ve(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return u(n,e),n}function He(e){var t=this.keys().then((function(e){return e.length}));return u(t,e),t}function Ue(e,t){var n=this;e=f(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return u(r,t),r}function We(e,t,n){var r=this;e=f(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}}))}))}));return u(o,n),o}function qe(e,t){if(t=p.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return u(r=e.name?new c((function(t){e.storeName?t(Re(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),t),r}var Ke={_driver:"localStorageWrapper",_initStorage:ze,_support:Ne(),iterate:Be,getItem:$e,setItem:We,removeItem:Ue,clear:Le,length:He,key:Fe,keys:Ve,dropInstance:qe},Je=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ge=function(e,t){for(var n=e.length,r=0;r<n;){if(Je(e[r],t))return!0;r++}return!1},Xe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ye={},Qe={},Ze={INDEXEDDB:K,WEBSQL:Ie,LOCALSTORAGE:Ke},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Xe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=new(function(){function e(t){for(var n in o(this,e),Ze)if(Ze.hasOwnProperty(n)){var r=Ze[n],i=r._driver;this[n]=i,Ye[i]||this.defineDriver(r)}this._defaultConfig=it({},rt),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=nt.concat("_initStorage"),a=0,s=i.length;a<s;a++){var l=i[a];if((!Ge(tt,l)||e[l])&&"function"!=typeof e[l])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];e[o]||(e[o]=t(o))}}();var d=function(n){Ye[r]&&console.info("Redefining LocalForage driver: "+r),Ye[r]=e,Qe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(f){n(f)}}));return d(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ye[e]?c.resolve(Ye[e]):c.reject(new Error("Driver not found."));return d(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve(ge);return d(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return d(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Xe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var s=new Error("No available storage method found.");return r._driverSet=c.reject(s),r._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=l.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=s(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet})),d(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Qe[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)ot(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=at},{3:3}]},{},[4])(4);Jf.config({name:"Astral",storeName:"astral_local_store"});const Gf=async(e,t)=>{let n=null;return f((()=>e[t]),(async e=>{await Jf.setItem(t,JSON.parse(JSON.stringify(e)))})),n=await Jf.getItem(t),n&&(e[t]=n),Promise.resolve()};let Xf;function Yf(){Yf.init||(Yf.init=!0,Xf=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):-1}())}var Qf={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Yf(),_((()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()}));const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Xf&&this.$el.appendChild(e),e.data="about:blank",Xf||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Xf&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Zf=ne();ee("data-v-b329ee4c");const ep={class:"resize-observer",tabindex:"-1"};te();const tp=Zf(((e,t,n,r,o,i)=>(j(),P("div",ep))));function np(e){return(np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function op(e){return function(e){if(Array.isArray(e))return ip(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ip(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ip(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ap(e,t){if(e===t)return!0;if("object"===np(e)){for(var n in e)if(!ap(e[n],t[n]))return!1;return!0}return!1}Qf.render=tp,Qf.__scopeId="data-v-b329ee4c",Qf.__file="src/components/ResizeObserver.vue";var sp=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,r)}var t,n,r;return t=e,(n=[{key:"createObserver",value:function(e,t){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){var r;if(this.options="function"==typeof(r=e)?{callback:r}:r,this.callback=function(e,t){n.options.callback(e,t),e&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var o=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];if(o=l,!n||a!==r){var u=i.leading;"function"==typeof u&&(u=u(a,r)),n&&a===r||!u||e.apply(void 0,[a].concat(op(o))),r=a,clearTimeout(n),n=setTimeout((function(){e.apply(void 0,[a].concat(op(o))),n=0}),t)}};return a._clear=function(){clearTimeout(n),n=null},a}(this.callback,this.options.throttle,{leading:function(e){return"both"===o||"visible"===o&&e||"hidden"===o&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var r=e.find((function(e){return e.isIntersecting}));r&&(t=r)}if(n.callback){var o=t.isIntersecting&&t.intersectionRatio>=n.threshold;if(o===n.oldResult)return;n.oldResult=o,n.callback(o,t)}}),this.options.intersection),_((function(){n.observer&&n.observer.observe(n.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}])&&rp(t.prototype,n),r&&rp(t,r),e}();function lp(e,t,n){var r=t.value;if(r)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var o=new sp(e,r,n);e._vue_visibilityState=o}}function cp(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var up={beforeMount:lp,updated:function(e,t,n){var r=t.value;if(!ap(r,t.oldValue)){var o=e._vue_visibilityState;r?o?o.createObserver(r,n):lp(e,{value:r},n):cp(e)}},unmounted:cp};var dp=1e3,fp=/(auto|scroll)/;function pp(e,t){return null===e.parentNode?t:pp(e.parentNode,t.concat([e]))}var hp=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},vp=function(e){return fp.test(function(e){return hp(e,"overflow")+hp(e,"overflow-y")+hp(e,"overflow-x")}(e))};function mp(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=pp(e.parentNode,[]),n=0;n<t.length;n+=1)if(vp(t[n]))return t[n];return document.scrollingElement||document.documentElement}}function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yp={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}}};function bp(){return this.items.length&&"object"!==gp(this.items[0])}var wp=!1;if("undefined"!=typeof window){wp=!1;try{var xp=Object.defineProperty({},"passive",{get:function(){wp=!0}});window.addEventListener("test",null,xp)}catch(DT){}}let Sp=0;var kp={name:"RecycleScroller",components:{ResizeObserver:Qf},directives:{ObserveVisibility:up},props:l(s({},yp),{itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1}}),emits:["resize","visible","hidden","update"],data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,r=this.minItemSize;let o,i=1e4,a=0;for(let s=0,l=t.length;s<l;s++)o=t[s][n]||r,o<i&&(i=o),a+=o,e[s]={accumulator:a,size:o};return this.$_computedMinItemSize=i,e}return[]},simpleArray:bp},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){this.applyPageMode(),this.$nextTick((()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0}))},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,n,r,o){const i=re({id:Sp++,index:t,used:!0,key:r,type:o}),a=oe({item:n,position:0,nr:i});return e.push(a),a},unuseView(e,t=!1){const n=this.$_unusedViews,r=e.nr.type;let o=n.get(r);o||(o=[],n.set(r,o)),o.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((()=>{this.$_scrollDirty=!1;const{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))})))},handleVisibilityChange(e,t){this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((()=>{this.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const n=this.itemSize,r=this.$_computedMinItemSize,o=this.typeField,i=this.simpleArray?null:this.keyField,a=this.items,s=a.length,l=this.sizes,c=this.$_views,u=this.$_unusedViews,d=this.pool;let f,p,h,v;if(s)if(this.$_prerender)f=0,p=this.prerender,h=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===n&&t<r||t<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const o=this.buffer;if(e.start-=o,e.end+=o,null===n){let t,n,r=0,o=s-1,i=~~(s/2);do{n=i,t=l[i].accumulator,t<e.start?r=i:i<s-1&&l[i+1].accumulator>e.start&&(o=i),i=~~((r+o)/2)}while(i!==n);for(i<0&&(i=0),f=i,h=l[s-1].accumulator,p=i;p<s&&l[p].accumulator<e.end;p++);-1===p?p=a.length-1:(p++,p>s&&(p=s))}else f=~~(e.start/n),p=Math.ceil(e.end/n),f<0&&(f=0),p>s&&(p=s),h=s*n}else f=p=h=0;p-f>dp&&this.itemsLimitError(),this.totalSize=h;const m=f<=this.$_endIndex&&p>=this.$_startIndex;if(this.$_continuous!==m){if(m){c.clear(),u.clear();for(let e=0,t=d.length;e<t;e++)v=d[e],this.unuseView(v)}this.$_continuous=m}else if(m)for(let S=0,k=d.length;S<k;S++)v=d[S],v.nr.used&&(e&&(v.nr.index=a.findIndex((e=>i?e[i]===v.item[i]:e===v.item))),(-1===v.nr.index||v.nr.index<f||v.nr.index>=p)&&this.unuseView(v));const g=m?null:new Map;let y,b,w,x;for(let S=f;S<p;S++){y=a[S];const e=i?y[i]:y;if(null==e)throw new Error(`Key is ${e} on item (keyField is '${i}')`);v=c.get(e),n||l[S].size?(v?(v.nr.used=!0,v.item=y):(b=y[o],w=u.get(b),m?w&&w.length?(v=w.pop(),v.item=y,v.nr.used=!0,v.nr.index=S,v.nr.key=e,v.nr.type=b):v=this.addView(d,S,y,e,b):(x=g.get(b)||0,(!w||x>=w.length)&&(v=this.addView(d,S,y,e,b),this.unuseView(v,!0),w=u.get(b)),v=w[x],v.item=y,v.nr.used=!0,v.nr.index=S,v.nr.key=e,v.nr.type=b,g.set(b,x+1),x++),c.set(e,v)),v.position=null===n?l[S-1].accumulator:S*n):v&&this.unuseView(v)}return this.$_startIndex=f,this.$_endIndex=p,this.emitUpdate&&this.$emit("update",f,p),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:m}},getListenerTarget(){let e=mp(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,n="vertical"===t;let r;if(this.pageMode){const t=e.getBoundingClientRect(),o=n?t.height:t.width;let i=-(n?t.top:t.left),a=n?window.innerHeight:window.innerWidth;i<0&&(a+=i,i=0),i+a>o&&(a=o-i),r={start:i,end:i+a}}else r=n?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return r},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!wp&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;t=null===this.itemSize?e>0?this.sizes[e-1].accumulator:0:e*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){"vertical"===this.direction?this.$el.scrollTop=e:this.$el.scrollLeft=e},itemsLimitError(){throw setTimeout((()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort(((e,t)=>e.index-t.index))}}};const Op={key:0,class:"vue-recycle-scroller__slot"},Cp={key:1,class:"vue-recycle-scroller__slot"};kp.render=function(e,t,n,r,o,i){const a=q("ResizeObserver"),s=ie("observe-visibility");return H((j(),P("div",{class:["vue-recycle-scroller",{ready:o.ready,"page-mode":n.pageMode,[`direction-${e.direction}`]:!0}],onScrollPassive:t[2]||(t[2]=(...e)=>i.handleScroll&&i.handleScroll(...e))},[e.$slots.before?(j(),P("div",Op,[W(e.$slots,"before")])):F("v-if",!0),z("div",{ref:"wrapper",style:{["vertical"===e.direction?"minHeight":"minWidth"]:o.totalSize+"px"},class:"vue-recycle-scroller__item-wrapper"},[(j(!0),P(Y,null,Q(o.pool,(n=>(j(),P("div",{key:n.nr.id,style:o.ready?{transform:`translate${"vertical"===e.direction?"Y":"X"}(${n.position}px)`}:null,class:["vue-recycle-scroller__item-view",{hover:o.hoverKey===n.nr.key}],onMouseenter:e=>o.hoverKey=n.nr.key,onMouseleave:t[1]||(t[1]=e=>o.hoverKey=null)},[W(e.$slots,"default",{item:n.item,index:n.nr.index,active:n.nr.used})],46,["onMouseenter"])))),128))],4),e.$slots.after?(j(),P("div",Cp,[W(e.$slots,"after")])):F("v-if",!0),z(a,{onNotify:i.handleResize},null,8,["onNotify"])],34)),[[s,i.handleVisibilityChange]])},kp.__file="src/components/RecycleScroller.vue";var Mp={name:"DynamicScroller",components:{RecycleScroller:kp},provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((e=>{for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:l(s({},yp),{minItemSize:{type:[Number,String],required:!0}}),emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:bp,itemsWithSize(){const e=[],{items:t,keyField:n,simpleArray:r}=this,o=this.vscrollData.sizes;for(let i=0;i<t.length;i++){const a=t[i],s=r?i:a[n];let l=o[s];void 0!==l||this.$_undefinedMap[s]||(l=0),e.push({item:a,id:s,size:l})}return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){var e;this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events={all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!0){(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t){const n=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick((()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(t)}))};requestAnimationFrame(t)}))}}};Mp.render=function(e,t,n,r,o,i){const a=q("RecycleScroller");return j(),P(a,ae({ref:"scroller",items:i.itemsWithSize,"min-item-size":n.minItemSize,direction:e.direction,"key-field":"id"},e.$attrs,{onResize:i.onScrollerResize,onVisible:i.onScrollerVisible}),{default:L((({item:t,index:n,active:r})=>[W(e.$slots,"default",{item:t.item,index:n,active:r,itemWithSize:t})])),before:L((()=>[W(e.$slots,"before")])),after:L((()=>[W(e.$slots,"after")])),_:1},16,["items","min-item-size","direction","onResize","onVisible"])},Mp.__file="src/components/DynamicScroller.vue";var Ep={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch((()=>this.sizeDependencies[e]),this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData?this.$_watchData=this.$watch("data",(()=>{this.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick((()=>{if(this.id===e){const e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applySize(e,t)}this.$_pendingSizeUpdate=null}))},applySize(e,t){const n=Math.round("vertical"===this.vscrollParent.direction?t:e);n&&this.size!==n&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=n,this.vscrollData.validSizes[this.id]=!0,this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:n}=e.detail.contentRect;this.applySize(t,n)}},render(){return A(this.tag,this.$slots.default())},__file:"src/components/DynamicScrollerItem.vue"};const Tp=k({components:{DynamicScroller:Mp,DynamicScrollerItem:Ep},setup(){const e=ua(),t=fa(),n=y(!1),r=y(!1);return Gf(e,"starredRepos").then((()=>{n.value=!0})),Gf(e,"pageInfo").then((()=>{r.value=!0})),f([n,r],(async t=>{t.every(Boolean)&&e.pageInfo.hasNextPage&&(await _(),e.fetchStars(e.pageInfo.endCursor))})),e.worker.onmessage=({data:n})=>{const{starredRepositories:r}=n.viewer;e.totalRepos=r.totalCount,e.pageInfo=r.pageInfo,e.starredRepos=e.allStars.concat(r.edges),e.pageInfo.hasNextPage||t.checkForSponsorship()},{filteredRepos:g((()=>e.filteredRepos))}}}),_p={key:1,class:"flex items-center justify-center h-full"},Ap=[$("p",{class:"text-center text-gray-500"},"No results found",-1)];var Dp=mf(Tp,[["render",function(e,t,n,r,o,i){const a=q("DynamicScrollerItem"),s=q("DynamicScroller");return e.filteredRepos.length?(j(),P(s,{key:0,items:e.filteredRepos,"min-item-size":156,"key-field":"cursor",class:"relative flex-grow col-span-1 row-start-2 row-end-3 bg-white sm:col-start-2",role:"listbox","aria-label":"Stars List","aria-multiselectable":"true",tabindex:"0"},{default:L((({item:t,active:n})=>[z(a,{item:t,active:n,class:"relative border-b border-gray-300 dark:border-gray-600"},{default:L((()=>[W(e.$slots,"default",{repo:t})])),_:2},1032,["item","active"])])),_:3},8,["items"])):(j(),G("div",_p,Ap))}]]);const Ip=k({components:{TransitionRoot:Bd}});var Np=function(e,t){var n=t.length,r=e.length;if(r>n)return!1;if(r===n)return e===t;e:for(var o=0,i=0;o<r;o++){for(var a=e.charCodeAt(o);i<n;)if(t.charCodeAt(i++)===a)continue e;return!1}return!0};const Rp=k({components:{TransitionFade:mf(Ip,[["render",function(e,t,n,r,o,i){const a=q("TransitionRoot");return j(),P(a,{enter:"transition-opacity","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity","leave-from":"opacity-100","leave-to":"opacity-0"},{default:L((()=>[W(e.$slots,"default")])),_:3})}]])},inheritAttrs:!1,props:{source:{type:Array,default:()=>[]},search:{type:String,default:""}},emits:["select","show","hide"],setup(e,{emit:t}){const n=y(-1),r=y(!1),o=g((()=>e.search.trim().length<2?[]:e.source.filter((t=>Np(e.search.toLowerCase(),t.toLowerCase()))).slice(0,5))),i=g((()=>!!o.value.length)),a=g((()=>r.value&&i.value));f(o,((e,t)=>{(!e.length&&t.length||e.length&&!t.length)&&(n.value=0)})),f(i,(e=>{r.value=e,t(e?"show":"hide")})),f((()=>e.search),(()=>r.value=!0));const s=()=>{t("select",o.value[n.value])};return Ba("ArrowDown",(e=>{r.value&&(e.preventDefault(),n.value=Math.min(o.value.length-1,n.value+1))})),Ba("ArrowUp",(e=>{r.value&&(e.preventDefault(),n.value=Math.max(0,n.value-1))})),Ba("Enter",(e=>{r.value&&(e.preventDefault(),s())})),Ba("Escape",(()=>r.value=!1)),{currentIndex:n,visibleItems:o,shouldShow:a,selectActiveItem:s}}}),jp=["hidden"],Pp=["aria-selected","onMouseenter"],zp={class:"sr-only",role:"status","aria-live":"assertive","aria-atomic":"true",hidden:""};const Lp=k({components:{AutocompleteMenu:mf(Rp,[["render",function(e,t,n,r,o,i){const a=q("TransitionFade");return j(),P(N,{to:"body"},[z(a,{show:e.shouldShow,as:"div"},{default:L((()=>[H($("ul",ae({class:"absolute z-50 py-1 min-w-[150px] bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg",role:"combobox"},e.$attrs,{hidden:!e.shouldShow}),[(j(!0),G(Y,null,Q(e.visibleItems,((n,r)=>(j(),G("li",{key:n,role:"option","aria-selected":r===e.currentIndex,class:"cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.selectActiveItem&&e.selectActiveItem(...t)),onMouseenter:t=>e.currentIndex=r,onMouseleave:t[1]||(t[1]=t=>e.currentIndex=-1),onMousedown:t[2]||(t[2]=J((()=>{}),["prevent"]))},[$("div",{class:B(["w-full px-4 py-2 text-xs",{"text-gray-700 font-medium":r!==e.currentIndex,"bg-brand-500 text-white font-semibold":r===e.currentIndex}])},V(n),3)],40,Pp)))),128))],16,jp),[[U,e.shouldShow]]),$("span",zp,V(e.visibleItems.length)+" "+V(1===e.visibleItems.length?"result":"results")+" found ",1)])),_:1},8,["show"])])}]]),XIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[z("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])}},props:{tags:{type:Array,default:()=>[]}},emits:["change","blur"],setup(e,{emit:t}){const n=_a(),r=y(""),o=y(null),i=y(e.tags.map((e=>({name:e.name}))));let a=m({top:0,left:0,height:20});const s=y(!1),l=g((()=>n.tags.map((e=>e.name)).filter((e=>!i.value.map((e=>e.name)).includes(e)))));var c,u;c=()=>{Fa(o,(e=>{const{x:t,y:n}=e[0].target.getBoundingClientRect();a.top=n,a.left=t}))},f(o,((e,t,n)=>{e&&c(e,t,n)}),u);const d=g((()=>!(e.tags.length===i.value.length&&e.tags.map((e=>e.name)).every((e=>i.value.map((e=>e.name)).includes(e)))))),p=e=>{var t,n;e&&(n=e,!i.value.map((e=>{var t;return null==(t=e.name)?void 0:t.toLowerCase()})).includes(null==n?void 0:n.toLowerCase()))&&(i.value.push({name:e}),r.value="",null==(t=o.value)||t.focus())};return _((()=>{var e;null==(e=o.value)||e.focus()})),{allTags:g((()=>n.tags)),mutableTags:i,tagText:r,addTagFromInput:()=>{p(r.value.trim())},addTagWithName:p,deleteLastTag:e=>{r.value||(e.preventDefault(),i.value.pop())},deleteTagAtIndex:e=>{var t;i.value.splice(e,1),null==(t=o.value)||t.focus()},onBlur:()=>{d.value?t("change",i):t("blur")},onEnter:()=>{var e;s.value||null==(e=o.value)||e.blur()},input:o,inputRect:a,autocompleteShowing:s,autocompleteOptions:l}}}),$p={class:"relative flex flex-wrap items-center w-full"},Bp=["aria-label","onClick"],Fp={class:"relative flex-grow mx-1 mb-2 leading-none isolate",style:{"flex-basis":"82px"}};const Vp=k({components:{TagsEditor:mf(Lp,[["render",function(e,t,n,r,o,i){const a=q("XIcon"),s=q("AutocompleteMenu");return j(),G("div",{class:"flex items-center px-1 pt-2 pb-0 bg-white border border-gray-300 rounded-md shadow-sm ring-2 ring-transparent cursor-text focus-within:border-indigo-500 focus-within:ring-indigo-100",onClick:t[9]||(t[9]=J((()=>{}),["stop"]))},[$("ul",$p,[(j(!0),G(Y,null,Q(e.mutableTags,((n,r)=>(j(),G("li",{key:n.name,class:"text-indigo-800 bg-indigo-100 px-2 py-0.5 mx-1 mb-2 rounded-sm text-xs font-semibold tracking-wide flex items-center"},[$("span",null,V(n.name),1),$("button",{class:"pl-1 cursor-pointer delete-star-tag","aria-label":`Delete tag ${n.name}`,onMousedown:t[0]||(t[0]=J((()=>{}),["prevent"])),onClick:J((t=>e.deleteTagAtIndex(r)),["stop"])},[z(a,{class:"w-3 h-3 fill-current"})],40,Bp)])))),128)),$("li",Fp,[H($("input",{ref:"input","onUpdate:modelValue":t[1]||(t[1]=t=>e.tagText=t),type:"text",class:"w-full min-w-0 p-0 text-base leading-none bg-transparent border-0 sm:text-sm focus:outline-none focus:border-0 focus:ring-0",placeholder:"Add a tag...",role:"combobox","aria-activedescendant":"tags_autocomplete_list",autocomplete:"off","aria-owns":"tags_autocomplete_list",onKeydown:[t[2]||(t[2]=se(J(((...t)=>e.addTagFromInput&&e.addTagFromInput(...t)),["prevent"]),[","])),t[3]||(t[3]=se(((...t)=>e.deleteLastTag&&e.deleteLastTag(...t)),["delete"])),t[5]||(t[5]=se(((...t)=>e.onEnter&&e.onEnter(...t)),["enter"]))],onBlur:t[4]||(t[4]=(...t)=>e.onBlur&&e.onBlur(...t))},null,544),[[X,e.tagText]]),z(s,{id:"tags_autocomplete_list",style:le({left:e.inputRect.left+"px",top:e.inputRect.top+e.inputRect.height+"px"}),source:e.autocompleteOptions,search:e.tagText,onSelect:t[6]||(t[6]=t=>e.addTagWithName(t)),onShow:t[7]||(t[7]=t=>e.autocompleteShowing=!0),onHide:t[8]||(t[8]=t=>e.autocompleteShowing=!1)},null,8,["style","source","search"])])])])}]]),StarIcon:uf,ShareIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})])}},props:{repo:{type:Object,required:!0}},emits:["selected","tag-selected","language-selected"],setup(e){const t=da(),n=ua(),r=g((()=>{var t;return(null==(t=n.userStarsByRepoId[e.repo.node.databaseId])?void 0:t.tags)||[]})),o=g((()=>{var e;return!!(null==(e=t.user)?void 0:e.settings.show_language_tags)})),i=y(!1),a=g((()=>n.selectedRepos.map((e=>e.databaseId)).includes(e.repo.node.databaseId)));let s;return{tags:r,isSelected:a,onDragStart:t=>{n.isDraggingRepo=!0,n.selectedRepos.length?a.value?n.draggingRepos=[...n.selectedRepos]:n.draggingRepos=[e.repo.node,...n.selectedRepos]:n.draggingRepos=[e.repo.node],s=document.createElement("div"),s.classList.add("star-drag-image","inline-block","bg-white","shadow-md","p-4","font-semibold","rounded-md","text-brand-600","absolute","left-0","z-10"),n.draggingRepos.length>1?s.innerHTML=`<span>${e.repo.node.nameWithOwner} + ${n.draggingRepos.length-1} more</span>`:s.innerHTML=`<span>${e.repo.node.nameWithOwner}</span>`,s.style.top="-999px",document.body.appendChild(s),t.dataTransfer&&(t.dataTransfer.effectAllowed="copyLink",t.dataTransfer.setDragImage(s,0,0))},onDragEnd:()=>{n.isDraggingRepo=!1,n.draggingRepos=[],s&&document.body.removeChild(s)},syncTagsToStar:(e,t)=>{n.syncTagsToStar(e,t.value),i.value=!1},isEditingTags:i,shouldShowLanguageTag:o}}}),Hp=["aria-selected"],Up={class:"font-semibold text-brand-600"},Wp=["title"],qp={key:1,class:"inline-flex flex-wrap items-start mt-4"},Kp=["onClick"],Jp={class:"flex items-center mt-4 space-x-4 text-gray-500 dark:text-gray-400"},Gp={class:"flex items-center"},Xp={class:"ml-1 text-xs font-medium"},Yp={class:"flex items-center"},Qp={class:"ml-1 text-xs font-medium"};var Zp=mf(Vp,[["render",function(e,t,n,r,o,i){var a,s;const l=q("TagsEditor"),c=q("StarIcon"),u=q("ShareIcon");return j(),G("div",{class:B(["relative p-4 bg-white shadow-sm cursor-pointer dark:bg-gray-900 group",{"bg-gray-100 dark:bg-gray-800 shadow-inner":e.isSelected}]),draggable:"true",role:"option","aria-selected":e.isSelected,onDragstart:t[4]||(t[4]=(...t)=>e.onDragStart&&e.onDragStart(...t)),onDragend:t[5]||(t[5]=(...t)=>e.onDragEnd&&e.onDragEnd(...t)),onClick:t[6]||(t[6]=t=>e.$emit("selected",e.repo))},[$("div",{"aria-hidden":"",class:B(["absolute top-0 left-0 w-1 transition-transform transform bg-brand-600 -bottom-px",{"translate-x-0":e.isSelected,"-translate-x-full":!e.isSelected}])},null,2),$("p",Up,V(e.repo.node.nameWithOwner),1),$("p",{class:"mt-2 text-sm text-gray-700 line-clamp-5 dark:text-gray-300",title:e.repo.node.description},V(e.repo.node.description),9,Wp),e.isEditingTags?(j(),P(l,{key:0,tags:e.tags,class:"mt-4",onChange:t[0]||(t[0]=t=>e.syncTagsToStar(e.repo.node.databaseId,t)),onBlur:t[1]||(t[1]=t=>e.isEditingTags=!1)},null,8,["tags"])):F("",!0),e.isEditingTags?F("",!0):(j(),G("ul",qp,[e.shouldShowLanguageTag&&(null==(a=e.repo.node.primaryLanguage)?void 0:a.name)?(j(),G("li",{key:0,class:"text-brand-800 bg-brand-100 dark:bg-brand-800 dark:text-brand-200 px-2 py-0.5 rounded-sm text-xs cursor-pointer font-semibold tracking-wide mr-1 mb-1",role:"button",onClick:t[2]||(t[2]=J((t=>{var n;return e.$emit("language-selected",null==(n=e.repo.node.primaryLanguage)?void 0:n.name)}),["stop"]))},V(e.repo.node.primaryLanguage.name),1)):F("",!0),(j(!0),G(Y,null,Q(e.tags,(t=>(j(),G("li",{key:t.id,class:"text-indigo-800 bg-indigo-100 dark:bg-indigo-800 dark:text-indigo-200 px-2 py-0.5 rounded-sm text-xs cursor-pointer font-semibold tracking-wide mr-1 mb-1",role:"button",onClick:J((n=>e.$emit("tag-selected",t)),["stop"])},V(t.name),9,Kp)))),128)),$("li",{class:B(["transition-opacity text-gray-600 bg-gray-200 dark:bg-gray-600 dark:text-gray-200 px-2 py-0.5 rounded-sm text-xs font-semibold cursor-pointer tracking-wide opacity-0 group-hover:opacity-100",{"opacity-100":!e.tags.length&&!(null==(s=e.repo.node.primaryLanguage)?void 0:s.name)}]),role:"button",onClick:t[3]||(t[3]=J((t=>e.isEditingTags=!0),["stop"]))}," Edit Tags ",2)])),$("div",Jp,[$("div",Gp,[z(c,{class:"w-4 h-4"}),$("span",Xp,V(e.repo.node.stargazers.totalCount),1)]),$("div",Yp,[z(u,{class:"w-4 h-4"}),$("span",Qp,V(e.repo.node.forkCount),1)])])],42,Hp)}]]);var eh=mf(k({props:{size:{type:String,default:"base"},kind:{type:String,default:"base"}},setup:e=>({classesForSizeProp:{sm:"px-2.5 py-1.5 text-xs",base:"px-3 py-2 text-sm",lg:"px-4 py-2 text-sm",xl:"px-4 py-2 text-base"}[e.size],classesForKindProp:{base:"text-gray-700 bg-white border-gray-300 hover:bg-gray-50 focus:ring-brand-500 font-medium",primary:"text-white bg-brand-600 border-transparent hover:bg-brand-700 focus:ring-brand-500 font-semibold",danger:"text-white bg-red-600 border-transparent hover:bg-red-700 focus:ring-red-500 font-semibold"}[e.kind]})}),[["render",function(e,t,n,r,o,i){return j(),G("button",{type:"button",class:B(["inline-flex items-center border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-60",[e.classesForSizeProp,e.classesForKindProp]])},[W(e.$slots,"default")],2)}]]);const th=["type"],nh=k({props:{type:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=function(e,t,n,r={}){var o;const{passive:i=!1,eventName:a,deep:s=!1}=r,l=b(),c=n||(null==l?void 0:l.emit)||(null===(o=null==l?void 0:l.$emit)||void 0===o?void 0:o.bind(l));let u=a;if(t||(t="modelValue"),u=a||u||`update:${t}`,i){const n=y(e[t]);return f((()=>e[t]),(e=>n.value=e)),f(n,(n=>{(n!==e[t]||s)&&c(u,n)}),{deep:s}),n}return g({get:()=>e[t],set(e){c(u,e)}})}(n,"modelValue",t);return(e,t)=>H((j(),G("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ue(r)?r.value=e:null),class:"px-3 py-2 text-base text-gray-600 transition-colors bg-white border border-transparent rounded-md shadow ring-gray-300 ring-1 sm:text-sm focus:border-gray-400 focus:ring-gray-400",type:n.type},null,8,th)),[[ce,p(r)]])}}),rh={class:"flex items-center"},oh=$("label",{for:"repo_clone_url",class:"text-sm font-semibold text-gray-600 cursor-pointer"},"Clone:",-1),ih=de("Clone URL Type"),ah=[$("span",null,"SSH",-1)],sh=[$("span",null,"HTTPS",-1)],lh=k({setup(e){const t=ua(),n=y("ssh"),r=y(null),o=g((()=>{var e,r;return"ssh"===n.value?`git@github.com:${null==(e=t.selectedRepo)?void 0:e.nameWithOwner}.git`:`${null==(r=t.selectedRepo)?void 0:r.url}.git`})),i=e=>{var t;null==(t=null==e?void 0:e.currentTarget)||t.select()};return Ba("c",(e=>{var t;const n=null==(t=r.value)?void 0:t.$el;!ns()&&n&&(e.preventDefault(),n.focus())})),(e,t)=>(j(),G("div",rh,[oh,z(nh,{id:"repo_clone_url",ref:(e,t)=>{t.input=e,r.value=e},modelValue:p(o),"onUpdate:modelValue":t[0]||(t[0]=e=>ue(o)?o.value=e:null),readonly:"",class:"ml-2 w-60",type:"text","aria-keyshortcuts":"c",onFocus:i},null,8,["modelValue"]),z(p(wd),{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),class:"inline-flex items-center ml-2 isolate"},{default:L((()=>[z(p(Od),{class:"sr-only"},{default:L((()=>[ih])),_:1}),z(p(kd),{as:"template",value:"ssh"},{default:L((({checked:e})=>[$("div",{class:B(["relative z-20 px-2 py-1 font-semibold leading-none border rounded-l-full cursor-pointer text-xxs",{"bg-white text-gray-600 border-gray-300":!e,"bg-brand-500 text-white border-brand-700":e}])},ah,2)])),_:1}),z(p(kd),{as:"template",value:"https"},{default:L((({checked:e})=>[$("div",{class:B(["relative px-2 py-1 -mx-px font-semibold leading-none border rounded-r-full cursor-pointer text-xxs",{"bg-white text-gray-600 border-gray-300 z-10":!e,"bg-brand-500 text-white border-brand-700 z-20":e}])},sh,2)])),_:1})])),_:1},8,["modelValue"])]))}}),ch=y(!1),uh=()=>({isOpen:ch,show:()=>{ch.value=!0},hide:()=>{ch.value=!1},redirectToGitHub:()=>{window.location.assign(`/auth/github?scope=${Me.PUBLIC_REPO}`)}}),dh=y(!1),fh=()=>({isOpen:dh,show:()=>dh.value=!0,hide:()=>dh.value=!1,toggle:()=>dh.value=!dh.value}),ph={},hh={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},vh=[$("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},null,-1),$("polyline",{points:"13 2 13 9 20 9"},null,-1)];var mh=mf(ph,[["render",function(e,t){return j(),G("svg",hh,vh)}]]);const gh={},yh={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},bh=[fe('<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',5)];var wh=mf(gh,[["render",function(e,t){return j(),G("svg",yh,bh)}]]);const xh={class:"flex items-center flex-shrink-0 h-16 px-4 border-b border-gray-300 bg-gray-50"},Sh={class:"ml-0.5"},kh=$("span",{class:"ml-1"},"Unstar",-1),Oh={class:"ml-auto"},Ch=k({setup(e){const t=ua(),n=da(),{isOpen:r,toggle:o}=fh(),i=fa(),{show:a}=Za(),{show:s}=uh(),l=g((()=>{var e;return!!(null==(e=t.userStarsByRepoId[t.selectedRepo.databaseId])?void 0:e.notes)})),c=()=>{i.abilities[ke.ADD_NOTES]?o():a(ke.ADD_NOTES)},u=()=>{var e;(null==(e=n.user)?void 0:e.scope)!==Me.PUBLIC_REPO?s():window.confirm(`Are you sure you want to unstar ${t.selectedRepo.nameWithOwner}?`)&&t.removeStar(t.selectedRepo.id)};return Ba("n",(e=>{ns()||(e.preventDefault(),c())})),(e,t)=>(j(),G("div",xh,[z(eh,{size:"sm",onClick:t[0]||(t[0]=e=>c())},{default:L((()=>[(j(),P(pe(p(l)?wh:mh),{class:"h-4 -ml-2"})),$("span",Sh,V(p(r)?"Hide":"Show")+" Notes",1)])),_:1}),z(eh,{size:"sm",class:"ml-2",onClick:u},{default:L((()=>[z(p(uf),{class:"h-4 -ml-1"}),kh])),_:1}),$("div",Oh,[z(lh)])]))}});function Mh(e){this.content=e}Mh.prototype={constructor:Mh,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new Mh(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Mh(n)},addToStart:function(e,t){return new Mh([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Mh(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new Mh(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Mh.from(e)).size?new Mh(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Mh.from(e)).size?new Mh(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Mh.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},Mh.from=function(e){if(e instanceof Mh)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Mh(t)};var Eh=Mh;function Th(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var a=0;o.text[a]==i.text[a];a++)n++;return n}if(o.content.size||i.content.size){var s=Th(o.content,i.content,n+1);if(null!=s)return s}n+=o.nodeSize}else n+=o.nodeSize}}function _h(e,t,n,r){for(var o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var a=e.child(--o),s=t.child(--i),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){for(var c=0,u=Math.min(a.text.length,s.text.length);c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){var d=_h(a.content,s.content,n-1,r-1);if(d)return d}n-=l,r-=l}else n-=l,r-=l}}var Ah=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},Dh={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Ah.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,r+c)}a=l}},Ah.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},Ah.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(o+=a.text.slice(Math.max(e,s)-s,t-s),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},Ah.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new Ah(r,this.size+e.size)},Ah.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,i=0;i<t;o++){var a=this.content[o],s=i+a.nodeSize;s>e&&((i<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),r+=a.nodeSize),i=s}return new Ah(n,r)},Ah.prototype.cutByIndex=function(e,t){return e==t?Ah.empty:0==e&&t==this.content.length?this:new Ah(this.content.slice(e,t))},Ah.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Ah(r,o)},Ah.prototype.addToStart=function(e){return new Ah([e].concat(this.content),this.size+e.nodeSize)},Ah.prototype.addToEnd=function(e){return new Ah(this.content.concat(e),this.size+e.nodeSize)},Ah.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},Dh.firstChild.get=function(){return this.content.length?this.content[0]:null},Dh.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Dh.childCount.get=function(){return this.content.length},Ah.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},Ah.prototype.maybeChild=function(e){return this.content[e]},Ah.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},Ah.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),Th(this,e,t)},Ah.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),_h(this,e,t,n)},Ah.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return Nh(0,e);if(e==this.size)return Nh(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?Nh(n+1,o):Nh(n,r);r=o}},Ah.prototype.toString=function(){return"<"+this.toStringInner()+">"},Ah.prototype.toStringInner=function(){return this.content.join(", ")},Ah.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},Ah.fromJSON=function(e,t){if(!t)return Ah.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ah(t.map(e.nodeFromJSON))},Ah.fromArray=function(e){if(!e.length)return Ah.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Ah(t||e,n)},Ah.from=function(e){if(!e)return Ah.empty;if(e instanceof Ah)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ah([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Ah.prototype,Dh);var Ih={index:0,offset:0};function Nh(e,t){return Ih.index=e,Ih.offset=t,Ih}function Rh(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!Rh(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!Rh(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}Ah.empty=new Ah([],0);var jh=function(e,t){this.type=e,this.attrs=t};function Ph(e){var t=Error.call(this,e);return t.__proto__=Ph.prototype,t}jh.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},jh.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},jh.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},jh.prototype.eq=function(e){return this==e||this.type==e.type&&Rh(this.attrs,e.attrs)},jh.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},jh.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},jh.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},jh.setFrom=function(e){if(!e||0==e.length)return jh.none;if(e instanceof jh)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},jh.none=[],Ph.prototype=Object.create(Error.prototype),Ph.prototype.constructor=Ph,Ph.prototype.name="ReplaceError";var zh=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},Lh={size:{configurable:!0}};function $h(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),s=e.findIndex(n),l=s.index,c=s.offset;if(i==t||a.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy($h(a.content,t-i-1,n-i-1)))}function Bh(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,s=e.maybeChild(i);if(a==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=Bh(s.content,t-a-1,n);return l&&e.replaceChild(i,s.copy(l))}function Fh(e,t,n){if(n.openStart>e.depth)throw new Ph("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Ph("Inconsistent open depths");return Vh(e,t,n,0)}function Vh(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var a=Vh(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var s=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(Ah.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return Kh(i,Jh(e,s.start,s.end,t,r))}var l=e.parent,c=l.content;return Kh(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}return Kh(i,Gh(e,t,r))}function Hh(e,t){if(!t.type.compatibleContent(e.type))throw new Ph("Cannot join "+t.type.name+" onto "+e.type.name)}function Uh(e,t,n){var r=e.node(n);return Hh(r,t.node(n)),r}function Wh(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function qh(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Wh(e.nodeAfter,r),i++));for(var s=i;s<a;s++)Wh(o.child(s),r);t&&t.depth==n&&t.textOffset&&Wh(t.nodeBefore,r)}function Kh(e,t){if(!e.type.validContent(t))throw new Ph("Invalid content for node "+e.type.name);return e.copy(t)}function Jh(e,t,n,r,o){var i=e.depth>o&&Uh(e,t,o+1),a=r.depth>o&&Uh(n,r,o+1),s=[];return qh(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(Hh(i,a),Wh(Kh(i,Jh(e,t,n,r,o+1)),s)):(i&&Wh(Kh(i,Gh(e,t,o+1)),s),qh(t,n,o,s),a&&Wh(Kh(a,Gh(n,r,o+1)),s)),qh(r,null,o,s),new Ah(s)}function Gh(e,t,n){var r=[];(qh(null,e,n,r),e.depth>n)&&Wh(Kh(Uh(e,t,n+1),Gh(e,t,n+1)),r);return qh(t,null,n,r),new Ah(r)}Lh.size.get=function(){return this.content.size-this.openStart-this.openEnd},zh.prototype.insertAt=function(e,t){var n=Bh(this.content,e+this.openStart,t,null);return n&&new zh(n,this.openStart,this.openEnd)},zh.prototype.removeBetween=function(e,t){return new zh($h(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},zh.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},zh.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},zh.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},zh.fromJSON=function(e,t){if(!t)return zh.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new zh(Ah.fromJSON(e,t.content),n,r)},zh.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new zh(e,n,r)},Object.defineProperties(zh.prototype,Lh),zh.empty=new zh(Ah.empty,0,0);var Xh=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},Yh={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Xh.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},Yh.parent.get=function(){return this.node(this.depth)},Yh.doc.get=function(){return this.node(0)},Xh.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},Xh.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},Xh.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},Xh.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},Xh.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},Xh.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},Xh.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},Yh.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Yh.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},Yh.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},Xh.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},Xh.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return jh.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},Xh.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},Xh.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},Xh.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new tv(this,e,n)},Xh.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},Xh.prototype.max=function(e){return e.pos>this.pos?e:this},Xh.prototype.min=function(e){return e.pos<this.pos?e:this},Xh.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},Xh.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(i,s,r+l),!c)break;if((i=i.child(s)).isText)break;o=c-1,r+=l+1}return new Xh(t,n,o)},Xh.resolveCached=function(e,t){for(var n=0;n<Qh.length;n++){var r=Qh[n];if(r.pos==t&&r.doc==e)return r}var o=Qh[Zh]=Xh.resolve(e,t);return Zh=(Zh+1)%ev,o},Object.defineProperties(Xh.prototype,Yh);var Qh=[],Zh=0,ev=12,tv=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},nv={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};nv.start.get=function(){return this.$from.before(this.depth+1)},nv.end.get=function(){return this.$to.after(this.depth+1)},nv.parent.get=function(){return this.$from.node(this.depth)},nv.startIndex.get=function(){return this.$from.index(this.depth)},nv.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(tv.prototype,nv);var rv=Object.create(null),ov=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||Ah.empty,this.marks=r||jh.none},iv={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};iv.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},iv.childCount.get=function(){return this.content.childCount},ov.prototype.child=function(e){return this.content.child(e)},ov.prototype.maybeChild=function(e){return this.content.maybeChild(e)},ov.prototype.forEach=function(e){this.content.forEach(e)},ov.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},ov.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},iv.textContent.get=function(){return this.textBetween(0,this.content.size,"")},ov.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},iv.firstChild.get=function(){return this.content.firstChild},iv.lastChild.get=function(){return this.content.lastChild},ov.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},ov.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},ov.prototype.hasMarkup=function(e,t,n){return this.type==e&&Rh(this.attrs,t||e.defaultAttrs||rv)&&jh.sameSet(this.marks,n||jh.none)},ov.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},ov.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},ov.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},ov.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return zh.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new zh(s,r.depth-i,o.depth-i)},ov.prototype.replace=function(e,t,n){return Fh(this.resolve(e),this.resolve(t),n)},ov.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},ov.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},ov.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},ov.prototype.resolve=function(e){return Xh.resolveCached(this,e)},ov.prototype.resolveNoCache=function(e){return Xh.resolve(this,e)},ov.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},iv.isBlock.get=function(){return this.type.isBlock},iv.isTextblock.get=function(){return this.type.isTextblock},iv.inlineContent.get=function(){return this.type.inlineContent},iv.isInline.get=function(){return this.type.isInline},iv.isText.get=function(){return this.type.isText},iv.isLeaf.get=function(){return this.type.isLeaf},iv.isAtom.get=function(){return this.type.isAtom},ov.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),sv(this.marks,e)},ov.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},ov.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=Ah.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},ov.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},ov.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},ov.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=jh.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!jh.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},ov.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},ov.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=Ah.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(ov.prototype,iv);var av=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):sv(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(ov);function sv(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var lv=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},cv={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};lv.parse=function(e,t){var n=new uv(e,t);if(null==n.next)return lv.empty;var r=fv(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return n(yv(e,0));function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];yv(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new lv(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(gv);i.next.push(o[a],t[s.join(",")]||n(s))}return i}}(function(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"==e.type)for(var a=0;;a++){var s=i(e.exprs[a],t);if(a==e.exprs.length-1)return s;o(s,t=n())}else{if("star"==e.type){var l=n();return r(t,l),o(i(e.expr,l),l),[r(l)]}if("plus"==e.type){var c=n();return o(i(e.expr,t),c),o(i(e.expr,c),c),[r(c)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var u=t,d=0;d<e.min;d++){var f=n();o(i(e.expr,u),f),u=f}if(-1==e.max)o(i(e.expr,u),u);else for(var p=e.min;p<e.max;p++){var h=n();r(u,h),o(i(e.expr,u),h),u=h}return[r(u)]}if("name"==e.type)return[r(t,null,e.value)]}}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},lv.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},lv.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},cv.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},cv.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},lv.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},lv.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(i,a){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return Ah.from(a.map((function(e){return e.createAndFill()})));for(var l=0;l<i.next.length;l+=2){var c=i.next[l],u=i.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(u)){r.push(u);var d=o(u,a.concat(c));if(d)return d}}}(this,[])},lv.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},lv.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}},cv.edgeCount.get=function(){return this.next.length>>1},lv.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},lv.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(lv.prototype,cv),lv.empty=new lv(!0);var uv=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},dv={next:{configurable:!0}};function fv(e){var t=[];do{t.push(pv(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function pv(e){var t=[];do{t.push(hv(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function hv(e){for(var t=function(e){if(e.eat("(")){var t=fv(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=mv(e,t)}return t}function vv(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function mv(e,t){var n=vv(e),r=n;return e.eat(",")&&(r="}"!=e.next?vv(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function gv(e,t){return t-e}function yv(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(gv)}function bv(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function wv(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function xv(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new Ov(e[n]);return t}dv.next.get=function(){return this.tokens[this.pos]},uv.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},uv.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(uv.prototype,dv);var Sv=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=xv(n.attrs),this.defaultAttrs=bv(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},kv={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};kv.isInline.get=function(){return!this.isBlock},kv.isTextblock.get=function(){return this.isBlock&&this.inlineContent},kv.isLeaf.get=function(){return this.contentMatch==lv.empty},kv.isAtom.get=function(){return this.isLeaf||this.spec.atom},Sv.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},Sv.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},Sv.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:wv(this.attrs,e)},Sv.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ov(this,this.computeAttrs(e),Ah.from(t),jh.setFrom(n))},Sv.prototype.createChecked=function(e,t,n){if(t=Ah.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new ov(this,this.computeAttrs(e),t,jh.setFrom(n))},Sv.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=Ah.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(Ah.empty,!0);return o?new ov(this,e,t.append(o),jh.setFrom(n)):null},Sv.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},Sv.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},Sv.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},Sv.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:jh.empty:e},Sv.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new Sv(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Sv.prototype,kv);var Ov=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Cv={isRequired:{configurable:!0}};Cv.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(Ov.prototype,Cv);var Mv=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=xv(r.attrs),this.rank=t,this.excluded=null;var o=bv(this.attrs);this.instance=o&&new jh(this,o)};Mv.prototype.create=function(e){return!e&&this.instance?this.instance:new jh(this,wv(this.attrs,e))},Mv.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new Mv(e,r++,t,o)})),n},Mv.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},Mv.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Mv.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Ev=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=Eh.from(e.nodes),this.spec.marks=Eh.from(e.marks),this.nodes=Sv.compile(this.spec.nodes,this),this.marks=Mv.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",a=o.spec.marks;o.contentMatch=n[i]||(n[i]=lv.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?Tv(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(var s in this.marks){var l=this.marks[s],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:Tv(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Tv(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var s in e.marks){var l=e.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}Ev.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Sv))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},Ev.prototype.text=function(e,t){var n=this.nodes.text;return new av(n,n.defaultAttrs,e,jh.setFrom(t))},Ev.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Ev.prototype.nodeFromJSON=function(e){return ov.fromJSON(this,e)},Ev.prototype.markFromJSON=function(e){return jh.fromJSON(this,e)},Ev.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var _v=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};_v.prototype.parse=function(e,t){void 0===t&&(t={});var n=new jv(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},_v.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new jv(this,t,!0);return n.addAll(e,null,t.from,t.to),zh.maxOpen(n.finish())},_v.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(zv(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},_v.prototype.matchStyle=function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a}return i}}},_v.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=Lv(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=Lv(e)),e.node=a}));return t},_v.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new _v(e,_v.schemaRules(e)))};var Av={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Dv={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Iv={ol:!0,ul:!0};function Nv(e){return(e?1:0)|("full"===e?2:0)}var Rv=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=jh.none,this.pendingMarks=r,this.stashMarks=[]};Rv.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(Ah.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},Rv.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=Ah.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ah.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Rv.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},Rv.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):$v(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},Rv.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Av.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var jv=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=Nv(t.preserveWhitespace)|(n?4:0);r=o?new Rv(o.type,o.attrs,jh.none,jh.none,!0,t.topMatch||o.type.contentMatch,i):new Rv(n?null:e.schema.topNodeType,null,jh.none,jh.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},Pv={top:{configurable:!0},currentPos:{configurable:!0}};function zv(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Lv(e){var t={};for(var n in e)t[n]=e[n];return t}function $v(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,s=r.next;if(o==t)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}Pv.top.get=function(){return this.nodes[this.open]},jv.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},jv.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},jv.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();Iv.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&Iv.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:Dv.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,s=this.needsBlock;if(Av.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=s}else this.addElementByRule(e,o,!1===o.consuming?n:null)},jv.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},jv.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},jv.prototype.readStyles=function(e){var t=jh.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t},jv.prototype.addElementByRule=function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var l=t.contentElement;"string"==typeof l?l=e.querySelector(l):"function"==typeof l&&(l=l(e)),l||(l=e),this.findAround(e,l,!0),this.addAll(l,r)}r&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s)},jv.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&Av.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},jv.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},jv.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},jv.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},jv.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:Nv(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new Rv(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},jv.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},jv.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},jv.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},Pv.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},jv.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},jv.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},jv.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},jv.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},jv.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,s){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}var c=s>0||0==s&&o?t.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},jv.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},jv.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},jv.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(jv.prototype,Pv);var Bv=function(e,t){this.nodes=e||{},this.marks=t||{}};function Fv(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Vv(e){return e.document||window.document}Bv.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=Vv(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var s=e.marks[a];if(r.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var l=e.marks[a++],c=r.serializeMark(l,e.isInline,t);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNodeInner(e,t))})),n},Bv.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=Bv.renderSpec(Vv(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},Bv.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},Bv.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&Bv.renderSpec(Vv(n),r(e,t))},Bv.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var d=l;d<t.length;d++){var f=t[d];if(0===f){if(d<t.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var p=Bv.renderSpec(e,f,n),h=p.dom,v=p.contentDOM;if(a.appendChild(h),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:a,contentDOM:i}},Bv.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bv(this.nodesFromSchema(e),this.marksFromSchema(e)))},Bv.nodesFromSchema=function(e){var t=Fv(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Bv.marksFromSchema=function(e){return Fv(e.marks)};var Hv=Math.pow(2,16);function Uv(e){return 65535&e}var Wv=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},qv=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};qv.prototype.recover=function(e){var t=0,n=Uv(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/Hv}(e)},qv.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},qv.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},qv.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;var l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(e<=u){var d=s+r+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return d;var f=e==(t<0?s:u)?null:a/3+(e-s)*Hv;return new Wv(d,t<0?e!=s:e!=u,f)}r+=c-l}return n?e+r:new Wv(e+r)},qv.prototype.touches=function(e,t){for(var n=0,r=Uv(t),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var l=this.ranges[a+o];if(e<=s+l&&a==3*r)return!0;n+=this.ranges[a+i]-l}return!1},qv.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}},qv.prototype.invert=function(){return new qv(this.ranges,!this.inverted)},qv.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},qv.offset=function(e){return 0==e?qv.empty:new qv(e<0?[0,-e,0]:[0,0,e])},qv.empty=new qv([]);var Kv=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function Jv(e){var t=Error.call(this,e);return t.__proto__=Jv.prototype,t}Kv.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new Kv(this.maps,this.mirror,e,t)},Kv.prototype.copy=function(){return new Kv(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Kv.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},Kv.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},Kv.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},Kv.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},Kv.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},Kv.prototype.invert=function(){var e=new Kv;return e.appendMappingInverted(this),e},Kv.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},Kv.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Kv.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new Wv(e,r)},Jv.prototype=Object.create(Error.prototype),Jv.prototype.constructor=Jv,Jv.prototype.name="TransformError";var Gv=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Kv},Xv={before:{configurable:!0},docChanged:{configurable:!0}};function Yv(){throw new Error("Override me")}Xv.before.get=function(){return this.docs.length?this.docs[0]:this.doc},Gv.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new Jv(t.failed);return this},Gv.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},Xv.docChanged.get=function(){return this.steps.length>0},Gv.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(Gv.prototype,Xv);var Qv=Object.create(null),Zv=function(){};Zv.prototype.apply=function(e){return Yv()},Zv.prototype.getMap=function(){return qv.empty},Zv.prototype.invert=function(e){return Yv()},Zv.prototype.map=function(e){return Yv()},Zv.prototype.merge=function(e){return null},Zv.prototype.toJSON=function(){return Yv()},Zv.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Qv[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},Zv.jsonID=function(e,t){if(e in Qv)throw new RangeError("Duplicate use of step JSON ID "+e);return Qv[e]=t,t.prototype.jsonID=e,t};var em=function(e,t){this.doc=e,this.failed=t};em.ok=function(e){return new em(e,null)},em.fail=function(e){return new em(null,e)},em.fromReplace=function(e,t,n,r){try{return em.ok(e.replace(t,n,r))}catch(DT){if(DT instanceof Ph)return em.fail(DT.message);throw DT}};var tm=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&rm(e,this.from,this.to)?em.fail("Structure replace would overwrite content"):em.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new qv([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?zh.empty:new zh(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?zh.empty:new zh(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,zh.fromJSON(e,n.slice),!!n.structure)},t}(Zv);Zv.jsonID("replace",tm);var nm=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(rm(e,this.from,this.gapFrom)||rm(e,this.gapTo,this.to)))return em.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return em.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?em.fromReplace(e,this.from,this.to,n):em.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new qv([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,zh.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(Zv);function rm(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function om(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function im(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!om(r,o,i))break}}function am(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);if(!s||!s.validEnd)return null;return a}(r,t);return i?o.map(sm).concat({type:t,attrs:n}).concat(i.map(sm)):null}function sm(e){return{type:e,attrs:null}}function lm(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),f=r&&r[l]||c;if(f!=c&&(d=d.replaceChild(0,f.type.create(f.attrs))),!c.canReplace(u+1,c.childCount)||!f.type.validContent(d))return!1}var p=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(p,p,h?h.type:o.node(i+1).type)}function cm(e,t){var n,r,o=e.resolve(t),i=o.index();return n=o.nodeBefore,r=o.nodeAfter,n&&r&&!n.isLeaf&&n.canAppend(r)&&o.parent.canReplace(i,i+1)}function um(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),u=r.node(s),d=!1;if(1==a)d=u.canReplace(c,c,o);else{var f=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function dm(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(dm(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return Ah.fromArray(r)}Zv.jsonID("replaceAround",nm),Gv.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,i=n.before(o+1),a=r.after(o+1),s=i,l=a,c=Ah.empty,u=0,d=o,f=!1;d>t;d--)f||n.index(d)>0?(f=!0,c=Ah.from(n.node(d).copy(c)),u++):s--;for(var p=Ah.empty,h=0,v=o,m=!1;v>t;v--)m||r.after(v+1)<r.end(v)?(m=!0,p=Ah.from(r.node(v).copy(p)),h++):l++;return this.step(new nm(s,l,i,a,new zh(c.append(p),u,h),c.size-u,!0))},Gv.prototype.wrap=function(e,t){for(var n=Ah.empty,r=t.length-1;r>=0;r--)n=Ah.from(t[r].type.create(t[r].attrs,n));var o=e.start,i=e.end;return this.step(new nm(o,i,o,i,new zh(n,0,0),t.length,!0))},Gv.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(t),n)){o.clearIncompatible(o.mapping.slice(i).map(t,1),n);var a=o.mapping.slice(i),s=a.map(t,1),l=a.map(t+e.nodeSize,1);return o.step(new nm(s,l,s+1,l-1,new zh(Ah.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},Gv.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var i=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,i);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new nm(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new zh(Ah.from(i),0,0),1,!0))},Gv.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=Ah.empty,i=Ah.empty,a=r.depth,s=r.depth-t,l=t-1;a>s;a--,l--){o=Ah.from(r.node(a).copy(o));var c=n&&n[l];i=Ah.from(c?c.type.create(c.attrs,i):r.node(a).copy(i))}return this.step(new tm(e,e,new zh(o.append(i),t,t),!0))},Gv.prototype.join=function(e,t){void 0===t&&(t=1);var n=new tm(e-t,e+t,zh.empty,!0);return this.step(n)};var fm=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new zh(dm(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return em.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new pm(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Zv);Zv.jsonID("addMark",fm);var pm=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new zh(dm(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return em.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new fm(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Zv);function hm(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Zv.jsonID("removeMark",pm),Gv.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,e),f=Math.min(l+r.nodeSize,t),p=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(p)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=f:o.push(a=new pm(d,f,u[h])));s&&s.to==d?s.to=f:i.push(s=new fm(d,f,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},Gv.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(e,t,(function(r,a){if(r.isInline){i++;var s=null;if(n instanceof Mv)for(var l,c=r.marks;l=n.isInSet(c);)(s||(s=[])).push(l),c=l.removeFromSet(c);else n?n.isInSet(r.marks)&&(s=[n]):s=r.marks;if(s&&s.length)for(var u=Math.min(a+r.nodeSize,t),d=0;d<s.length;d++){for(var f=s[d],p=void 0,h=0;h<o.length;h++){var v=o[h];v.step==i-1&&f.eq(o[h].style)&&(p=v)}p?(p.to=u,p.step=i):o.push({style:f,from:Math.max(a,e),to:u,step:i})}}})),o.forEach((function(e){return r.step(new pm(e.from,e.to,e.style))})),this},Gv.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],i=e+1,a=0;a<r.childCount;a++){var s=r.child(a),l=i+s.nodeSize,c=n.matchType(s.type,s.attrs);if(c){n=c;for(var u=0;u<s.marks.length;u++)t.allowsMarkType(s.marks[u].type)||this.step(new pm(i,l,s.marks[u]))}else o.push(new tm(i,l,zh.empty));i=l}if(!n.validEnd){var d=n.fillBefore(Ah.empty,!0);this.replace(i,i,new zh(d,0,0))}for(var f=o.length-1;f>=0;f--)this.step(o[f]);return this},Gv.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=zh.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=zh.empty),t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return hm(o,i,r)?new tm(t,n,r):new vm(o,i,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},Gv.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new zh(Ah.from(n),0,0))},Gv.prototype.delete=function(e,t){return this.replace(e,t,zh.empty)},Gv.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var vm=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}this.placed=Ah.empty;for(var i=e.depth;i>0;i--)this.placed=Ah.from(e.node(i).copy(this.placed))},mm={depth:{configurable:!0}};function gm(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(gm(e.firstChild.content,t-1,n)))}function ym(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ym(e.lastChild.content,t-1,n)))}function bm(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function wm(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,wm(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ah.empty,!0)))),e.copy(r)}function xm(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function Sm(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(Sm(i.content,t+1,n,r,i)))}if(t>r){var a=o.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(Ah.empty,!0))}return e}function km(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}mm.depth.get=function(){return this.frontier.length-1},vm.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new zh(i,a,s);return t>-1?new nm(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new tm(r.pos,o.pos,l):void 0},vm.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=bm(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],a=i.type,s=i.match,l=void 0,c=void 0;if(1==e&&(r?s.matchType(r.type)||(c=s.fillBefore(Ah.from(r),!1)):a.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:o,parent:n,inject:c};if(2==e&&r&&(l=s.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:o,parent:n,wrap:l};if(n&&s.matchType(n.type))break}},vm.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=bm(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new zh(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)},vm.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=bm(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new zh(gm(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new zh(gm(t,n,1),n,r)},vm.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var s=this.unplaced,l=r?r.content:s.content,c=s.openStart-t,u=0,d=[],f=this.frontier[n],p=f.match,h=f.type;if(o){for(var v=0;v<o.childCount;v++)d.push(o.child(v));p=p.matchFragment(o)}for(var m=l.size+t-(s.content.size-s.openEnd);u<l.childCount;){var g=l.child(u),y=p.matchType(g.type);if(!y)break;(++u>1||0==c||g.content.size)&&(p=y,d.push(wm(g.mark(h.allowedMarks(g.marks)),1==u?c:0,u==l.childCount?m:-1)))}var b=u==l.childCount;b||(m=-1),this.placed=ym(this.placed,n,Ah.from(d)),this.frontier[n].match=p,b&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,x=l;w<m;w++){var S=x.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),x=S.content}this.unplaced=b?0==t?zh.empty:new zh(gm(s.content,t-1,1),t-1,m<0?s.openEnd:t-1):new zh(gm(s.content,t,u),s.openStart,s.openEnd)},vm.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!xm(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},vm.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=xm(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=xm(e,s,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},vm.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ym(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},vm.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=ym(this.placed,this.depth,Ah.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},vm.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(Ah.empty,!0);e.childCount&&(this.placed=ym(this.placed,this.frontier.length,e))},Object.defineProperties(vm.prototype,mm),Gv.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(hm(r,o,n))return this.step(new tm(e,t,n));var i=km(r,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var a=-(r.depth+1);i.unshift(a);for(var s=r.depth,l=r.pos-1;s>0;s--,l--){var c=r.node(s).type.spec;if(c.defining||c.isolating)break;i.indexOf(s)>-1?a=s:r.before(s)==l&&i.splice(1,0,-s)}for(var u=i.indexOf(a),d=[],f=n.openStart,p=n.content,h=0;;h++){var v=p.firstChild;if(d.push(v),h==n.openStart)break;p=v.content}f>0&&d[f-1].type.spec.defining&&r.node(u).type!=d[f-1].type?f-=1:f>=2&&d[f-1].isTextblock&&d[f-2].type.spec.defining&&r.node(u).type!=d[f-2].type&&(f-=2);for(var m=n.openStart;m>=0;m--){var g=(m+f+1)%(n.openStart+1),y=d[g];if(y)for(var b=0;b<i.length;b++){var w=i[(b+u)%i.length],x=!0;w<0&&(x=!1,w=-w);var S=r.node(w-1),k=r.index(w-1);if(S.canReplaceWith(k,k,y.type,y.marks))return this.replace(r.before(w),x?o.after(w):t,new zh(Sm(n.content,0,n.openStart,g),g,n.openEnd))}}for(var O=this.steps.length,C=i.length-1;C>=0&&(this.replace(e,t,n),!(this.steps.length>O));C--){var M=i[C];M<0||(e=r.before(M),t=o.after(M))}return this},Gv.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new zh(Ah.from(n),0,0))},Gv.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=km(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var Om=Object.create(null),Cm=function(e,t,n){this.ranges=n||[new Em(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},Mm={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Mm.anchor.get=function(){return this.$anchor.pos},Mm.head.get=function(){return this.$head.pos},Mm.from.get=function(){return this.$from.pos},Mm.to.get=function(){return this.$to.pos},Mm.$from.get=function(){return this.ranges[0].$from},Mm.$to.get=function(){return this.ranges[0].$to},Mm.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},Cm.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Cm.prototype.replace=function(e,t){void 0===t&&(t=zh.empty);for(var n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var i=e.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,u=l.$to,d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),s?zh.empty:t),0==s&&jm(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},Cm.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=e.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),jm(e,n,t.isInline?-1:1))}},Cm.findFrom=function(e,t,n){var r=e.parent.inlineContent?new Tm(e):Rm(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?Rm(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):Rm(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},Cm.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new Im(e.node(0))},Cm.atStart=function(e){return Rm(e,e,0,0,1)||new Im(e)},Cm.atEnd=function(e){return Rm(e,e,e.content.size,e.childCount,-1)||new Im(e)},Cm.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Om[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},Cm.jsonID=function(e,t){if(e in Om)throw new RangeError("Duplicate use of selection JSON ID "+e);return Om[e]=t,t.prototype.jsonID=e,t},Cm.prototype.getBookmark=function(){return Tm.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Cm.prototype,Mm),Cm.prototype.visible=!0;var Em=function(e,t){this.$from=e,this.$to=t},Tm=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=zh.empty),e.prototype.replace.call(this,t,n),n==zh.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new _m(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(Cm);Cm.jsonID("text",Tm);var _m=function(e,t){this.anchor=e,this.head=t};_m.prototype.map=function(e){return new _m(e.map(this.anchor),e.map(this.head))},_m.prototype.resolve=function(e){return Tm.between(e.resolve(this.anchor),e.resolve(this.head))};var Am=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new zh(Ah.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new Dm(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(Cm);Am.prototype.visible=!1,Cm.jsonID("node",Am);var Dm=function(e){this.anchor=e};Dm.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new _m(r,r):new Dm(r)},Dm.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Am.isSelectable(n)?new Am(t):Cm.near(t)};var Im=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=zh.empty),n==zh.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return Nm},t}(Cm);Cm.jsonID("all",Im);var Nm={map:function(){return this},resolve:function(e){return new Im(e)}};function Rm(e,t,n,r,o,i){if(t.inlineContent)return Tm.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&Am.isSelectable(s))return Am.create(e,n-(o<0?s.nodeSize:0))}else{var l=Rm(e,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}}function jm(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o,i=e.steps[r];if(i instanceof tm||i instanceof nm)e.mapping.maps[r].forEach((function(e,t,n,r){null==o&&(o=r)})),e.setSelection(Cm.near(e.doc.resolve(o),n))}}var Pm=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return jh.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||jh.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(Cm.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(Gv);function zm(e,t){return t&&e?e.bind(t):e}var Lm=function(e,t,n){this.name=e,this.init=zm(t.init,n),this.apply=zm(t.apply,n)},$m=[new Lm("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Lm("selection",{init:function(e,t){return e.selection||Cm.atStart(t.doc)},apply:function(e){return e.selection}}),new Lm("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Lm("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],Bm=function(e,t){var n=this;this.schema=e,this.fields=$m.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new Lm(e.key,e.spec.state,e))}))},Fm=function(e){this.config=e},Vm={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Vm.schema.get=function(){return this.config.schema},Vm.plugins.get=function(){return this.config.plugins},Fm.prototype.apply=function(e){return this.applyTransaction(e).state},Fm.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},Fm.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},Fm.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new Fm(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<Hm.length;i++)Hm[i](this,e,t);return t},Vm.tr.get=function(){return new Pm(this)},Fm.create=function(e){for(var t=new Bm(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Fm(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},Fm.prototype.reconfigure=function(e){for(var t=new Bm(this.schema,e.plugins),n=t.fields,r=new Fm(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},Fm.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},Fm.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new Bm(e.schema,e.plugins),o=new Fm(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=ov.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=Cm.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var i in n){var a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}})),o},Fm.addApplyListener=function(e){Hm.push(e)},Fm.removeApplyListener=function(e){var t=Hm.indexOf(e);t>-1&&Hm.splice(t,1)},Object.defineProperties(Fm.prototype,Vm);var Hm=[];function Um(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=Um(o,t,{})),n[r]=o}return n}var Wm=function(e){this.props={},e.props&&Um(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:Km("plugin")};Wm.prototype.getState=function(e){return e[this.key]};var qm=Object.create(null);function Km(e){return e in qm?e+"$"+ ++qm[e]:(qm[e]=0,e+"$")}var Jm=function(e){void 0===e&&(e="key"),this.key=Km(e)};function Gm(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function Xm(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=Zm(r);if(!o){var i=r.blockRange(),a=i&&im(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}var s=o.nodeBefore;if(!s.type.spec.isolating&&cg(e,o,t))return!0;if(0==r.parent.content.size&&(Ym(s,"end")||Am.isSelectable(s))){if(t){var l=e.tr.deleteRange(r.before(),r.after());l.setSelection(Ym(s,"end")?Cm.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Am.create(l.doc,o.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)}function Ym(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function Qm(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=Zm(o)}var a=i&&i.nodeBefore;return!(!a||!Am.isSelectable(a))&&(t&&t(e.tr.setSelection(Am.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)}function Zm(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function eg(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=ng(r);if(!o)return!1;var i=o.nodeAfter;if(cg(e,o,t))return!0;if(0==r.parent.content.size&&(Ym(i,"start")||Am.isSelectable(i))){if(t){var a=e.tr.deleteRange(r.before(),r.after());a.setSelection(Ym(i,"start")?Cm.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Am.create(a.doc,a.mapping.map(o.pos))),t(a.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}function tg(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=ng(o)}var a=i&&i.nodeAfter;return!(!a||!Am.isSelectable(a))&&(t&&t(e.tr.setSelection(Am.create(e.doc,i.pos)).scrollIntoView()),!0)}function ng(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function rg(e,t){var n=e.selection,r=n.$from,o=n.$to,i=r.blockRange(o),a=i&&im(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}function og(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function ig(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ag(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),s=ig(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,s.createAndFill());c.setSelection(Cm.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0}function sg(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof Im||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=ig(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(a,i.createAndFill());s.setSelection(Tm.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}function lg(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(lm(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&im(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}function cg(e,t,n){var r,o,i=t.nodeBefore,a=t.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!o.isTextblock&&!cm(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var s=t.parent.canReplace(t.index(),t.index()+1);if(s&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var l=t.pos+a.nodeSize,c=Ah.empty,u=r.length-1;u>=0;u--)c=Ah.from(r[u].create(null,c));c=Ah.from(i.copy(c));var d=e.tr.step(new nm(t.pos-1,l,t.pos,l,new zh(c,1,0),r.length,!0)),f=l+2*r.length;cm(d.doc,f)&&d.join(f),n(d.scrollIntoView())}return!0}var p=Cm.findFrom(t,1),h=p&&p.$from.blockRange(p.$to),v=h&&im(h);if(null!=v&&v>=t.depth)return n&&n(e.tr.lift(h,v).scrollIntoView()),!0;if(s&&Ym(a,"start",!0)&&Ym(i,"end")){for(var m=i,g=[];g.push(m),!m.isTextblock;)m=m.lastChild;for(var y=a,b=1;!y.isTextblock;y=y.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){for(var w=Ah.empty,x=g.length-1;x>=0;x--)w=Ah.from(g[x].copy(w));n(e.tr.step(new nm(t.pos-g.length,t.pos+a.nodeSize,t.pos+b,t.pos+a.nodeSize-b,new zh(w,g.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function ug(e,t){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),l=s&&am(s,e,t);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}function dg(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}Jm.prototype.get=function(e){return e.config.pluginsByKey[this.key]},Jm.prototype.getState=function(e){return e[this.key]};var fg=dg(Gm,Xm,Qm),pg=dg(Gm,eg,tg),hg={Enter:dg(og,sg,lg,(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof Am&&e.selection.node.isBlock)return!(!r.parentOffset||!lm(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;(e.selection instanceof Tm||e.selection instanceof Im)&&a.deleteSelection();var s=0==r.depth?null:ig(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&s?[{type:s}]:null,c=lm(a.doc,a.mapping.map(r.pos),1,l);if(l||c||!lm(a.doc,a.mapping.map(r.pos),1,s&&[{type:s}])||(l=[{type:s}],c=!0),c&&(a.split(a.mapping.map(r.pos),1,l),!i&&!r.parentOffset&&r.parent.type!=s)){var u=a.mapping.map(r.before()),d=a.doc.resolve(u);r.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&a.setNodeMarkup(a.mapping.map(r.before()),s)}t(a.scrollIntoView())}return!0})),"Mod-Enter":ag,Backspace:fg,"Mod-Backspace":fg,Delete:pg,"Mod-Delete":pg,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new Im(e.doc))),!0}},vg={"Ctrl-h":hg.Backspace,"Alt-Backspace":hg["Mod-Backspace"],"Ctrl-d":hg.Delete,"Ctrl-Alt-Backspace":hg["Mod-Delete"],"Alt-Delete":hg["Mod-Delete"],"Alt-d":hg["Mod-Delete"]};for(var mg in hg)vg[mg]=hg[mg];function gg(e,t){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),l=!1,c=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;var u=n.doc.resolve(s.start-2);c=new tv(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new tv(i,n.doc.resolve(a.end(s.depth)),s.depth)),l=!0}var d=am(c,e,t,s);return!!d&&(r&&r(function(e,t,n,r,o){for(var i=Ah.empty,a=n.length-1;a>=0;a--)i=Ah.from(n[a].type.create(n[a].attrs,i));e.step(new nm(t.start-(r?2:0),t.end,t.start,t.end,new zh(i,0,0),n.length,!0));for(var s=0,l=0;l<n.length;l++)n[l].type==o&&(s=l+1);for(var c=n.length-s,u=t.start+n.length-(r?2:0),d=t.parent,f=t.startIndex,p=t.endIndex,h=!0;f<p;f++,h=!1)!h&&lm(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=d.child(f).nodeSize;return e}(n.tr,s,d,l,e).scrollIntoView()),!0)}}function yg(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(t){return t.childCount&&t.firstChild.type==e}));return!!a&&(!n||(o.node(a.depth-1).type==e?function(e,t,n,r){var o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new nm(i-1,a,i,a,new zh(Ah.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new tv(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));return t(o.lift(r,im(r)).scrollIntoView()),!0}(t,n,e,a):function(e,t,n){for(var r=e.tr,o=n.parent,i=n.end,a=n.endIndex-1,s=n.startIndex;a>s;a--)i-=o.child(a).nodeSize,r.delete(i-1,i+1);var l=r.doc.resolve(n.start),c=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;var u=0==n.startIndex,d=n.endIndex==o.childCount,f=l.node(-1),p=l.index(-1);if(!f.canReplace(p+(u?0:1),p+1,c.content.append(d?Ah.empty:Ah.from(o))))return!1;var h=l.pos,v=h+c.nodeSize;return r.step(new nm(h-(u?1:0),v+(d?1:0),h+1,v-1,new zh((u?Ah.empty:Ah.from(o.copy(Ah.empty))).append(d?Ah.empty:Ah.from(o.copy(Ah.empty))),u?0:1,d?0:1),u?0:1)),t(r.scrollIntoView()),!0}(t,n,a)))}}"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var bg=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function wg(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"")+r,c=0;c<o.length;c++){var u=o[c].match.exec(l),d=u&&o[c].handler(a,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(i,{transform:d,from:t,to:n,text:r})),!0}return!1}var xg=new bg(/--$/,""),Sg=new bg(/\.\.\.$/,""),kg=new bg(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),Og=new bg(/"$/,""),Cg=new bg(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),Mg=new bg(/'$/,"");function Eg(e,t,n,r){return new bg(e,(function(e,o,i,a){var s=n instanceof Function?n(o):n,l=e.tr.delete(i,a),c=l.doc.resolve(i).blockRange(),u=c&&am(c,t,s);if(!u)return null;l.wrap(c,u);var d=l.doc.resolve(i-1).nodeBefore;return d&&d.type==t&&cm(l.doc,i-1)&&(!r||r(o,d))&&l.join(i-1),l}))}function Tg(e,t,n){return new bg(e,(function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null}))}var _g={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Ag=/Edge\/(\d+)/.exec(navigator.userAgent),Dg=/MSIE \d/.test(navigator.userAgent),Ig=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);_g.mac=/Mac/.test(navigator.platform);var Ng=_g.ie=!!(Dg||Ig||Ag);_g.ie_version=Dg?document.documentMode||6:Ig?+Ig[1]:Ag?+Ag[1]:null,_g.gecko=!Ng&&/gecko\/(\d+)/i.test(navigator.userAgent),_g.gecko_version=_g.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Rg=!Ng&&/Chrome\/(\d+)/.exec(navigator.userAgent);_g.chrome=!!Rg,_g.chrome_version=Rg&&+Rg[1],_g.safari=!Ng&&/Apple Computer/.test(navigator.vendor),_g.ios=_g.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),_g.android=/Android \d/.test(navigator.userAgent),_g.webkit="webkitFontSmoothing"in document.documentElement.style,_g.webkit_version=_g.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var jg=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Pg=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},zg=null,Lg=function(e,t,n){var r=zg||(zg=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},$g=function(e,t,n,r){return n&&(Fg(e,t,n,r,-1)||Fg(e,t,n,r,1))},Bg=/^(img|br|input|textarea|hr)$/i;function Fg(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Vg(e))){var i=e.parentNode;if(1!=i.nodeType||Hg(e)||Bg.test(e.nodeName)||"false"==e.contentEditable)return!1;t=jg(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?Vg(e):0}}}function Vg(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Hg(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var Ug=function(e){var t=e.isCollapsed;return t&&_g.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Wg(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function qg(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Kg(e,t){return"number"==typeof e?e:e[t]}function Jg(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Gg(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=Pg(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,l=s?qg(i):Jg(a),c=0,u=0;if(t.top<l.top+Kg(r,"top")?u=-(l.top-t.top+Kg(o,"top")):t.bottom>l.bottom-Kg(r,"bottom")&&(u=t.bottom-l.bottom+Kg(o,"bottom")),t.left<l.left+Kg(r,"left")?c=-(l.left-t.left+Kg(o,"left")):t.right>l.right-Kg(r,"right")&&(c=t.right-l.right+Kg(o,"right")),c||u)if(s)i.defaultView.scrollBy(c,u);else{var d=a.scrollLeft,f=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var p=a.scrollLeft-d,h=a.scrollTop-f;t={left:t.left-p,top:t.top-h,right:t.right-p,bottom:t.bottom-h}}if(s)break}}function Xg(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=Pg(e));return t}function Yg(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var Qg=null;function Zg(e,t){for(var n,r,o=2e8,i=0,a=t.top,s=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=Lg(l).getClientRects()}for(var d=0;d<u.length;d++){var f=u[d];if(f.top<=a&&f.bottom>=s){a=Math.max(f.bottom,a),s=Math.min(f.top,s);var p=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(p<o){n=l,o=p,r=p&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==l.nodeType&&p&&(i=c+(t.left>=(f.left+f.right)/2?1:0));continue}}!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=ry(r,1);if(i.top!=i.bottom&&ey(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:Zg(n,r)}function ey(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ty(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=e.childNodes[i];if(1==a.nodeType)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(ey(t,c))return ty(a,t,c)}if((i=(i+1)%r)==o)break}return e}function ny(e,t){var n,r,o,i,a=e.root;if(a.caretPositionFromPoint)try{var s=a.caretPositionFromPoint(t.left,t.top);s&&(o=(n=s).offsetNode,i=n.offset)}catch(m){}if(!o&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(t.left,t.top);l&&(o=(r=l).startContainer,i=r.startOffset)}var c,u=a.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var d=e.dom.getBoundingClientRect();if(!ey(t,d))return null;if(!(u=ty(e.dom,t,d)))return null}if(_g.safari)for(var f=u;o&&f;f=Pg(f))f.draggable&&(o=i=null);if(u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),o){if(_g.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var p,h=o.childNodes[i];"IMG"==h.nodeName&&(p=h.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==c&&(c=function(e,t,n){var r=Zg(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,u,t));var v=e.docView.nearestDesc(u,!0);return{pos:c,inside:v?v.posAtStart-v.border:-1}}function ry(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var oy=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iy(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,a=_g.webkit||_g.gecko;if(3==o.nodeType){if(!a||!oy.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var s=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==o.nodeValue.length?(s--,c=1):n<0?s--:l++,ay(ry(Lg(o,s,l),c),c<0)}var u=ry(Lg(o,i,i),n);if(_g.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var d=ry(Lg(o,i-1,i-1),-1);if(d.top==u.top){var f=ry(Lg(o,i,i+1),-1);if(f.top!=u.top)return ay(f,f.left<d.left)}}return u}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==Vg(o))){var p=o.childNodes[i-1];if(1==p.nodeType)return sy(p.getBoundingClientRect(),!1)}if(i<Vg(o)){var h=o.childNodes[i];if(1==h.nodeType)return sy(h.getBoundingClientRect(),!0)}return sy(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==Vg(o))){var v=o.childNodes[i-1],m=3==v.nodeType?Lg(v,Vg(v)-(a?0:1)):1!=v.nodeType||"BR"==v.nodeName&&v.nextSibling?null:v;if(m)return ay(ry(m,1),!1)}if(i<Vg(o)){for(var g=o.childNodes[i];g.pmViewDesc&&g.pmViewDesc.ignoreForCoords;)g=g.nextSibling;var y=g?3==g.nodeType?Lg(g,0,a?0:1):1==g.nodeType?g:null:null;if(y)return ay(ry(y,-1),!0)}return ay(ry(3==o.nodeType?Lg(o):o,-n),n>=0)}function ay(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function sy(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function ly(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var cy=/[\u0590-\u08ac]/;var uy=null,dy=null,fy=!1;function py(e,t,n){return uy==t&&dy==n?fy:(uy=t,dy=n,fy="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return ly(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=iy(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=Lg(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top+1&&("up"==n?i.top-c.top>2*(c.bottom-i.top):c.bottom-i.bottom>2*(i.bottom-c.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=e.root.getSelection();return cy.test(r.parent.textContent)&&s.modify?ly(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?i:a}(e,t,n))}var hy=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},vy={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};hy.prototype.matchesWidget=function(){return!1},hy.prototype.matchesMark=function(){return!1},hy.prototype.matchesNode=function(){return!1},hy.prototype.matchesHack=function(e){return!1},hy.prototype.parseRule=function(){return null},hy.prototype.stopEvent=function(){return!1},vy.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},vy.border.get=function(){return 0},hy.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},hy.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},vy.posBefore.get=function(){return this.parent.posBeforeChild(this)},vy.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},vy.posAfter.get=function(){return this.posBefore+this.size},vy.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},hy.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(e==this.dom&&this.contentDOM)s=t>jg(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},hy.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},hy.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},hy.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},hy.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},hy.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=0;n<this.children.length;n++){var i=this.children[n],a=o+i.size;if(a>e||i instanceof ky){r=e-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(var s=void 0;n&&!(s=this.children[n-1]).size&&s instanceof gy&&s.widget.type.side>=0;n--);if(t<=0){for(var l,c=!0;(l=n?this.children[n-1]:null)&&l.dom.parentNode!=this.contentDOM;n--,c=!1);return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?jg(l.dom)+1:0}}for(var u,d=!0;(u=n<this.children.length?this.children[n]:null)&&u.dom.parentNode!=this.contentDOM;n++,d=!1);return u&&d&&!u.border&&!u.domAtom?u.domFromPos(0,t):{node:this.contentDOM,offset:u?jg(u.dom):this.contentDOM.childNodes.length}},hy.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&e<=l){var c=i+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=jg(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(var f=a+1;f<this.children.length;f++){var p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=jg(p.dom);break}t+=p.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},hy.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},hy.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},hy.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}var u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),f=n.getSelection(),p=!1;if((_g.gecko||_g.safari)&&e==t){var h=u.node,v=u.offset;if(3==h.nodeType){if((p=v&&"\n"==h.nodeValue[v-1])&&v==h.nodeValue.length)for(var m=h,g=void 0;m;m=m.parentNode){if(g=m.nextSibling){"BR"==g.nodeName&&(u=d={node:g.parentNode,offset:jg(g)+1});break}var y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=h.childNodes[v-1];p=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(_g.gecko&&f.focusNode&&f.focusNode!=d.node&&1==f.focusNode.nodeType){var w=f.focusNode.childNodes[f.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||p&&_g.safari||!$g(u.node,u.offset,f.anchorNode,f.anchorOffset)||!$g(d.node,d.offset,f.focusNode,f.focusOffset)){var x=!1;if((f.extend||e==t)&&!p){f.collapse(u.node,u.offset);try{e!=t&&f.extend(d.node,d.offset),x=!0}catch(O){if(!(O instanceof DOMException))throw O}}if(!x){if(e>t){var S=u;u=d,d=S}var k=document.createRange();k.setEnd(d.node,d.offset),k.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(k)}}},hy.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},vy.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},hy.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},hy.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},vy.domAtom.get=function(){return!1},vy.ignoreForCoords.get=function(){return!1},Object.defineProperties(hy.prototype,vy);var my=[],gy=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,my,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(hy),yy=function(e){function t(t,n,r,o){e.call(this,t,my,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(hy),by=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return a&&a.dom||(a=Bv.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Py(i,n,a,r)),e>0&&(i=Py(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(hy),wy=function(e){function t(t,n,r,o,i,a,s,l,c){e.call(this,t,n.isLeaf?my:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,r,o,i,a){var s,l,c=i.nodeViews[n.type.name],u=c&&c(n,i,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),r,o),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(d=(s=Bv.renderSpec(document,n.type.spec.toDOM(n))).dom,f=s.contentDOM);f||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var p=d;return d=Dy(d,r,n),u?l=new Oy(e,n,r,o,d,f,p,u,i,a+1):n.isText?new Sy(e,n,r,o,d,p,i):new t(e,n,r,o,d,f,p,i,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?Ah.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Iy(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,i=e.composing&&this.localCompositionInfo(e,t),a=i&&i.pos>-1?i:null,s=i&&i.pos<0,l=new Ry(this,a&&a.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var l=0,c=[],u=null,d=0;;){if(l<o.length&&o[l].to==i){for(var f=o[l++],p=void 0;l<o.length&&o[l].to==i;)(p||(p=[f])).push(o[l++]);if(p){p.sort(jy);for(var h=0;h<p.length;h++)n(p[h],d,!!u)}else n(f,d,!!u)}var v=void 0,m=void 0;if(u)m=-1,v=u,u=null;else{if(!(d<e.childCount))break;m=d,v=e.child(d++)}for(var g=0;g<c.length;g++)c[g].to<=i&&c.splice(g--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)c.push(o[l++]);var y=i+v.nodeSize;if(v.isText){var b=y;l<o.length&&o[l].from<b&&(b=o[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<y&&(u=v.cut(b-i),v=v.cut(0,b-i),y=b,m=-1)}r(v,c.length?v.isInline&&!v.isLeaf?c.filter((function(e){return!e.inline})):c.slice():my,t.forChild(i,v),m),i=y}}(this.node,this.innerDeco,(function(t,i,a){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&l.syncToMarks(i==n.node.childCount?jh.none:n.node.child(i).marks,r,e),l.placeWidget(t,e,o)}),(function(t,n,a,c){var u;l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,a,c)||s&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(u=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(t,n,a,u,e)||l.updateNextNode(t,n,a,e,c)||l.addNode(t,n,a,e,o),o+=t.nodeSize})),l.syncToMarks(my,r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),Cy(this.contentDOM,this.children,e),_g.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(!(e.state.selection instanceof Tm)||r<t||o>t+this.node.content.size)){var i=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=Vg(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){if(this.node.inlineContent){var s=a.nodeValue,l=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var l=a.text;o<e.childCount;){var c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(t,r-s);if(u>=0&&u+t.length+s>=n)return s+u}}}return-1}(this.node.content,s,r-t,o-t);return l<0?null:{node:a,pos:l,text:s}}return{node:a,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new yy(this,i,n,o);e.compositionNodes.push(a),this.children=Py(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!Iy(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=_y(this.dom,this.nodeDOM,Ty(this.outerDeco,this.node,t),Ty(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(hy);function xy(e,t,n,r,o){return Dy(r,t,e),new wy(null,e,t,n,r,r,r,o,0)}var Sy=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(wy),ky=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}(hy),Oy=function(e){function t(t,n,r,o,i,a,s,l,c,u){e.call(this,t,n,r,o,i,a,s,c,u),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(wy);function Cy(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=Ny(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof by){var l=r?r.previousSibling:e.lastChild;Cy(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=Ny(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}function My(e){e&&(this.nodeName=e)}My.prototype=Object.create(null);var Ey=[new My];function Ty(e,t,n){if(0==e.length)return Ey;for(var r=n?Ey[0]:new My,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var s in a.nodeName&&o.push(r=new My(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==o.length&&o.push(r=new My(t.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return o}function _y(e,t,n,r){if(n==Ey&&r==Ey)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=Ey[0]),o=l}Ay(o,s||Ey[0],a)}return o}function Ay(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):my,a=n.class?n.class.split(" ").filter(Boolean):my,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&e.classList.add(a[l])}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function Dy(e,t,n){return _y(e,e,Ey,Ty(t,n,1!=e.nodeType))}function Iy(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Ny(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Ry=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){for(var n=e.childCount,r=t.length,o=new Map;n>0&&r>0;r--){var i=t[r-1],a=i.node;if(a){if(a!=e.child(n-1))break;--n,o.set(i,n)}}return{index:n,matched:o}}(e.node.content,e.children)};function jy(e,t){return e.type.side-t.type.side}function Py(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function zy(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var s,l,c=r.resolve(a);if(Ug(n)){for(s=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&Am.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(e,t,n){for(var r=0==t,o=t==Vg(e);r||o;){if(e==n)return!0;var i=jg(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==Vg(e)}}(n.focusNode,n.focusOffset,o.dom))){var u=o.posBefore;l=new Am(a==u?c:r.resolve(u))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;s=r.resolve(d)}l||(l=qy(e,s,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1));return l}function Ly(e){return e.editable?e.hasFocus():Ky(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function $y(e,t){var n=e.state.selection;if(Uy(e,n),Ly(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,jg(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&_g.ie&&_g.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var r,o,i=n.anchor,a=n.head;!By||n instanceof Tm||(n.$from.parent.inlineContent||(r=Fy(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Fy(e,n.to))),e.docView.setSelection(i,a,e.root,t),By&&(r&&Hy(r),o&&Hy(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){Ly(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}Ry.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},Ry.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Ry.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=by.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},Ry.prototype.findNodeMatch=function(e,t,n,r){var o=this.top.children,i=-1;if(r>=this.preMatch.index){for(var a=this.index;a<o.length;a++)if(o[a].matchesNode(e,t,n)){i=a;break}}else for(var s=this.index,l=Math.min(o.length,s+1);s<l;s++){var c=o[s];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},Ry.prototype.updateNodeAt=function(e,t,n,r,o){return!!this.top.children[r].update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},Ry.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}},Ry.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof wy){var s=this.preMatch.matched.get(a);if(null!=s&&s!=o)return!1;var l=a.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Iy(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Ry.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,wy.create(this.top,e,t,n,r,o)),this.changed=!0},Ry.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new gy(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},Ry.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof by;)e=e.children[e.children.length-1];e&&e instanceof Sy&&!/\n$/.test(e.node.text)||((_g.safari||_g.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Ry.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),this.top.children.splice(this.index++,0,new ky(this.top,my,t,null)),this.changed=!0}};var By=_g.safari||_g.chrome&&_g.chrome_version<63;function Fy(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(_g.safari&&i&&"false"==i.contentEditable)return Vy(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return Vy(i);if(a)return Vy(a)}}function Vy(e){return e.contentEditable="true",_g.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Hy(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Uy(e,t){if(t instanceof Am){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Wy(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Wy(e)}function Wy(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function qy(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||Tm.between(t,n,r)}function Ky(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Jy(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&Cm.findFrom(a,t)}function Gy(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Xy(e,t,n){var r=e.state.selection;if(!(r instanceof Tm)){if(r instanceof Am&&r.node.isInline)return Gy(e,new Tm(t>0?r.$to:r.$from));var o=Jy(e.state,t);return!!o&&Gy(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=Jy(e.state,t);return!!(i&&i instanceof Am)&&Gy(e,i)}if(!(_g.mac&&n.indexOf("m")>-1)){var a,s=r.$head,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText)return!1;var c=t<0?s.pos-l.nodeSize:s.pos;return!!(l.isAtom||(a=e.docView.descAt(c))&&!a.contentDOM)&&(Am.isSelectable(l)?Gy(e,new Am(t<0?e.state.doc.resolve(s.pos-l.nodeSize):s)):!!_g.webkit&&Gy(e,new Tm(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function Yy(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Qy(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Zy(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(_g.gecko&&1==n.nodeType&&r<Yy(n)&&Qy(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(Qy(s))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(tb(n))break;for(var l=n.previousSibling;l&&Qy(l);)o=n.parentNode,i=jg(l),l=l.previousSibling;if(l)r=Yy(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}a?nb(e,t,n,r):o&&nb(e,t,o,i)}}function eb(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=Yy(n);;)if(r<a){if(1!=n.nodeType)break;if(!Qy(n.childNodes[r]))break;o=n,i=++r}else{if(tb(n))break;for(var s=n.nextSibling;s&&Qy(s);)o=s.parentNode,i=jg(s)+1,s=s.nextSibling;if(s)r=0,a=Yy(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&nb(e,t,o,i)}}function tb(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function nb(e,t,n,r){if(Ug(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&$y(e)}),50)}function rb(e,t,n){var r=e.state.selection;if(r instanceof Tm&&!r.empty||n.indexOf("s")>-1)return!1;if(_g.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=Jy(e.state,t);if(a&&a instanceof Am)return Gy(e,a)}if(!o.parent.inlineContent){var s=t<0?o:i,l=r instanceof Im?Cm.near(s,t):Cm.findFrom(s,t);return!!l&&Gy(e,l)}return!1}function ob(e,t){if(!(e.state.selection instanceof Tm))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function ib(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ab(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||_g.mac&&72==n&&"c"==r?ob(e,-1)||Zy(e):46==n||_g.mac&&68==n&&"c"==r?ob(e,1)||eb(e):13==n||27==n||(37==n?Xy(e,-1,r)||Zy(e):39==n?Xy(e,1,r)||eb(e):38==n?rb(e,-1,r)||Zy(e):40==n?function(e){if(_g.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;ib(e,o,!0),setTimeout((function(){return ib(e,o,!1)}),20)}}}(e)||rb(e,1,r)||eb(e):r==(_g.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function sb(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(_g.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||_g.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function lb(e,t,n,r,o){if(t<0){var i=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=zy(e,i);if(a&&!e.state.selection.eq(a)){var s=e.state.tr.setSelection(a);"pointer"==i?s.setMeta("pointer",!0):"key"==i&&s.scrollIntoView(),e.dispatch(s)}}else{var l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);var u=e.state.selection,d=function(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,i=r.fromOffset,a=r.toOffset,s=r.from,l=r.to,c=e.root.getSelection(),u=null,d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],Ug(c)||u.push({node:c.focusNode,offset:c.focusOffset})),_g.chrome&&8===e.lastKeyCode)for(var f=a;f>i;f--){var p=o.childNodes[f-1],h=p.pmViewDesc;if("BR"==p.nodeName&&!h){a=f;break}if(!h||h.size)break}var v=e.state.doc,m=e.someProp("domParser")||_v.fromSchema(e.state.schema),g=v.resolve(s),y=null,b=m.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:sb,context:g});if(u&&null!=u[0].pos){var w=u[0].pos,x=u[1]&&u[1].pos;null==x&&(x=w),y={anchor:w+s,head:x+s}}return{doc:b,sel:y,from:s,to:l}}(e,t,n);if(_g.chrome&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from){var f=e.cursorWrapper.deco.type.toDOM.nextSibling,p=f&&f.nodeValue?f.nodeValue.length:1;d.sel={anchor:d.sel.anchor+p,head:d.sel.anchor+p}}var h,v,m=e.state.doc,g=m.slice(d.from,d.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(h=e.state.selection.to,v="end"):(h=e.state.selection.from,v="start"),e.lastKeyCode=null;var y=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;if("end"==o){r-=s+Math.max(0,i-Math.min(s,l))-i}if(s<i&&e.size<t.size){l=(i-=r<=i&&r>=s?i-r:0)+(l-s),s=i}else if(l<i){s=(i-=r<=i&&r>=l?i-r:0)+(s-l),l=i}return{start:i,endA:s,endB:l}}(g.content,d.doc.content,d.from,h,v);if(!y){if(!(r&&u instanceof Tm&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if((_g.ios&&e.lastIOSEnter>Date.now()-225||_g.android)&&o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,Wg(13,"Enter"))})))return void(e.lastIOSEnter=0);if(d.sel){var b=cb(e,e.state.doc,d.sel);b&&!b.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(b))}return}y={start:u.from,endA:u.to,endB:u.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof Tm&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),_g.ie&&_g.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>d.from&&" "==d.doc.textBetween(y.start-d.from-1,y.start-d.from+1)&&(y.start--,y.endA--,y.endB--);var w,x=d.doc.resolveNoCache(y.start-d.from),S=d.doc.resolveNoCache(y.endB-d.from),k=x.sameParent(S)&&x.parent.inlineContent;if((_g.ios&&e.lastIOSEnter>Date.now()-225&&(!k||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!k&&x.pos<d.doc.content.size&&(w=Cm.findFrom(d.doc.resolve(x.pos+1),1,!0))&&w.head==S.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,Wg(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||ub(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(ub(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||ub(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(m,y.start,y.endA,x,S)&&e.someProp("handleKeyDown",(function(t){return t(e,Wg(8,"Backspace"))})))_g.android&&_g.chrome&&e.domObserver.suppressSelectionUpdates();else{_g.chrome&&_g.android&&y.toB==y.from&&(e.lastAndroidDelete=Date.now()),_g.android&&!k&&x.start()!=S.start()&&0==S.parentOffset&&x.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==y.endA&&(y.endB-=2,S=d.doc.resolveNoCache(y.endB-d.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,Wg(13,"Enter"))}))}),20));var O,C,M,E,T=y.start,_=y.endA;if(k)if(x.pos==S.pos)_g.ie&&_g.ie_version<=11&&0==x.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return $y(e)}),20)),O=e.state.tr.delete(T,_),C=m.resolve(y.start).marksAcross(m.resolve(y.endA));else if(y.endA==y.endB&&(E=m.resolve(y.start))&&(M=function(e,t){for(var n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a,c=0;c<a.length;c++)s=a[c].removeFromSet(s);for(var u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var d=[],f=0;f<t.childCount;f++)d.push(o(t.child(f)));if(Ah.from(d).eq(e))return{mark:r,type:n}}(x.parent.content.cut(x.parentOffset,S.parentOffset),E.parent.content.cut(E.parentOffset,y.endA-E.start()))))O=e.state.tr,"add"==M.type?O.addMark(T,_,M.mark):O.removeMark(T,_,M.mark);else if(x.parent.child(x.index()).isText&&x.index()==S.index()-(S.textOffset?0:1)){var A=x.parent.textBetween(x.parentOffset,S.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,T,_,A)})))return;O=e.state.tr.insertText(A,T,_)}if(O||(O=e.state.tr.replace(T,_,d.doc.slice(y.start-d.from,y.endB-d.from))),d.sel){var D=cb(e,O.doc,d.sel);D&&!(_g.chrome&&_g.android&&e.composing&&D.empty&&(y.start!=y.endB||e.lastAndroidDelete<Date.now()-100)&&(D.head==T||D.head==O.mapping.map(_)-1)||_g.ie&&D.empty&&D.head==T)&&O.setSelection(D)}C&&O.ensureMarks(C),e.dispatch(O.scrollIntoView())}}}function cb(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:qy(e,t.resolve(n.anchor),t.resolve(n.head))}function ub(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function db(e,t){for(var n=[],r=t.content,o=t.openStart,i=t.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var s=e.someProp("clipboardSerializer")||Bv.fromSchema(e.state.schema),l=bb(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));for(var u,d=c.firstChild;d&&1==d.nodeType&&(u=gb[d.nodeName.toLowerCase()]);){for(var f=u.length-1;f>=0;f--){for(var p=l.createElement(u[f]);c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),"tbody"!=u[f]&&(o++,i++)}d=c.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function fb(e,t,n,r,o){var i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,s||r)})),s)return new zh(Ah.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0);var c=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));if(c)a=c;else{var u=o.marks(),d=e.state.schema,f=Bv.fromSchema(d);i=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){i.appendChild(document.createElement("p")).appendChild(f.serializeNode(d.text(e,u)))}))}}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),i=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=bb().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&gb[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),_g.webkit&&function(e){for(var t=e.querySelectorAll(_g.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);var p=i&&i.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!a){var v=e.someProp("clipboardParser")||e.someProp("domParser")||_v.fromSchema(e.state.schema);a=v.parseSlice(i,{preserveWhitespace:!(!l&&!h),context:o})}return a=h?function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(DT){return e}for(var o=e.content,i=e.openStart,a=e.openEnd,s=n.length-2;s>=0;s-=2){var l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;o=Ah.from(l.create(n[s+1],o)),i++,a++}return new zh(o,i,a)}(function(e,t,n){t<e.openStart&&(e=new zh(mb(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new zh(mb(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(a,+h[1],+h[2]),h[3]):zh.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),o=void 0,i=[];if(e.forEach((function(e){if(i){var t,n=r.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&o.length&&hb(n,o,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=vb(i[i.length-1],o.length));var a=pb(e,n);i.push(a),r=r.matchType(a.type,a.attrs),o=n}}})),i)return{v:Ah.from(i)}},r=t.depth;r>=0;r--){var o=n(r);if(o)return o.v}return e}(a.content,o),!1),e.someProp("transformPasted",(function(e){a=e(a)})),a}function pb(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,Ah.from(e));return e}function hb(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var i=hb(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(Ah.from(pb(n,e,o+1))))}}function vb(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,vb(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ah.empty,!0);return e.copy(n.append(r))}function mb(e,t,n,r,o,i){var a=t<0?e.firstChild:e.lastChild,s=a.content;return o<r-1&&(s=mb(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,e.childCount>1||i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Ah.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}var gb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},yb=null;function bb(){return yb||(yb=document.implementation.createHTMLDocument("title"))}var wb={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xb=_g.ie&&_g.ie_version<=11,Sb=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Sb.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Sb.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var kb=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);_g.ie&&_g.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Sb,xb&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};kb.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},kb.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},kb.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,wb),xb&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},kb.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}xb&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},kb.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},kb.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},kb.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},kb.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Ky(e)){var e;if(this.suppressingSelectionUpdates)return $y(this.view);if(_g.ie&&_g.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&$g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},kb.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},kb.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},kb.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Ky(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,a=[];if(this.view.editable)for(var s=0;s<e.length;s++){var l=this.registerMutation(e[s],a);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(_g.gecko&&a.length>1){var c=a.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var u=c[0],d=c[1];u.parentNode&&u.parentNode.parentNode==d.parentNode?d.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(Ob)return;Ob=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||$y(this.view),this.currentSelection.set(t))}},kb.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(_g.ie&&_g.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var s=e.addedNodes[a],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c)}var u=o&&o.parentNode==e.target?jg(o)+1:0,d=n.localPosFromDOM(e.target,u,-1),f=i&&i.parentNode==e.target?jg(i):e.target.childNodes.length;return{from:d,to:n.localPosFromDOM(e.target,f,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Ob=!1;var Cb={},Mb={};function Eb(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Tb(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return _b(e,t)})}))}function _b(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Ab(e){return{left:e.clientX,top:e.clientY}}function Db(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Ib(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Nb(e,t,n,r,o){return Db(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof Am&&(n=o.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a);if(Am.isSelectable(s)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Ib(e,Am.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Am.isSelectable(r))&&(Ib(e,new Am(n),"pointer"),!0)}(e,n))}function Rb(e,t,n,r){return Db(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function jb(e,t,n,r){return Db(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Ib(e,Tm.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)Ib(e,Tm.create(r,s+1,s+1+a.content.size),"pointer");else{if(!Am.isSelectable(a))continue;Ib(e,Am.create(r,s),"pointer")}return!0}}(e,n,r)}function Pb(e){return Hb(e)}Mb.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!$b(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!_g.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||ab(e,t)?t.preventDefault():Eb(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,Wg(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Mb.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Mb.keypress=function(e,t){if(!($b(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||_g.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof Tm&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var zb=_g.mac?"metaKey":"ctrlKey";Cb.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Pb(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[zb]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(Ab(t));i&&("singleClick"==o?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new Lb(e,i,t,n)):("doubleClick"==o?Rb:jb)(e,i.pos,i.inside,t)?t.preventDefault():Eb(e,"pointer"))};var Lb=function(e,t,n,r){var o,i,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[zb],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{var s=e.state.doc.resolve(t.pos);o=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var l=r?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var u=e.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||u instanceof Am&&u.from<=i&&u.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&_g.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Eb(e,"pointer")};function $b(e,t){return!!e.composing||!!(_g.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}Lb.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return $y(e.view)})),this.view.mouseDown=null},Lb.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ab(e))),this.allowDefault||!t?Eb(this.view,"pointer"):Nb(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||_g.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||_g.chrome&&!(this.view.state.selection instanceof Tm)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ib(this.view,Cm.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Eb(this.view,"pointer")}},Lb.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Eb(this.view,"pointer"),0==e.buttons&&this.done()},Cb.touchdown=function(e){Pb(e),Eb(e,"pointer")},Cb.contextmenu=function(e){return Pb(e)};var Bb=_g.android?5e3:-1;function Fb(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return Hb(e)}),t))}function Vb(e){var t;for(e.composing&&(e.composing=!1,e.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function Hb(e,t){if(e.domObserver.forceFlush(),Vb(e),t||e.docView.dirty){var n=zy(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Mb.compositionstart=Mb.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),Hb(e,!0),e.markCursor=null;else if(Hb(e),_g.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}o=a,i=-1}e.composing=!0}Fb(e,Bb)},Mb.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,Fb(e,20))};var Ub=_g.ie&&_g.ie_version<15||_g.ios&&_g.webkit_version<604;function Wb(e,t,n,r){var o=fb(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,o||zh.empty)})))return!0;if(!o)return!1;var i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),a=i?e.state.tr.replaceSelectionWith(i,e.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Cb.copy=Mb.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=Ub?null:t.clipboardData,i=db(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Mb.paste=function(e,t){var n=Ub?null:t.clipboardData;n&&Wb(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Wb(e,r.value,null,t):Wb(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var qb=function(e,t){this.slice=e,this.move=t},Kb=_g.mac?"altKey":"ctrlKey";for(var Jb in Cb.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,o=r.empty?null:e.posAtCoords(Ab(t));if(o&&o.pos>=r.from&&o.pos<=(r instanceof Am?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(Am.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var i=e.docView.nearestDesc(t.target,!0);i&&i.node.type.spec.draggable&&i!=e.docView&&e.dispatch(e.state.tr.setSelection(Am.create(e.state.doc,i.posBefore)))}var a=e.state.selection.content(),s=db(e,a),l=s.dom,c=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(Ub?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ub||t.dataTransfer.setData("text/plain",c),e.dragging=new qb(a,!t[Kb])}},Cb.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Mb.dragover=Mb.dragenter=function(e,t){return t.preventDefault()},Mb.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(Ab(t));if(r){var o=e.state.doc.resolve(r.pos);if(o){var i=n&&n.slice;i?e.someProp("transformPasted",(function(e){i=e(i)})):i=fb(e,t.dataTransfer.getData(Ub?"Text":"text/plain"),Ub?null:t.dataTransfer.getData("text/html"),!1,o);var a=n&&!t[Kb];if(e.someProp("handleDrop",(function(n){return n(e,t,i||zh.empty,a)})))t.preventDefault();else if(i){t.preventDefault();var s=i?um(e.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var l=e.state.tr;a&&l.deleteSelection();var c=l.mapping.map(s),u=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,d=l.doc;if(u?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i),!l.doc.eq(d)){var f=l.doc.resolve(c);if(u&&Am.isSelectable(i.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new Am(f));else{var p=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((function(e,t,n,r){return p=r})),l.setSelection(qy(e,f,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Cb.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&$y(e)}),20))},Cb.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},Cb.beforeinput=function(e,t){if(_g.chrome&&_g.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,Wg(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Mb)Cb[Jb]=Mb[Jb];function Gb(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var Xb=function(e,t){this.spec=t||nw,this.side=this.spec.side||0,this.toDOM=e};Xb.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Zb(i-n,i-n,this)},Xb.prototype.valid=function(){return!0},Xb.prototype.eq=function(e){return this==e||e instanceof Xb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gb(this.spec,e.spec))};var Yb=function(e,t){this.spec=t||nw,this.attrs=e};Yb.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Zb(o,i,this)},Yb.prototype.valid=function(e,t){return t.from<t.to},Yb.prototype.eq=function(e){return this==e||e instanceof Yb&&Gb(this.attrs,e.attrs)&&Gb(this.spec,e.spec)},Yb.is=function(e){return e.type instanceof Yb};var Qb=function(e,t){this.spec=t||nw,this.attrs=e};Qb.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Zb(o.pos-n,i.pos-n,this)},Qb.prototype.valid=function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to},Qb.prototype.eq=function(e){return this==e||e instanceof Qb&&Gb(this.attrs,e.attrs)&&Gb(this.spec,e.spec)};var Zb=function(e,t,n){this.from=e,this.to=t,this.type=n},ew={spec:{configurable:!0},inline:{configurable:!0}};Zb.prototype.copy=function(e,t){return new Zb(e,t,this.type)},Zb.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Zb.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Zb.widget=function(e,t,n){return new Zb(e,e,new Xb(t,n))},Zb.inline=function(e,t,n,r){return new Zb(e,t,new Yb(n,r))},Zb.node=function(e,t,n,r){return new Zb(e,t,new Qb(n,r))},ew.spec.get=function(){return this.type.spec},ew.inline.get=function(){return this.type instanceof Yb},Object.defineProperties(Zb.prototype,ew);var tw=[],nw={},rw=function(e,t){this.local=e&&e.length?e:tw,this.children=t&&t.length?t:tw};rw.create=function(e,t){return t.length?cw(t,e,0,nw):ow},rw.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},rw.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,r+l,o)}},rw.prototype.map=function(e,t,n){return this==ow||0==e.maps.length?this:this.mapInner(e,t,0,0,n||nw)},rw.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),l=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||e>l+i||(t>=s[a]+i?s[a+1]=-1:n>=o&&(c=r-n-(t-e))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var f=n.map(e[d]+i),p=f-o;if(p<0||p>=r.content.size){u=!0;continue}var h=n.map(e[d+1]+i,-1)-o,v=r.content.findIndex(p),m=v.index,g=v.offset,y=r.maybeChild(m);if(y&&g==p&&g+y.nodeSize==h){var b=s[d+2].mapInner(n,y,f+1,e[d]+i+1,a);b!=ow?(s[d]=p,s[d+1]=h,s[d+2]=b):(s[d+1]=-2,u=!0)}else u=!0}if(u){var w=cw(function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(r,o,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+i+1);return n}(s,e,t||[],n,o,i,a),r,0,a);t=w.local;for(var x=0;x<s.length;x+=3)s[x+1]<0&&(s.splice(x,3),x-=3);for(var S=0,k=0;S<w.children.length;S+=3){for(var O=w.children[S];k<s.length&&s[k]<O;)k+=3;s.splice(k,0,w.children[S],w.children[S+1],w.children[S+2])}}return new rw(t&&t.sort(uw),s)}(this.children,i,e,t,n,r,o):i?new rw(i.sort(uw)):ow},rw.prototype.add=function(e,t){return t.length?this==ow?rw.create(e,t):this.addInner(e,t,0):this},rw.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,l=a+n;if(s=sw(t,e,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,l+1):r.splice(i,0,a,a+e.nodeSize,cw(s,e,l+1,nw)),i+=3}}));for(var a=aw(i?lw(t):t,-n),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new rw(a.length?this.local.concat(a).sort(uw):this.local,r||this.children)},rw.prototype.remove=function(e){return 0==e.length||this==ow?this:this.removeInner(e,0)},rw.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>a&&c.to<s&&(e[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=ow?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,f=void 0;d<e.length;d++)if(f=e[d])for(var p=0;p<r.length;p++)r[p].eq(f,t)&&(r==this.local&&(r=this.local.slice()),r.splice(p--,1));return n==this.children&&r==this.local?this:r.length||n.length?new rw(r,n):ow},rw.prototype.forChild=function(e,t){if(this==ow)return this;if(t.isLeaf)return rw.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof Yb){var c=Math.max(i,l.from)-i,u=Math.min(a,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var d=new rw(r.sort(uw));return n?new iw([d,n]):d}return n||ow},rw.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof rw)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},rw.prototype.locals=function(e){return dw(this.localsInner(e))},rw.prototype.localsInner=function(e){if(this==ow)return tw;if(e.inlineContent||!this.local.some(Yb.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Yb||t.push(this.local[n]);return t};var ow=new rw;rw.empty=ow,rw.removeOverlap=dw;var iw=function(e){this.members=e};function aw(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new Zb(o.from+t,o.to+t,o.type))}return n}function sw(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function lw(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function cw(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=sw(e,t,a+n);if(s){i=!0;var l=cw(s,t,n+a+1,r);l!=ow&&o.push(a,a+t.nodeSize,l)}}));for(var a=aw(i?lw(e):e,-n).sort(uw),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new rw(a,o):ow}function uw(e,t){return e.from-t.from||e.to-t.to}function dw(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),fw(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),fw(t,o+1,i.copy(r.to,i.to)))}}return t}function fw(e,t,n){for(;t<e.length&&uw(n,e[t])>0;)t++;e.splice(t,0,n)}function pw(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=ow&&t.push(r)})),e.cursorWrapper&&t.push(rw.create(e.state.doc,[e.cursorWrapper.deco])),iw.from(t)}iw.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,nw)}));return iw.from(n)},iw.prototype.forChild=function(e,t){if(t.isLeaf)return rw.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=ow&&(o instanceof iw?n=n.concat(o.members):n.push(o))}return iw.from(n)},iw.prototype.eq=function(e){if(!(e instanceof iw)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},iw.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?dw(n?t:t.sort(uw)):tw},iw.from=function(e){switch(e.length){case 0:return ow;case 1:return e[0];default:return new iw(e)}};var hw=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(ww),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=yw(this),this.markCursor=null,this.cursorWrapper=null,gw(this),this.nodeViews=bw(this),this.docView=xy(this.state.doc,mw(this),pw(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new kb(e,(function(t,n,r,o){return lb(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Cb[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||_b(e,t)||!e.editable&&t.type in Mb||n(e,t)})};for(var n in Cb)t(n);_g.safari&&e.dom.addEventListener("input",(function(){return null})),Tb(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},vw={props:{configurable:!0},root:{configurable:!0}};function mw(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[Zb.node(0,e.state.doc.content.size,t)]}function gw(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Zb.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function yw(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function bw(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function ww(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}vw.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},hw.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Tb(this),this._props=e,e.plugins&&(e.plugins.forEach(ww),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},hw.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},hw.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},hw.prototype.updateStateInner=function(e,t){var n=this,r=this.state,o=!1,i=!1;if(e.storedMarks&&this.composing&&(Vb(this),i=!0),this.state=e,t){var a=bw(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(a,this.nodeViews)&&(this.nodeViews=a,o=!0),Tb(this)}this.editable=yw(this),gw(this);var s=pw(this),l=mw(this),c=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(e.doc,l,s);!u&&e.selection.eq(r.selection)||(i=!0);var d,f,p,h,v,m,g,y,b,w,x,S="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:Xg(e.dom)}}(this);if(i){this.domObserver.stop();var k=u&&(_g.ie||_g.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(h=r.selection,v=e.selection,m=Math.min(h.$anchor.sharedDepth(h.head),v.$anchor.sharedDepth(v.head)),h.$anchor.start(m)!=v.$anchor.start(m));if(u){var O=_g.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=xy(e.doc,l,s,this.dom,this)),O&&!this.trackWrites&&(k=!0)}k||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(d=this,f=d.docView.domFromPos(d.state.selection.anchor,0),p=d.root.getSelection(),$g(f.node,f.offset,p.anchorNode,p.anchorOffset)))?$y(this,k):(Uy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var C=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof Am?Gg(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),C):Gg(this,this.coordsAtPos(e.selection.head,1),C))}else S&&(y=(g=S).refDOM,b=g.refTop,w=g.stack,x=y?y.getBoundingClientRect().top:0,Yg(w,0==x?0:x-b))},hw.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},hw.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}},hw.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins;if(a)for(var s=0;s<a.length;s++){var l=a[s].props[e];if(null!=l&&(n=t?t(l):l))return n}},hw.prototype.hasFocus=function(){return this.root.activeElement==this.dom},hw.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Qg)return e.focus(Qg);var t=Xg(e);e.focus(null==Qg?{get preventScroll(){return Qg={preventScroll:!0},!0}}:void 0),Qg||(Qg=!1,Yg(t,0))}(this.dom),$y(this),this.domObserver.start()},vw.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},hw.prototype.posAtCoords=function(e){return ny(this,e)},hw.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),iy(this,e,t)},hw.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},hw.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},hw.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},hw.prototype.endOfTextblock=function(e,t){return py(this,t||this.state,e)},hw.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},hw.prototype.dispatchEvent=function(e){return function(e,t){_b(e,t)||!Cb[t.type]||!e.editable&&t.type in Mb||Cb[t.type](e,t)}(this,e)},hw.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(hw.prototype,vw);for(var xw={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Sw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},kw="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Ow="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Cw="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Mw="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Ew="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Tw=kw&&(Mw||+kw[1]<57)||Cw&&Mw,_w=0;_w<10;_w++)xw[48+_w]=xw[96+_w]=String(_w);for(_w=1;_w<=24;_w++)xw[_w+111]="F"+_w;for(_w=65;_w<=90;_w++)xw[_w]=String.fromCharCode(_w+32),Sw[_w]=String.fromCharCode(_w);for(var Aw in xw)Sw.hasOwnProperty(Aw)||(Sw[Aw]=xw[Aw]);var Dw="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function Iw(e){var t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var l=i[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);Dw?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function Nw(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Rw(e){var t=function(e){var t=Object.create(null);for(var n in e)t[Iw(n)]=e[n];return t}(e);return function(e,n){var r,o=function(e){var t=!(Tw&&(e.ctrlKey||e.altKey||e.metaKey)||(Ow||Ew)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Sw:xw)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=1==o.length&&" "!=o,a=t[Nw(o,n,!i)];if(a&&a(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=xw[n.keyCode])&&r!=o){var s=t[Nw(r,n,!0)];if(s&&s(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){var l=t[Nw(o,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}function jw(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function Pw(e,t){const n=s({},e);return jw(e)&&jw(t)&&Object.keys(t).forEach((r=>{jw(t[r])?r in e?n[r]=Pw(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})})),n}class zw{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=s(s({},this.config),e),this.name=this.config.name,this.options=this.config.defaultOptions}static create(e={}){return new zw(e)}configure(e={}){const t=this.extend();return t.options=Pw(this.options,e),t}extend(e={}){const t=new zw(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,t.options=e.defaultOptions?e.defaultOptions:t.parent.options,t}}function Lw(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:a={}}=n||{};let s="",l=!0;return e.nodesBetween(r,o,((e,t,n,c)=>{var u;const d=null==a?void 0:a[e.type.name];d?(e.isBlock&&!l&&(s+=i,l=!0),s+=d({node:e,pos:t,parent:n,index:c})):e.isText?(s+=null===(u=null==e?void 0:e.text)||void 0===u?void 0:u.slice(Math.max(r,t)-t,o-t),l=!1):e.isBlock&&!l&&(s+=i,l=!0)})),s}function $w(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const Bw=zw.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Wm({key:new Jm("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{from:i,to:a}=o;return Lw(r,{from:i,to:a},{textSerializers:$w(n)})}}})]}});var Fw=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{e.isDestroyed||t.dom.blur()})),!0)});var Vw=Object.freeze({__proto__:null,clearContent:(e=!1)=>({commands:t})=>t.setContent("",e)});var Hw=Object.freeze({__proto__:null,clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return o.forEach((r=>{e.doc.nodesBetween(r.$from.pos,r.$to.pos,((e,r)=>{if(e.type.isText)return;const o=t.doc.resolve(t.mapping.map(r)),i=t.doc.resolve(t.mapping.map(r+e.nodeSize)),a=o.blockRange(i);if(!a)return;const s=im(a);if(e.type.isTextblock&&n){const{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(a.start,e)}(s||0===s)&&n&&t.lift(a,s)}))})),!0}});var Uw=Object.freeze({__proto__:null,command:e=>t=>e(t)});var Ww=Object.freeze({__proto__:null,createParagraphNear:()=>({state:e,dispatch:t})=>sg(e,t)});function qw(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Kw=Object.freeze({__proto__:null,deleteNode:e=>({tr:t,state:n,dispatch:r})=>{const o=qw(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===o){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1}});var Jw=Object.freeze({__proto__:null,deleteRange:e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0}});var Gw=Object.freeze({__proto__:null,deleteSelection:()=>({state:e,dispatch:t})=>Gm(e,t)});var Xw=Object.freeze({__proto__:null,enter:()=>({commands:e})=>e.keyboardShortcut("Enter")});var Yw=Object.freeze({__proto__:null,exitCode:()=>({state:e,dispatch:t})=>ag(e,t)});function Qw(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function Zw(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every((r=>{return n.strict?t[r]===e[r]:(o=t[r],"[object RegExp]"===Object.prototype.toString.call(o)?t[r].test(e[r]):t[r]===e[r]);var o}))}function ex(e,t,n={}){return e.find((e=>e.type===t&&Zw(e.attrs,n)))}function tx(e,t,n={}){return!!ex(e,t,n)}function nx(e,t,n={}){if(!e||!t)return;const r=e.parent.childAfter(e.parentOffset);if(!r.node)return;const o=ex(r.node.marks,t,n);if(!o)return;let i=e.index(),a=e.start()+r.offset,s=i+1,l=a+r.node.nodeSize;for(ex(r.node.marks,t,n);i>0&&o.isInSet(e.parent.child(i-1).marks);)i-=1,a-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&tx(e.parent.child(s).marks,t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}var rx=Object.freeze({__proto__:null,extendMarkRange:(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=Qw(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(o){const e=nx(l,i,t);if(e&&e.from<=c&&e.to>=u){const t=Tm.create(a,e.from,e.to);n.setSelection(t)}}return!0}});var ox=Object.freeze({__proto__:null,first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1}});function ix(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function ax(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!function(e){var t;return"class"===(null===(t=e.constructor)||void 0===t?void 0:t.toString().substring(0,5))}(e)}function sx(e){return ax(e)&&e instanceof Tm}var lx=Object.freeze({__proto__:null,focus:(e=null)=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=()=>{(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&n.dom.focus(),requestAnimationFrame((()=>{t.isDestroyed||(n.focus(),t.commands.scrollIntoView())}))};if(n.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!sx(t.state.selection))return i(),!0;const{from:a,to:s}=function(e,t=null){if(!t)return null;if("start"===t||!0===t)return{from:0,to:0};if("end"===t){const{size:t}=e.doc.content;return{from:t,to:t}}return{from:t,to:t}}(t.state,e)||t.state.selection,{doc:l,storedMarks:c}=r,u=Cm.atStart(l).from,d=Cm.atEnd(l).to,f=ix(a,u,d),p=ix(s,u,d),h=Tm.create(l,f,p),v=t.state.selection.eq(h);return o&&(v||r.setSelection(h),v&&c&&r.setStoredMarks(c),i()),!0}});var cx=Object.freeze({__proto__:null,forEach:(e,t)=>n=>e.every(((e,r)=>t(e,l(s({},n),{index:r}))))});var ux=Object.freeze({__proto__:null,insertContent:(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t)});function dx(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}function fx(e,t,n){if(n=s({slice:!0,parseOptions:{}},n),"object"==typeof e&&null!==e)try{return Array.isArray(e)?Ah.fromArray(e.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),fx("",t,n)}if("string"==typeof e){const r=_v.fromSchema(t);return n.slice?r.parseSlice(dx(e),n.parseOptions).content:r.parse(dx(e),n.parseOptions)}return fx("",t,n)}var px=Object.freeze({__proto__:null,insertContentAt:(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{if(o){const o=fx(t,i.schema,s({parseOptions:{preserveWhitespace:"full"}},n||{}));if("<>"===o.toString())return!0;const{from:a,to:l}="number"==typeof e?{from:e,to:e}:e;r.replaceWith(a,l,o),function(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof tm||o instanceof nm))return;const i=e.mapping.maps[r];let a=0;i.forEach(((e,t,n,r)=>{0===a&&(a=r)})),e.setSelection(Cm.near(e.doc.resolve(a),n))}(r,r.steps.length-1,1)}return!0}});var hx=Object.freeze({__proto__:null,joinBackward:()=>({state:e,dispatch:t})=>Xm(e,t)});var vx=Object.freeze({__proto__:null,joinForward:()=>({state:e,dispatch:t})=>eg(e,t)});const mx="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var gx=Object.freeze({__proto__:null,keyboardShortcut:e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,a=t[t.length-1];"Space"===a&&(a=" ");for(let s=0;s<t.length-1;s+=1){const e=t[s];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))o=!0;else{if(!/^mod$/i.test(e))throw new Error(`Unrecognized modifier name: ${e}`);mx?i=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),i&&(a=`Meta-${a}`),o&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=i.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,s)))}));return null==l||l.steps.forEach((e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)})),!0}});function yx(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?qw(t,e.schema):null;let s=[];if(e.doc.nodesBetween(r,o,((e,t)=>{if(!e.isText){const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s=[...s,{node:e,from:n,to:i}]}})),i)return!!s.filter((e=>!a||a.name===e.node.type.name)).find((e=>Zw(e.node.attrs,n,{strict:!1})));const l=o-r;return s.filter((e=>!a||a.name===e.node.type.name)).filter((e=>Zw(e.node.attrs,n,{strict:!1}))).reduce(((e,t)=>e+(t.to-t.from)),0)>=l}var bx=Object.freeze({__proto__:null,lift:(e,t={})=>({state:n,dispatch:r})=>!!yx(n,qw(e,n.schema),t)&&rg(n,r)});var wx=Object.freeze({__proto__:null,liftEmptyBlock:()=>({state:e,dispatch:t})=>lg(e,t)});var xx=Object.freeze({__proto__:null,liftListItem:e=>({state:t,dispatch:n})=>yg(qw(e,t.schema))(t,n)});var Sx=Object.freeze({__proto__:null,newlineInCode:()=>({state:e,dispatch:t})=>og(e,t)});function kx(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Ox(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,r)=>(n.includes(r)||(t[r]=e[r]),t)),{})}var Cx=Object.freeze({__proto__:null,resetAttributes:(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=kx("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=qw(e,r.schema)),"mark"===s&&(a=Qw(e,r.schema)),o&&n.selection.ranges.forEach((e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,Ox(e.attrs,t)),a&&e.marks.length&&e.marks.forEach((o=>{a===o.type&&n.addMark(r,r+e.nodeSize,a.create(Ox(o.attrs,t)))}))}))})),!0)}});var Mx=Object.freeze({__proto__:null,scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0)});var Ex=Object.freeze({__proto__:null,selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size})});var Tx=Object.freeze({__proto__:null,selectNodeBackward:()=>({state:e,dispatch:t})=>Qm(e,t)});var _x=Object.freeze({__proto__:null,selectNodeForward:()=>({state:e,dispatch:t})=>tg(e,t)});var Ax=Object.freeze({__proto__:null,selectParentNode:()=>({state:e,dispatch:t})=>function(e,t){var n,r=e.selection,o=r.$from,i=r.to,a=o.sharedDepth(i);return 0!=a&&(n=o.before(a),t&&t(e.tr.setSelection(Am.create(e.doc,n))),!0)}(e,t)});function Dx(e,t,n={}){return fx(e,t,{slice:!1,parseOptions:n})}var Ix=Object.freeze({__proto__:null,setContent:(e,t=!1,n={})=>({tr:r,editor:o,dispatch:i})=>{const{doc:a}=r,s=Dx(e,o.schema,n),l=Tm.create(a,0,a.content.size);return i&&r.setSelection(l).replaceSelectionWith(s,!1).setMeta("preventUpdate",!t),!0}});function Nx(e,t){const n=Qw(t,e.schema),{from:r,to:o,empty:i}=e.selection;let a=[];i?a=e.selection.$head.marks():e.doc.nodesBetween(r,o,(e=>{a=[...a,...e.marks]}));const l=a.find((e=>e.type.name===n.name));return l?s({},l.attrs):{}}var Rx=Object.freeze({__proto__:null,setMark:(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:l}=i,c=Qw(e,r.schema);if(o)if(a){const e=Nx(r,c);n.addStoredMark(c.create(s(s({},e),t)))}else l.forEach((e=>{const o=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(o,i,((e,r)=>{const a=Math.max(r,o),l=Math.min(r+e.nodeSize,i);e.marks.find((e=>e.type===c))?e.marks.forEach((e=>{c===e.type&&n.addMark(a,l,c.create(s(s({},e.attrs),t)))})):n.addMark(a,l,c.create(t))}))}));return!0}});var jx=Object.freeze({__proto__:null,setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0)});var Px=Object.freeze({__proto__:null,setNode:(e,t={})=>({state:n,dispatch:r})=>{const o=qw(e,n.schema);return(i=o,a=t,function(e,t){var n=e.selection,r=n.from,o=n.to,s=!1;return e.doc.nodesBetween(r,o,(function(t,n){if(s)return!1;if(t.isTextblock&&!t.hasMarkup(i,a))if(t.type==i)s=!0;else{var r=e.doc.resolve(n),o=r.index();s=r.parent.canReplaceWith(o,o+1,i)}})),!!s&&(t&&t(e.tr.setBlockType(r,o,i,a).scrollIntoView()),!0)})(n,r);var i,a}});var zx=Object.freeze({__proto__:null,setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=Cm.atStart(n).from,o=Cm.atEnd(n).to,i=ix(e,r,o),a=Am.create(n,i);t.setSelection(a)}return!0}});var Lx=Object.freeze({__proto__:null,setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,i=Cm.atStart(n).from,a=Cm.atEnd(n).to,s=ix(r,i,a),l=ix(o,i,a),c=Tm.create(n,s,l);t.setSelection(c)}return!0}});var $x=Object.freeze({__proto__:null,sinkListItem:e=>({state:t,dispatch:n})=>{const r=qw(e,t.schema);return(o=r,function(e,t){var n=e.selection,r=n.$from,i=n.$to,a=r.blockRange(i,(function(e){return e.childCount&&e.firstChild.type==o}));if(!a)return!1;var s=a.startIndex;if(0==s)return!1;var l=a.parent,c=l.child(s-1);if(c.type!=o)return!1;if(t){var u=c.lastChild&&c.lastChild.type==l.type,d=Ah.from(u?o.create():null),f=new zh(Ah.from(o.create(null,Ah.from(l.type.create(null,d)))),u?3:1,0),p=a.start,h=a.end;t(e.tr.step(new nm(p-(u?3:1),h,p,h,f,1,!0)).scrollIntoView())}return!0})(t,n);var o}});function Bx(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=e.find((e=>e.type===t&&e.name===n));return!!r&&r.attribute.keepOnSplit})))}function Fx(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(r)}}var Vx=Object.freeze({__proto__:null,splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:s,$to:l}=i,c=Bx(o.extensionManager.attributes,s.node().type.name,s.node().attrs);if(i instanceof Am&&i.node.isBlock)return!(!s.parentOffset||!lm(a,s.pos))&&(r&&(e&&Fx(n,o.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(r){const r=l.parentOffset===l.parent.content.size;i instanceof Tm&&t.deleteSelection();const a=0===s.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1)));let u=r&&a?[{type:a,attrs:c}]:void 0,d=lm(t.doc,t.mapping.map(s.pos),1,u);if(u||d||!lm(t.doc,t.mapping.map(s.pos),1,a?[{type:a}]:void 0)||(d=!0,u=a?[{type:a,attrs:c}]:void 0),d&&(t.split(t.mapping.map(s.pos),1,u),a&&!r&&!s.parentOffset&&s.parent.type!==a)){const e=t.mapping.map(s.before()),n=t.doc.resolve(e);s.node(-1).canReplaceWith(n.index(),n.index()+1,a)&&t.setNodeMarkup(t.mapping.map(s.before()),a)}e&&Fx(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return!0}});var Hx=Object.freeze({__proto__:null,splitListItem:e=>({tr:t,state:n,dispatch:r,editor:o})=>{var i;const a=qw(e,n.schema),{$from:s,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||s.depth<2||!s.sameParent(l))return!1;const u=s.node(-1);if(u.type!==a)return!1;const d=o.extensionManager.attributes;if(0===s.parent.content.size&&s.node(-1).childCount===s.indexAfter(-1)){if(2===s.depth||s.node(-3).type!==a||s.index(-2)!==s.node(-2).childCount-1)return!1;if(r){let e=Ah.empty;const n=s.index(-1)?1:s.index(-2)?2:3;for(let t=s.depth-n;t>=s.depth-3;t-=1)e=Ah.from(s.node(t).copy(e));const r=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,o=Bx(d,s.node().type.name,s.node().attrs),l=(null===(i=a.contentMatch.defaultType)||void 0===i?void 0:i.createAndFill(o))||void 0;e=e.append(Ah.from(a.createAndFill(null,l)||void 0));const c=s.before(s.depth-(n-1));t.replace(c,s.after(-r),new zh(e,4-n,0));let u=-1;t.doc.nodesBetween(c,t.doc.content.size,((e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)})),u>-1&&t.setSelection(Tm.near(t.doc.resolve(u))),t.scrollIntoView()}return!0}const f=l.pos===s.end()?u.contentMatchAt(0).defaultType:null,p=Bx(d,u.type.name,u.attrs),h=Bx(d,s.node().type.name,s.node().attrs);t.delete(s.pos,l.pos);const v=f?[{type:a,attrs:p},{type:f,attrs:h}]:[{type:a,attrs:p}];return!!lm(t.doc,s.pos,2)&&(r&&t.split(s.pos,2,v).scrollIntoView(),!0)}});function Ux(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function Wx(e,t,...n){return"function"==typeof e?t?e.bind(t)(...n):e(...n):e}function qx(e,t,n={}){if(void 0===e.config[t]&&e.parent)return qx(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind(l(s({},n),{parent:e.parent?qx(e.parent,t,n):null}))}return e.config[t]}function Kx(e,t){const{nodeExtensions:n}=Ux(t),r=n.find((t=>t.name===e));if(!r)return!1;const o=Wx(qx(r,"group",{name:r.name,options:r.options}));return"string"==typeof o&&o.split(" ").includes("list")}var Jx=Object.freeze({__proto__:null,toggleList:(e,t)=>({editor:n,tr:r,state:o,dispatch:i,chain:a,commands:s,can:l})=>{const{extensions:c}=n.extensionManager,u=qw(e,o.schema),d=qw(t,o.schema),{selection:f}=o,{$from:p,$to:h}=f,v=p.blockRange(h);if(!v)return!1;const m=(g=e=>Kx(e.type.name,c),e=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(e.$from,g))(f);var g;if(v.depth>=1&&m&&v.depth-m.depth<=1){if(m.node.type===u)return s.liftListItem(d);if(Kx(m.node.type.name,c)&&u.validContent(m.node.content)&&i)return r.setNodeMarkup(m.pos,u),!0}return l().wrapInList(u)?s.wrapInList(u):a().clearNodes().wrapInList(u).run()}});function Gx(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?Qw(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!a||a.name===e.type.name)).find((e=>Zw(e.attrs,n,{strict:!1})));let s=0,l=[];if(e.doc.nodesBetween(r,o,((e,t)=>{if(e.isText||e.marks.length){const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s+=i-n,l=[...l,...e.marks.map((e=>({mark:e,from:n,to:i})))]}})),0===s)return!1;const c=l.filter((e=>!a||a.name===e.mark.type.name)).filter((e=>Zw(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+(t.to-t.from)),0),u=l.filter((e=>!a||e.mark.type!==a&&e.mark.type.excludes(a))).reduce(((e,t)=>e+(t.to-t.from)),0);return(c>0?c+u:c)>=s}var Xx=Object.freeze({__proto__:null,toggleMark:(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=Qw(e,r.schema);return Gx(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)}});var Yx=Object.freeze({__proto__:null,toggleNode:(e,t,n={})=>({state:r,commands:o})=>{const i=qw(e,r.schema),a=qw(t,r.schema);return yx(r,i,n)?o.setNode(a):o.setNode(i,n)}});var Qx=Object.freeze({__proto__:null,toggleWrap:(e,t={})=>({state:n,dispatch:r})=>{const o=qw(e,n.schema);return yx(n,o,t)?rg(n,r):ug(o,t)(n,r)}});var Zx=Object.freeze({__proto__:null,undoInputRule:()=>({state:e,dispatch:t})=>function(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(i.text){var c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else a.delete(i.from,i.to);t(a)}return!0}}return!1}(e,t)});var eS=Object.freeze({__proto__:null,unsetAllMarks:()=>({tr:e,state:t,dispatch:n})=>{const{selection:r}=e,{empty:o,ranges:i}=r;return o||n&&Object.entries(t.schema.marks).forEach((([,t])=>{i.forEach((n=>{e.removeMark(n.$from.pos,n.$to.pos,t)}))})),!0}});var tS=Object.freeze({__proto__:null,unsetMark:(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=Qw(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!o)return!0;if(u&&a){let{from:e,to:t}=s;const r=null===(i=c.marks().find((e=>e.type===l)))||void 0===i?void 0:i.attrs,o=nx(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else d.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0}});var nS=Object.freeze({__proto__:null,updateAttributes:(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const l=kx("string"==typeof e?e:e.name,r.schema);return!!l&&("node"===l&&(i=qw(e,r.schema)),"mark"===l&&(a=Qw(e,r.schema)),o&&n.selection.ranges.forEach((e=>{const o=e.$from.pos,l=e.$to.pos;r.doc.nodesBetween(o,l,((e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,s(s({},e.attrs),t)),a&&e.marks.length&&e.marks.forEach((i=>{if(a===i.type){const c=Math.max(r,o),u=Math.min(r+e.nodeSize,l);n.addMark(c,u,a.create(s(s({},i.attrs),t)))}}))}))})),!0)}});var rS=Object.freeze({__proto__:null,wrapIn:(e,t={})=>({state:n,dispatch:r})=>{const o=qw(e,n.schema);return!yx(n,o,t)&&ug(o,t)(n,r)}});var oS=Object.freeze({__proto__:null,wrapInList:(e,t={})=>({state:n,dispatch:r})=>gg(qw(e,n.schema),t)(n,r)});const iS=zw.create({name:"commands",addCommands:()=>s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s({},Fw),Vw),Hw),Uw),Ww),Kw),Jw),Gw),Xw),Yw),rx),ox),lx),cx),ux),px),hx),vx),gx),bx),wx),xx),Sx),Cx),Mx),Ex),Tx),_x),Ax),Ix),Rx),jx),Px),zx),Lx),$x),Vx),Hx),Jx),Xx),Yx),Qx),Zx),eS),tS),nS),rS),oS)}),aS=zw.create({name:"editable",addProseMirrorPlugins(){return[new Wm({key:new Jm("editable"),props:{editable:()=>this.editor.options.editable}})]}}),sS=zw.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Wm({key:new Jm("focusEvents"),props:{attributes:{tabindex:"0"},handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),lS=zw.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.joinForward(),()=>e.selectNodeForward()]));return{Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:()=>e(),"Mod-Backspace":()=>e(),Delete:()=>t(),"Mod-Delete":()=>t(),"Mod-a":()=>this.editor.commands.selectAll()}}});var cS=Object.freeze({__proto__:null,ClipboardTextSerializer:Bw,Commands:iS,Editable:aS,FocusEvents:sS,Keymap:lS});function uS(e,t){const n=kx("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=qw(t,e.schema),{from:r,to:o}=e.selection;let i=[];e.doc.nodesBetween(r,o,(e=>{i=[...i,e]}));const a=i.reverse().find((e=>e.type.name===n.name));return a?s({},a.attrs):{}}(e,t):"mark"===n?Nx(e,t):{}}class dS{constructor(e,t){this.editor=e,this.commands=t}createCommands(){const{commands:e,editor:t}=this,{state:n,view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(i);return o.getMeta("preventDispatch")||r.dispatch(o),n}])))}createChain(e,t=!0){const{commands:n,editor:r}=this,{state:o,view:i}=r,a=[],c=!!e,u=e||o.tr,d=l(s({},Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const r=this.buildProps(u,t),o=n(...e)(r);return a.push(o),d}])))),{run:()=>(c||!t||u.getMeta("preventDispatch")||i.dispatch(u),a.every((e=>!0===e)))});return d}createCan(e){const{commands:t,editor:n}=this,{state:r}=n,o=void 0,i=e||r.tr,a=this.buildProps(i,o),c=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)(l(s({},a),{dispatch:o}))])));return l(s({},c),{chain:()=>this.createChain(i,o)})}buildProps(e,t=!0){const{editor:n,commands:r}=this,{state:o,view:i}=n;o.storedMarks&&e.setStoredMarks(o.storedMarks);const a={tr:e,editor:n,view:i,state:this.chainableState(e,o),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map((([e,t])=>[e,(...e)=>t(...e)(a)])))}};return a}chainableState(e,t){let{selection:n}=e,{doc:r}=e,{storedMarks:o}=e;return l(s({},t),{schema:t.schema,plugins:t.plugins,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return r},get tr(){return n=e.selection,r=e.doc,o=e.storedMarks,e}})}}function fS(e){const t=[],{nodeExtensions:n,markExtensions:r}=Ux(e),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return e.forEach((e=>{const n=qx(e,"addGlobalAttributes",{name:e.name,options:e.options});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,r])=>{t.push({type:n,name:e,attribute:s(s({},i),r)})}))}))}))})),o.forEach((e=>{const n={name:e.name,options:e.options},r=qx(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach((([n,r])=>{t.push({type:e.name,name:n,attribute:s(s({},i),r)})}))})),t}function pS(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n=s({},e);return Object.entries(t).forEach((([e,t])=>{n[e]?n[e]="class"===e?[n[e],t].join(" "):"style"===e?[n[e],t].join("; "):t:n[e]=t})),n}),{})}function hS(e,t){return t.filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>pS(e,t)),{})}function vS(e,t){return e.style?e:l(s({},e),{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.filter((e=>e.attribute.rendered)).reduce(((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^\d*(\.\d+)?$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return ax(r)&&console.warn(`[tiptap warn]: BREAKING CHANGE: "parseHTML" for your attribute "${t.name}" returns an object but should return the value itself. If this is expected you can ignore this message. This warning will be removed in one of the next releases. Further information: https://github.com/ueberdosis/tiptap/issues/1863`),null==r?e:l(s({},e),{[t.name]:r})}),{});return s(s({},r),o)}})}function mS(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t)))}function gS(e,t){return t.nodes[e]?t.nodes[e]:t.marks[e]?t.marks[e]:null}class yS{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=yS.resolve(e),this.schema=function(e){var t;const n=fS(e),{nodeExtensions:r,markExtensions:o}=Ux(e),i=null===(t=r.find((e=>qx(e,"topNode"))))||void 0===t?void 0:t.name,a=Object.fromEntries(r.map((t=>{const r=n.filter((e=>e.type===t.name)),o={name:t.name,options:t.options},i=e.reduce(((e,n)=>{const r=qx(n,"extendNodeSchema",o);return s(s({},e),r?r(t):{})}),{}),a=mS(l(s({},i),{content:Wx(qx(t,"content",o)),marks:Wx(qx(t,"marks",o)),group:Wx(qx(t,"group",o)),inline:Wx(qx(t,"inline",o)),atom:Wx(qx(t,"atom",o)),selectable:Wx(qx(t,"selectable",o)),draggable:Wx(qx(t,"draggable",o)),code:Wx(qx(t,"code",o)),defining:Wx(qx(t,"defining",o)),isolating:Wx(qx(t,"isolating",o)),attrs:Object.fromEntries(r.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))})),c=Wx(qx(t,"parseHTML",o));c&&(a.parseDOM=c.map((e=>vS(e,r))));const u=qx(t,"renderHTML",o);u&&(a.toDOM=e=>u({node:e,HTMLAttributes:hS(e,r)}));const d=qx(t,"renderText",o);return d&&(a.toText=d),[t.name,a]}))),c=Object.fromEntries(o.map((t=>{const r=n.filter((e=>e.type===t.name)),o={name:t.name,options:t.options},i=e.reduce(((e,n)=>{const r=qx(n,"extendMarkSchema",o);return s(s({},e),r?r(t):{})}),{}),a=mS(l(s({},i),{inclusive:Wx(qx(t,"inclusive",o)),excludes:Wx(qx(t,"excludes",o)),group:Wx(qx(t,"group",o)),spanning:Wx(qx(t,"spanning",o)),attrs:Object.fromEntries(r.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))})),c=Wx(qx(t,"parseHTML",o));c&&(a.parseDOM=c.map((e=>vS(e,r))));const u=qx(t,"renderHTML",o);return u&&(a.toDOM=e=>u({mark:e,HTMLAttributes:hS(e,r)})),[t.name,a]})));return new Ev({topNode:i,nodes:a,marks:c})}(this.extensions),this.extensions.forEach((e=>{var t;const n={name:e.name,options:e.options,editor:this.editor,type:gS(e.name,this.schema)};if("mark"===e.type){(null===(t=Wx(qx(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const r=qx(e,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const o=qx(e,"onCreate",n);o&&this.editor.on("create",o);const i=qx(e,"onUpdate",n);i&&this.editor.on("update",i);const a=qx(e,"onSelectionUpdate",n);a&&this.editor.on("selectionUpdate",a);const s=qx(e,"onTransaction",n);s&&this.editor.on("transaction",s);const l=qx(e,"onFocus",n);l&&this.editor.on("focus",l);const c=qx(e,"onBlur",n);c&&this.editor.on("blur",c);const u=qx(e,"onDestroy",n);u&&this.editor.on("destroy",u)}))}static resolve(e){return yS.sort(yS.flatten(e))}static flatten(e){return e.map((e=>{const t=qx(e,"addExtensions",{name:e.name,options:e.options});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){return e.sort(((e,t)=>{const n=qx(e,"priority")||100,r=qx(t,"priority")||100;return n>r?-1:n<r?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=qx(t,"addCommands",{name:t.name,options:t.options,editor:this.editor,type:gS(t.name,this.schema)});return n?s(s({},e),n()):e}),{})}get plugins(){return[...this.extensions].reverse().map((e=>{const t={name:e.name,options:e.options,editor:this.editor,type:gS(e.name,this.schema)},n=[],r=qx(e,"addKeyboardShortcuts",t);if(r){const e=function(e){return new Wm({props:{handleKeyDown:Rw(e)}})}(Object.fromEntries(Object.entries(r()).map((([e,t])=>[e,()=>t({editor:this.editor})]))));n.push(e)}const o=qx(e,"addInputRules",t);if(this.editor.options.enableInputRules&&o){const e=o(),t=e.length?[(i={rules:e},a=i.rules,s=new Wm({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,t,n,r){return wg(e,t,n,r,a,s)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var t=e.state.selection.$cursor;t&&wg(e,t.pos,t.pos,"",a,s)}))}}},isInputRules:!0}),s)]:[];n.push(...t)}var i,a,s;const l=qx(e,"addPasteRules",t);if(this.editor.options.enablePasteRules&&l){const e=l();n.push(...e)}const c=qx(e,"addProseMirrorPlugins",t);if(c){const e=c();n.push(...e)}return n})).flat()}get attributes(){return fS(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ux(this.extensions);return Object.fromEntries(t.filter((e=>!!qx(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,editor:e,type:qw(t.name,this.schema)},o=qx(t,"addNodeView",r);if(!o)return[];return[t.name,(r,i,a,s)=>{const l=hS(r,n);return o()({editor:e,node:r,getPos:a,decorations:s,HTMLAttributes:l,extension:t})}]})))}}class bS{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=s(s({},this.config),e),this.name=this.config.name,this.options=this.config.defaultOptions}static create(e={}){return new bS(e)}configure(e={}){const t=this.extend();return t.options=Pw(this.options,e),t}extend(e={}){const t=new bS(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,t.options=e.defaultOptions?e.defaultOptions:t.parent.options,t}}class wS{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=s(s({},this.config),e),this.name=this.config.name,this.options=this.config.defaultOptions}static create(e={}){return new wS(e)}configure(e={}){const t=this.extend();return t.options=Pw(this.options,e),t}extend(e={}){const t=new wS(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,t.options=e.defaultOptions?e.defaultOptions:t.parent.options,t}}function xS(e,t,n){return new bg(e,((e,r,o,i)=>{const a=n instanceof Function?n(r):n,{tr:s}=e,l=r[r.length-1],c=r[0];let u=i;if(l){const n=c.search(/\S/),r=o+c.indexOf(l),d=r+l.length;if(function(e,t,n){let r=[];return n.doc.nodesBetween(e,t,((e,t)=>{r=[...r,...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n})))]})),r}(o,i,e).filter((e=>{const{excluded:n}=e.mark.type;return n.find((e=>e.name===t.name))})).filter((e=>e.to>r)).length)return null;d<i&&s.delete(d,i),r>o&&s.delete(o+n,r),u=o+n+l.length,s.addMark(o+n,u,t.create(a)),s.removeStoredMark(t)}return s}))}function SS(e,t,n){const r=(o,i)=>{const a=[];return o.forEach((o=>{if(o.isText&&o.text){const{text:r}=o;let s,l=0;for(;null!==(s=e.exec(r));){const e=Math.max(s.length-2,0),r=Math.max(s.length-1,0);if(null==i?void 0:i.type.allowsMarkType(t)){const i=s.index+s[0].indexOf(s[e]),c=i+s[e].length,u=i+s[e].lastIndexOf(s[r]),d=u+s[r].length,f=n instanceof Function?n(s):n;if(!f&&void 0!==f)continue;i>0&&a.push(o.cut(l,i)),a.push(o.cut(u,d).mark(t.create(f).addToSet(o.marks))),l=c}}l<r.length&&a.push(o.cut(l))}else a.push(o.copy(r(o.content,o)))})),Ah.fromArray(a)};return new Wm({key:new Jm("markPasteRule"),props:{transformPasted:e=>new zh(r(e.content),e.openStart,e.openEnd)}})}function kS(e,t,n){const r=e.coordsAtPos(t),o=e.coordsAtPos(n,-1),i=Math.min(r.top,o.top),a=Math.max(r.bottom,o.bottom),c=Math.min(r.left,o.left),u=Math.max(r.right,o.right),d={top:i,bottom:a,left:c,right:u,width:u-c,height:a-i,x:c,y:i};return l(s({},d),{toJSON:()=>d})}var OS="top",CS="bottom",MS="right",ES="left",TS=[OS,CS,MS,ES],_S=TS.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),AS=[].concat(TS,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),DS=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function IS(e){return e?(e.nodeName||"").toLowerCase():null}function NS(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function RS(e){return e instanceof NS(e).Element||e instanceof Element}function jS(e){return e instanceof NS(e).HTMLElement||e instanceof HTMLElement}function PS(e){return"undefined"!=typeof ShadowRoot&&(e instanceof NS(e).ShadowRoot||e instanceof ShadowRoot)}var zS={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];jS(o)&&IS(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});jS(r)&&IS(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function LS(e){return e.split("-")[0]}var $S=Math.round;function BS(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(jS(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=n.width/a||1),i>0&&(o=n.height/i||1)}return{width:$S(n.width/r),height:$S(n.height/o),top:$S(n.top/o),right:$S(n.right/r),bottom:$S(n.bottom/o),left:$S(n.left/r),x:$S(n.left/r),y:$S(n.top/o)}}function FS(e){var t=BS(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function VS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&PS(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function HS(e){return NS(e).getComputedStyle(e)}function US(e){return["table","td","th"].indexOf(IS(e))>=0}function WS(e){return((RS(e)?e.ownerDocument:e.document)||window.document).documentElement}function qS(e){return"html"===IS(e)?e:e.assignedSlot||e.parentNode||(PS(e)?e.host:null)||WS(e)}function KS(e){return jS(e)&&"fixed"!==HS(e).position?e.offsetParent:null}function JS(e){for(var t=NS(e),n=KS(e);n&&US(n)&&"static"===HS(n).position;)n=KS(n);return n&&("html"===IS(n)||"body"===IS(n)&&"static"===HS(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&jS(e)&&"fixed"===HS(e).position)return null;for(var n=qS(e);jS(n)&&["html","body"].indexOf(IS(n))<0;){var r=HS(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function GS(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var XS=Math.max,YS=Math.min,QS=Math.round;function ZS(e,t,n){return XS(e,YS(t,n))}function ek(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tk(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function nk(e){return e.split("-")[1]}var rk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ok(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:QS(QS(t*r)/r)||0,y:QS(QS(n*r)/r)||0}}(a):"function"==typeof u?u(a):a,f=d.x,p=void 0===f?0:f,h=d.y,v=void 0===h?0:h,m=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),y=ES,b=OS,w=window;if(c){var x=JS(n),S="clientHeight",k="clientWidth";x===NS(n)&&"static"!==HS(x=WS(n)).position&&"absolute"===s&&(S="scrollHeight",k="scrollWidth"),x=x,o!==OS&&(o!==ES&&o!==MS||"end"!==i)||(b=CS,v-=x[S]-r.height,v*=l?1:-1),o!==ES&&(o!==OS&&o!==CS||"end"!==i)||(y=MS,p-=x[k]-r.width,p*=l?1:-1)}var O,C=Object.assign({position:s},c&&rk);return l?Object.assign({},C,((O={})[b]=g?"0":"",O[y]=m?"0":"",O.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",O)):Object.assign({},C,((t={})[b]=g?v+"px":"",t[y]=m?p+"px":"",t.transform="",t))}var ik={passive:!0};var ak={left:"right",right:"left",bottom:"top",top:"bottom"};function sk(e){return e.replace(/left|right|bottom|top/g,(function(e){return ak[e]}))}var lk={start:"end",end:"start"};function ck(e){return e.replace(/start|end/g,(function(e){return lk[e]}))}function uk(e){var t=NS(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function dk(e){return BS(WS(e)).left+uk(e).scrollLeft}function fk(e){var t=HS(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function pk(e){return["html","body","#document"].indexOf(IS(e))>=0?e.ownerDocument.body:jS(e)&&fk(e)?e:pk(qS(e))}function hk(e,t){var n;void 0===t&&(t=[]);var r=pk(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=NS(r),a=o?[i].concat(i.visualViewport||[],fk(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(hk(qS(a)))}function vk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function mk(e,t){return"viewport"===t?vk(function(e){var t=NS(e),n=WS(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+dk(e),y:s}}(e)):jS(t)?function(e){var t=BS(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):vk(function(e){var t,n=WS(e),r=uk(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=XS(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=XS(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+dk(e),l=-r.scrollTop;return"rtl"===HS(o||n).direction&&(s+=XS(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(WS(e)))}function gk(e,t,n){var r="clippingParents"===t?function(e){var t=hk(qS(e)),n=["absolute","fixed"].indexOf(HS(e).position)>=0&&jS(e)?JS(e):e;return RS(n)?t.filter((function(e){return RS(e)&&VS(e,n)&&"body"!==IS(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=mk(e,n);return t.top=XS(r.top,t.top),t.right=YS(r.right,t.right),t.bottom=YS(r.bottom,t.bottom),t.left=XS(r.left,t.left),t}),mk(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function yk(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?LS(o):null,a=o?nk(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case OS:t={x:s,y:n.y-r.height};break;case CS:t={x:s,y:n.y+n.height};break;case MS:t={x:n.x+n.width,y:l};break;case ES:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?GS(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case"start":t[c]=t[c]-(n[u]/2-r[u]/2);break;case"end":t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function bk(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,l=void 0===s?"viewport":s,c=n.elementContext,u=void 0===c?"popper":c,d=n.altBoundary,f=void 0!==d&&d,p=n.padding,h=void 0===p?0:p,v=ek("number"!=typeof h?h:tk(h,TS)),m="popper"===u?"reference":"popper",g=e.rects.popper,y=e.elements[f?m:u],b=gk(RS(y)?y:y.contextElement||WS(e.elements.popper),a,l),w=BS(e.elements.reference),x=yk({reference:w,element:g,strategy:"absolute",placement:o}),S=vk(Object.assign({},g,x)),k="popper"===u?S:w,O={top:b.top-k.top+v.top,bottom:k.bottom-b.bottom+v.bottom,left:b.left-k.left+v.left,right:k.right-b.right+v.right},C=e.modifiersData.offset;if("popper"===u&&C){var M=C[o];Object.keys(O).forEach((function(e){var t=[MS,CS].indexOf(e)>=0?1:-1,n=[OS,CS].indexOf(e)>=0?"y":"x";O[e]+=M[n]*t}))}return O}function wk(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function xk(e){return[OS,MS,CS,ES].some((function(t){return e[t]>=0}))}function Sk(e,t,n){void 0===n&&(n=!1);var r,o,i=jS(t),a=jS(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),s=WS(t),l=BS(e,a),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==IS(t)||fk(s))&&(c=(r=t)!==NS(r)&&jS(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:uk(r)),jS(t)?((u=BS(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=dk(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function kk(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var Ok={placement:"bottom",modifiers:[],strategy:"absolute"};function Ck(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Mk(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Ok:o;return function(e,t,n){void 0===n&&(n=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ok,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var o="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:RS(e)?hk(e):e.contextElement?hk(e.contextElement):[],popper:hk(t)};var a,c,f=function(e){var t=kk(e);return DS.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),c=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=f.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:s,name:t,instance:u,options:r}),a=function(){};l.push(i||a)}})),u.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Ck(t,n)){s.rects={reference:Sk(t,JS(n),"fixed"===s.options.strategy),popper:FS(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var o=s.orderedModifiers[r],i=o.fn,a=o.options,l=void 0===a?{}:a,d=o.name;"function"==typeof i&&(s=i({state:s,options:l,name:d,instance:u})||s)}else s.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),c=!0}};if(!Ck(e,t))return u;function d(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Ek=Mk({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=NS(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,ik)})),s&&l.addEventListener("resize",n.update,ik),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ik)})),s&&l.removeEventListener("resize",n.update,ik)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=yk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:LS(t.placement),variation:nk(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ok(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ok(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zS,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=AS.reduce((function(e,n){return e[n]=function(e,t,n){var r=LS(e),o=[ES,OS].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[ES,MS].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,m=t.options.placement,g=LS(m),y=l||(g===m||!h?[sk(m)]:function(e){if("auto"===LS(e))return[];var t=sk(e);return[ck(e),t,ck(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat("auto"===LS(n)?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?AS:l,u=nk(r),d=u?s?_S:_S.filter((function(e){return nk(e)===u})):TS,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=bk(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[LS(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:v}):n)}),[]),w=t.rects.reference,x=t.rects.popper,S=new Map,k=!0,O=b[0],C=0;C<b.length;C++){var M=b[C],E=LS(M),T="start"===nk(M),_=[OS,CS].indexOf(E)>=0,A=_?"width":"height",D=bk(t,{placement:M,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),I=_?T?MS:ES:T?CS:OS;w[A]>x[A]&&(I=sk(I));var N=sk(I),R=[];if(i&&R.push(D[E]<=0),s&&R.push(D[I]<=0,D[N]<=0),R.every((function(e){return e}))){O=M,k=!1;break}S.set(M,R)}if(k)for(var j=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},P=h?3:1;P>0;P--){if("break"===j(P))break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,v=void 0===h?0:h,m=bk(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=LS(t.placement),y=nk(t.placement),b=!y,w=GS(g),x="x"===w?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,O=t.rects.popper,C="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,M={x:0,y:0};if(S){if(i||s){var E="y"===w?OS:ES,T="y"===w?CS:MS,_="y"===w?"height":"width",A=S[w],D=S[w]+m[E],I=S[w]-m[T],N=p?-O[_]/2:0,R="start"===y?k[_]:O[_],j="start"===y?-O[_]:-k[_],P=t.elements.arrow,z=p&&P?FS(P):{width:0,height:0},L=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=L[E],B=L[T],F=ZS(0,k[_],z[_]),V=b?k[_]/2-N-F-$-C:R-F-$-C,H=b?-k[_]/2+N+F+B+C:j+F+B+C,U=t.elements.arrow&&JS(t.elements.arrow),W=U?"y"===w?U.clientTop||0:U.clientLeft||0:0,q=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,K=S[w]+V-q-W,J=S[w]+H-q;if(i){var G=ZS(p?YS(D,K):D,A,p?XS(I,J):I);S[w]=G,M[w]=G-A}if(s){var X="x"===w?OS:ES,Y="x"===w?CS:MS,Q=S[x],Z=Q+m[X],ee=Q-m[Y],te=ZS(p?YS(Z,K):Z,Q,p?XS(ee,J):ee);S[x]=te,M[x]=te-Q}}t.modifiersData[r]=M}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=LS(n.placement),l=GS(s),c=[ES,MS].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return ek("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:tk(e,TS))}(o.padding,n),d=FS(i),f="y"===l?OS:ES,p="y"===l?CS:MS,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],v=a[l]-n.rects.reference[l],m=JS(i),g=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=h/2-v/2,b=u[f],w=g-d[c]-u[p],x=g/2-d[c]/2+y,S=ZS(b,x,w),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&VS(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=bk(t,{elementContext:"reference"}),s=bk(t,{altBoundary:!0}),l=wk(a,r),c=wk(s,o,i),u=xk(l),d=xk(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Tk={passive:!0,capture:!0};function _k(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function Ak(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Dk(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Ik(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Nk(e){return[].concat(e)}function Rk(e,t){-1===e.indexOf(t)&&e.push(t)}function jk(e){return[].slice.call(e)}function Pk(){return document.createElement("div")}function zk(e){return["Element","Fragment"].some((function(t){return Ak(e,t)}))}function Lk(e){return zk(e)?[e]:function(e){return Ak(e,"NodeList")}(e)?jk(e):Array.isArray(e)?e:jk(document.querySelectorAll(e))}function $k(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Bk(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Fk(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}var Vk={isTouch:!1},Hk=0;function Uk(){Vk.isTouch||(Vk.isTouch=!0,window.performance&&document.addEventListener("mousemove",Wk))}function Wk(){var e=performance.now();e-Hk<20&&(Vk.isTouch=!1,document.removeEventListener("mousemove",Wk)),Hk=e}function qk(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var Kk="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",Jk=/MSIE |Trident\//.test(Kk),Gk=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Xk=Object.keys(Gk);function Yk(e){var t=(e.plugins||[]).reduce((function(t,n){var r=n.name,o=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:o),t}),{});return Object.assign({},e,{},t)}function Qk(e,t){var n=Object.assign({},t,{content:Dk(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Yk(Object.assign({},Gk,{plugins:t}))):Xk).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(DT){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Gk.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Zk(e,t){e.innerHTML=t}function eO(e){var t=Pk();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",zk(e)?t.appendChild(e):Zk(t,e)),t}function tO(e,t){zk(t.content)?(Zk(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Zk(e,t.content):e.textContent=t.content)}function nO(e){var t=e.firstElementChild,n=jk(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function rO(e){var t=Pk(),n=Pk();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Pk();function o(n,r){var o=nO(t),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||tO(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(eO(r.arrow))):i.appendChild(eO(r.arrow)):s&&i.removeChild(s)}return r.className="tippy-content",r.setAttribute("data-state","hidden"),tO(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props),{popper:t,onUpdate:o}}rO.$$tippy=!0;var oO=1,iO=[],aO=[];function sO(e,t){var n,r,o,i,a,s,l,c,u,d=Qk(e,Object.assign({},Gk,{},Yk((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),f=!1,p=!1,h=!1,v=!1,m=[],g=Ik(J,d.interactiveDebounce),y=oO++,b=(u=d.plugins).filter((function(e,t){return u.indexOf(e)===t})),w={id:y,reference:e,popper:Pk(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)},setProps:function(t){if(w.state.isDestroyed)return;R("onBeforeUpdate",[w,t]),q();var n=w.props,r=Qk(e,Object.assign({},w.props,{},t,{ignoreAttributes:!0}));w.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&(z(),g=Ik(J,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Nk(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");P(),N(),k&&k(n,r);w.popperInstance&&(Q(),ee().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));R("onAfterUpdate",[w,t])},setContent:function(e){w.setProps({content:e})},show:function(){var e=w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=Vk.isTouch&&!w.props.touch,o=_k(w.props.duration,0,Gk.duration);if(e||t||n||r)return;if(_().hasAttribute("disabled"))return;if(R("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,T()&&(S.style.visibility="visible");N(),F(),w.state.isMounted||(S.style.transition="none");if(T()){var i=D(),a=i.box,s=i.content;$k([a,s],0)}l=function(){var e;if(w.state.isVisible&&!v){if(v=!0,S.offsetHeight,S.style.transition=w.props.moveTransition,T()&&w.props.animation){var t=D(),n=t.box,r=t.content;$k([n,r],o),Bk([n,r],"visible")}j(),P(),Rk(aO,w),null==(e=w.popperInstance)||e.forceUpdate(),w.state.isMounted=!0,R("onMount",[w]),w.props.animation&&T()&&function(e,t){H(e,t)}(o,(function(){w.state.isShown=!0,R("onShown",[w])}))}},function(){var e,t=w.props.appendTo,n=_();e=w.props.interactive&&t===Gk.appendTo||"parent"===t?n.parentNode:Dk(t,[n]);e.contains(S)||e.appendChild(S);Q()}()},hide:function(){var e=!w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=_k(w.props.duration,1,Gk.duration);if(e||t||n)return;if(R("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,v=!1,f=!1,T()&&(S.style.visibility="hidden");if(z(),V(),N(),T()){var o=D(),i=o.box,a=o.content;w.props.animation&&($k([i,a],r),Bk([i,a],"hidden"))}j(),P(),w.props.animation?T()&&function(e,t){H(e,(function(){!w.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&t()}))}(r,w.unmount):w.unmount()},hideWithInteractivity:function(e){A().addEventListener("mousemove",g),Rk(iO,g),g(e)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){w.state.isVisible&&w.hide();if(!w.state.isMounted)return;Z(),ee().forEach((function(e){e._tippy.unmount()})),S.parentNode&&S.parentNode.removeChild(S);aO=aO.filter((function(e){return e!==w})),w.state.isMounted=!1,R("onHidden",[w])},destroy:function(){if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),q(),delete e._tippy,w.state.isDestroyed=!0,R("onDestroy",[w])}};if(!d.render)return w;var x=d.render(w),S=x.popper,k=x.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+w.id,w.popper=S,e._tippy=w,S._tippy=w;var O=b.map((function(e){return e.fn(w)})),C=e.hasAttribute("aria-expanded");return W(),P(),N(),R("onCreate",[w]),d.showOnCreate&&te(),S.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),S.addEventListener("mouseleave",(function(e){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&(A().addEventListener("mousemove",g),g(e))})),w;function M(){var e=w.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===M()[0]}function T(){var e;return!!(null==(e=w.props.render)?void 0:e.$$tippy)}function _(){return c||e}function A(){var e,t,n=_().parentNode;return n?(null==(t=Nk(n)[0])||null==(e=t.ownerDocument)?void 0:e.body)?t.ownerDocument:document:document}function D(){return nO(S)}function I(e){return w.state.isMounted&&!w.state.isVisible||Vk.isTouch||a&&"focus"===a.type?0:_k(w.props.delay,e?0:1,Gk.delay)}function N(){S.style.pointerEvents=w.props.interactive&&w.state.isVisible?"":"none",S.style.zIndex=""+w.props.zIndex}function R(e,t,n){var r;(void 0===n&&(n=!0),O.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n)&&(r=w.props)[e].apply(r,t)}function j(){var t=w.props.aria;if(t.content){var n="aria-"+t.content,r=S.id;Nk(w.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(w.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function P(){!C&&w.props.aria.expanded&&Nk(w.props.triggerTarget||e).forEach((function(e){w.props.interactive?e.setAttribute("aria-expanded",w.state.isVisible&&e===_()?"true":"false"):e.removeAttribute("aria-expanded")}))}function z(){A().removeEventListener("mousemove",g),iO=iO.filter((function(e){return e!==g}))}function L(e){if(!(Vk.isTouch&&(h||"mousedown"===e.type)||w.props.interactive&&S.contains(e.target))){if(_().contains(e.target)){if(Vk.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[w,e]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),p=!0,setTimeout((function(){p=!1})),w.state.isMounted||V())}}function $(){h=!0}function B(){h=!1}function F(){var e=A();e.addEventListener("mousedown",L,!0),e.addEventListener("touchend",L,Tk),e.addEventListener("touchstart",B,Tk),e.addEventListener("touchmove",$,Tk)}function V(){var e=A();e.removeEventListener("mousedown",L,!0),e.removeEventListener("touchend",L,Tk),e.removeEventListener("touchstart",B,Tk),e.removeEventListener("touchmove",$,Tk)}function H(e,t){var n=D().box;function r(e){e.target===n&&(Fk(n,"remove",r),t())}if(0===e)return t();Fk(n,"remove",s),Fk(n,"add",r),s=r}function U(t,n,r){void 0===r&&(r=!1),Nk(w.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),m.push({node:e,eventType:t,handler:n,options:r})}))}function W(){var e;E()&&(U("touchstart",K,{passive:!0}),U("touchend",G,{passive:!0})),(e=w.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(U(e,K),e){case"mouseenter":U("mouseleave",G);break;case"focus":U(Jk?"focusout":"blur",X);break;case"focusin":U("focusout",X)}}))}function q(){m.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),m=[]}function K(e){var t,n=!1;if(w.state.isEnabled&&!Y(e)&&!p){var r="focus"===(null==(t=a)?void 0:t.type);a=e,c=e.currentTarget,P(),!w.state.isVisible&&Ak(e,"MouseEvent")&&iO.forEach((function(t){return t(e)})),"click"===e.type&&(w.props.trigger.indexOf("mouseenter")<0||f)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:te(e),"click"===e.type&&(f=!n),n&&!r&&ne(e)}}function J(e){var t=e.target,n=_().contains(t)||S.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,i=e.props.interactiveBorder,a=o.placement.split("-")[0],s=o.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,f=t.top-r+l>i,p=r-t.bottom-c>i,h=t.left-n+u>i,v=n-t.right-d>i;return f||p||h||v}))}(ee().concat(S).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(z(),ne(e))}function G(e){Y(e)||w.props.trigger.indexOf("click")>=0&&f||(w.props.interactive?w.hideWithInteractivity(e):ne(e))}function X(e){w.props.trigger.indexOf("focusin")<0&&e.target!==_()||w.props.interactive&&e.relatedTarget&&S.contains(e.relatedTarget)||ne(e)}function Y(e){return!!Vk.isTouch&&E()!==e.type.indexOf("touch")>=0}function Q(){Z();var t=w.props,n=t.popperOptions,r=t.placement,o=t.offset,i=t.getReferenceClientRect,a=t.moveTransition,s=T()?nO(S).arrow:null,c=i?{getBoundingClientRect:i,contextElement:i.contextElement||_()}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(T()){var n=D().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];T()&&s&&u.push({name:"arrow",options:{element:s,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),w.popperInstance=Ek(c,S,Object.assign({},n,{placement:r,onFirstUpdate:l,modifiers:u}))}function Z(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function ee(){return jk(S.querySelectorAll("[data-tippy-root]"))}function te(e){w.clearDelayTimeouts(),e&&R("onTrigger",[w,e]),F();var t=I(!0),n=M(),o=n[0],i=n[1];Vk.isTouch&&"hold"===o&&i&&(t=i),t?r=setTimeout((function(){w.show()}),t):w.show()}function ne(e){if(w.clearDelayTimeouts(),R("onUntrigger",[w,e]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=I(!1);t?o=setTimeout((function(){w.state.isVisible&&w.hide()}),t):i=requestAnimationFrame((function(){w.hide()}))}}else V()}}function lO(e,t){void 0===t&&(t={});var n=Gk.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Uk,Tk),window.addEventListener("blur",qk);var r=Object.assign({},t,{plugins:n}),o=Lk(e).reduce((function(e,t){var n=t&&sO(t,r);return n&&e.push(n),e}),[]);return zk(e)?o[0]:o}lO.defaultProps=Gk,lO.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Gk[t]=e[t]}))},lO.currentInput=Vk,Object.assign({},zS,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),lO.setDefaultProps({render:rO});class cO{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({state:e,from:t,to:n})=>{const{doc:r,selection:o}=e,{empty:i}=o,a=!r.textBetween(t,n).length&&sx(e.selection);return!i&&!a},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=lO(e,s({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)))}update(e,t){var n,r;const{state:o,composing:i}=e,{doc:a,selection:s}=o,l=t&&t.doc.eq(a)&&t.selection.eq(s);if(i||l)return;this.createTooltip();const{ranges:c}=s,u=Math.min(...c.map((e=>e.$from.pos))),d=Math.max(...c.map((e=>e.$to.pos)));(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:o,oldState:t,from:u,to:d}))?(null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:()=>{if(ax(t=o.selection)&&t instanceof Am){const t=e.nodeDOM(u);if(t)return t.getBoundingClientRect()}var t;return kS(e,u,d)}}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const uO=e=>new Wm({key:"string"==typeof e.pluginKey?new Jm(e.pluginKey):e.pluginKey,view:t=>new cO(s({view:t},e))});zw.create({name:"bubbleMenu",defaultOptions:{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null},addProseMirrorPlugins(){return this.options.element?[uO({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class dO{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({state:e})=>{const{selection:t}=e,{$anchor:n,empty:r}=t,o=1===n.depth,i=n.parent.isTextblock&&!n.parent.type.spec.code&&!n.parent.textContent;return!!(r&&o&&i)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=lO(e,s({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)))}update(e,t){var n,r;const{state:o,composing:i}=e,{doc:a,selection:s}=o,{from:l,to:c}=s,u=t&&t.doc.eq(a)&&t.selection.eq(s);if(i||u)return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:o,oldState:t}))?(null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:()=>kS(e,l,c)}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const fO=e=>new Wm({key:"string"==typeof e.pluginKey?new Jm(e.pluginKey):e.pluginKey,view:t=>new dO(s({view:t},e))});zw.create({name:"floatingMenu",defaultOptions:{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null},addProseMirrorPlugins(){return this.options.element?[fO({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),k({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=y(null);return M((()=>{const{pluginKey:t,editor:r,tippyOptions:o,shouldShow:i}=e;r.registerPlugin(uO({pluginKey:t,editor:r,element:n.value,tippyOptions:o,shouldShow:i}))})),he((()=>{const{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)})),()=>{var e;return A("div",{ref:n},null===(e=t.default)||void 0===e?void 0:e.call(t))}}});class pO extends class extends class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}{constructor(e={}){super(),this.isFocused=!1,this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get commands(){return this.commandManager.createCommands()}chain(){return this.commandManager.createChain()}can(){return this.commandManager.createCan()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e){const t=document.querySelector("style[data-tiptap-style]");if(null!==t)return t;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(n),n}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}'))}setOptions(e={}){this.options=s(s({},this.options),e),this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n="function"==typeof t?t(e,this.state.plugins):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(cS):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new yS(e,this)}createCommandManager(){this.commandManager=new dS(this,this.extensionManager.commands)}createSchema(){this.schema=this.extensionManager.schema}createView(){this.view=new hw(this.options.element,l(s({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:Fm.create({doc:Dx(this.options.content,this.schema,this.options.parseOptions)})}));const e=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(e),this.createNodeViews();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),o=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return uS(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return yx(e,null,n)||Gx(e,null,n);const r=kx(t,e.schema);return"node"===r?yx(e,t,n):"mark"===r&&Gx(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(e,t){const n=Bv.fromSchema(t).serializeFragment(e.content),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}(this.state.doc,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){return Lw(e,{from:0,to:e.content.size},t)}(this.state.doc,{blockSeparator:t,textSerializers:s(s({},n),$w(this.schema))})}get isEmpty(){return function(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){var e;this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners(),(e=this.css)&&e.parentNode&&e.parentNode.removeChild(e)}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}}{constructor(e={}){var t;return super(e),this.vueRenderers=m(new Map),this.contentComponent=null,this.reactiveState=(t=this.view.state,me(((e,n)=>({get:()=>(e(),t),set(e){t=e,requestAnimationFrame((()=>{requestAnimationFrame((()=>{n()}))}))}})))),this.on("transaction",(()=>{this.reactiveState.value=this.view.state})),re(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}registerPlugin(e,t){super.registerPlugin(e,t),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const hO=k({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=y(),n=b();return T((()=>{const r=e.editor;r&&r.options.element&&t.value&&_((()=>{if(!t.value||!r.options.element.firstChild)return;const e=p(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:e}),r.createNodeViews()}))})),he((()=>{const t=e.editor;if(!t)return;if(t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild)return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})})),{rootEl:t}},render(){const e=[];return this.editor&&this.editor.vueRenderers.forEach((t=>{const n=A(N,{to:t.teleportElement,key:t.id},A(t.component,s({ref:t.id},t.props)));e.push(n)})),A("div",{ref:e=>{this.rootEl=e}},...e)}});k({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=y(null);return M((()=>{const{pluginKey:t,editor:r,tippyOptions:o,shouldShow:i}=e;r.registerPlugin(fO({pluginKey:t,editor:r,element:n.value,tippyOptions:o,shouldShow:i}))})),he((()=>{const{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)})),()=>{var e;return A("div",{ref:n},null===(e=t.default)||void 0===e?void 0:e.call(t))}}});k({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return A(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragStart:this.onDragStart},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e))}}),k({props:{as:{type:String,default:"div"}},render(){return A(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const vO=/^\s*>\s$/gm,mO=bS.create({name:"blockquote",defaultOptions:{HTMLAttributes:{}},content:"block*",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setBlockquote:()=>({commands:e})=>e.wrapIn("blockquote"),toggleBlockquote:()=>({commands:e})=>e.toggleWrap("blockquote"),unsetBlockquote:()=>({commands:e})=>e.lift("blockquote")}),addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Eg(vO,this.type)]}}),gO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/gm,yO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/gm,bO=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/gm,wO=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/gm,xO=wS.create({name:"bold",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setBold:()=>({commands:e})=>e.setMark("bold"),toggleBold:()=>({commands:e})=>e.toggleMark("bold"),unsetBold:()=>({commands:e})=>e.unsetMark("bold")}),addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xS(gO,this.type),xS(bO,this.type)]},addPasteRules(){return[SS(yO,this.type),SS(wO,this.type)]}}),SO=/^\s*([-+*])\s$/,kO=bS.create({name:"bulletList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({toggleBulletList:()=>({commands:e})=>e.toggleList("bulletList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Eg(SO,this.type)]}}),OO=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/gm,CO=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/gm,MO=wS.create({name:"code",defaultOptions:{HTMLAttributes:{}},excludes:"_",parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setCode:()=>({commands:e})=>e.setMark("code"),toggleCode:()=>({commands:e})=>e.toggleMark("code"),unsetCode:()=>({commands:e})=>e.unsetMark("code")}),addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xS(OO,this.type)]},addPasteRules(){return[SS(CO,this.type)]}}),EO=/^```(?<language>[a-z]*)? $/,TO=/^~~~(?<language>[a-z]*)? $/,_O=bS.create({name:"codeBlock",defaultOptions:{languageClassPrefix:"language-",HTMLAttributes:{}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return r||null},renderHTML:e=>e.language?{class:this.options.languageClassPrefix+e.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:e}){return["pre",this.options.HTMLAttributes,["code",e,0]]},addCommands:()=>({setCodeBlock:e=>({commands:t})=>t.setNode("codeBlock",e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode("codeBlock","paragraph",e)}),addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())}}},addInputRules(){return[Tg(EO,this.type,(({groups:e})=>e)),Tg(TO,this.type,(({groups:e})=>e))]}}),AO=bS.create({name:"doc",topNode:!0,content:"block+"});var DO=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};DO.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},DO.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())},DO.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},DO.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{var u=c.getBoundingClientRect();s=u.left-c.scrollLeft,l=u.top-c.scrollTop}this.element.style.left=e.left-s+"px",this.element.style.top=e.top-l+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},DO.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},DO.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=um(this.editorView.state.doc,n,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},DO.prototype.dragend=function(){this.scheduleRemoval(20)},DO.prototype.drop=function(){this.scheduleRemoval(20)},DO.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};const IO=zw.create({name:"dropCursor",defaultOptions:{color:"currentColor",width:1,class:null},addProseMirrorPlugins(){return[(e=this.options,void 0===e&&(e={}),new Wm({view:function(t){return new DO(t,e)}}))];var e}});var NO=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return zh.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new RO(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var o=e.pos,i=null,a=e.depth;;a--){var s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){i=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;o+=n;var l=e.doc.resolve(o);if(t.valid(l))return l}for(;;){var c=n>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!Am.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=c,o+=n;var u=e.doc.resolve(o);if(t.valid(u))return u}return null}},t}(Cm);NO.prototype.visible=!1,Cm.jsonID("gapcursor",NO);var RO=function(e){this.pos=e};RO.prototype.map=function(e){return new RO(e.map(this.pos))},RO.prototype.resolve=function(e){var t=e.resolve(this.pos);return NO.valid(t)?new NO(t):Cm.near(t)};var jO=Rw({ArrowLeft:PO("horiz",-1),ArrowRight:PO("horiz",1),ArrowUp:PO("vert",-1),ArrowDown:PO("vert",1)});function PO(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){var i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof Tm){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var l=NO.findFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new NO(l))),!0)}}function zO(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!NO.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&Am.isSelectable(e.state.doc.nodeAt(o)))&&(e.dispatch(e.state.tr.setSelection(new NO(r))),!0)}function LO(e){if(!(e.selection instanceof NO))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",rw.create(e.doc,[Zb.widget(e.selection.head,t,{key:"gapcursor"})])}const $O=zw.create({name:"gapCursor",addProseMirrorPlugins:()=>[new Wm({props:{decorations:LO,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&NO.valid(n))return new NO(n)},handleClick:zO,handleKeyDown:jO}})],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=Wx(qx(e,"allowGapCursor",{name:e.name,options:e.options})))&&void 0!==t?t:null}}}),BO=bS.create({name:"hardBreak",defaultOptions:{HTMLAttributes:{}},inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",pS(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e})=>e.first([()=>e.exitCode(),()=>e.insertContent({type:this.name})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),FO=bS.create({name:"heading",defaultOptions:{levels:[1,2,3,4,5,6],HTMLAttributes:{}},content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,pS(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode("heading",e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode("heading","paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>s(s({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>Tg(new RegExp(`^(#{1,${e}})\\s$`),this.type,{level:e})))}});var VO=function(){};VO.prototype.append=function(e){return e.length?(e=VO.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},VO.prototype.prepend=function(e){return e.length?VO.from(e).append(this):this},VO.prototype.appendInner=function(e){return new UO(this,e)},VO.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?VO.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},VO.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},VO.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},VO.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},VO.from=function(e){return e instanceof VO?e:e&&e.length?new HO(e):VO.empty};var HO=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(VO);VO.empty=new HO([]);var UO=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(VO),WO=VO,qO=function(e,t){this.items=e,this.eventCount=t};qO.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,s,l=e.tr,c=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void u.push(e);if(r){u.push(new KO(e.map));var d,f=e.step.map(r.slice(o));f&&l.maybeStep(f).doc&&(d=l.mapping.maps[l.mapping.maps.length-1],c.push(new KO(d,null,null,c.length+u.length))),o--,d&&r.appendMap(d,o)}else l.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(o)):e.selection,s=new qO(n.items.slice(0,i).append(u.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:a}},qO.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null,l=0;l<e.steps.length;l++){var c,u=e.steps[l].invert(e.docs[l]),d=new KO(e.mapping.maps[l],u,t);(c=s&&s.merge(d))&&(d=c,l?o.pop():a=a.slice(0,a.length-1)),o.push(d),t&&(i++,t=null),r||(s=d)}var f,p,h,v=i-n.depth;return v>GO&&(p=v,(f=a).forEach((function(e,t){if(e.selection&&0==p--)return h=t,!1})),a=f.slice(h),i-=v),new qO(a.append(o),i)},qO.prototype.remapping=function(e,t){var n=new Kv;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},qO.prototype.addMaps=function(e){return 0==this.eventCount?this:new qO(this.items.append(e.map((function(e){return new KO(e)}))),this.eventCount)},qO.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),r);var s=t;this.items.forEach((function(t){var r=o.getMirror(--s);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(t.step){var c=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(s+1,r));u&&a++,n.push(new KO(l,c,u))}else n.push(new KO(l))}}),r);for(var l=[],c=t;c<i;c++)l.push(new KO(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),d=new qO(u,a);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},qO.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},qO.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((function(i,a){if(a>=e)r.push(i),i.selection&&o++;else if(i.step){var s=i.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var c=i.selection&&i.selection.map(t.slice(n));c&&o++;var u,d=new KO(l.invert(),s,c),f=r.length-1;(u=r.length&&r[f].merge(d))?r[f]=u:r.push(d)}}else i.map&&n--}),this.items.length,0),new qO(WO.from(r.reverse()),o)},qO.empty=new qO(WO.empty,0);var KO=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};KO.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new KO(t.getMap().invert(),t,this.selection)}};var JO=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},GO=20;function XO(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function YO(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function QO(e,t,n,r){var o=tC(t),i=nC.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),c=new JO(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(nC,{redo:r,historyState:c}).scrollIntoView())}}var ZO=!1,eC=null;function tC(e){var t=e.plugins;if(eC!=t){ZO=!1,eC=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){ZO=!0;break}}return ZO}var nC=new Jm("history"),rC=new Jm("closeHistory");function oC(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new Wm({key:nC,state:{init:function(){return new JO(qO.empty,qO.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(nC);if(i)return i.historyState;n.getMeta(rC)&&(e=new JO(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(nC))return a.getMeta(nC).redo?new JO(e.done.addTransform(n,null,r,tC(t)),e.undone,XO(n.mapping.maps[n.steps.length-1]),e.prevTime):new JO(e.done,e.undone.addTransform(n,null,r,tC(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new JO(e.done.rebased(n,o),e.undone.rebased(n,o),YO(e.prevRanges,n.mapping),e.prevTime):new JO(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),YO(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),l=a?YO(e.prevRanges,n.mapping):XO(n.mapping.maps[n.steps.length-1]);return new JO(e.done.addTransform(n,s?t.selection.getBookmark():null,r,tC(t)),qO.empty,l,n.time)}(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(e,t){var n="historyUndo"==t.inputType?iC(e.state,e.dispatch):"historyRedo"==t.inputType&&aC(e.state,e.dispatch);return n&&t.preventDefault(),n}}}})}function iC(e,t){var n=nC.getState(e);return!(!n||0==n.done.eventCount)&&(t&&QO(n,e,t,!1),!0)}function aC(e,t){var n=nC.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&QO(n,e,t,!0),!0)}const sC=zw.create({name:"history",defaultOptions:{depth:100,newGroupDelay:500},addCommands:()=>({undo:()=>({state:e,dispatch:t})=>iC(e,t),redo:()=>({state:e,dispatch:t})=>aC(e,t)}),addProseMirrorPlugins(){return[oC(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),lC=bS.create({name:"horizontalRule",defaultOptions:{HTMLAttributes:{}},group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",pS(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().command((({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,$anchor:o}=n,i=o.parent.isTextblock&&!o.parent.type.spec.code&&!o.parent.textContent;if(!r||!i||!t)return!0;const a=o.before();return e.deleteRange(a,a+1),!0})).insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{var n;if(t){const{parent:t,pos:r}=e.selection.$from,o=r+1;if(!e.doc.nodeAt(o)){const r=null===(n=t.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(e.insert(o,r),e.setSelection(Tm.create(e.doc,o)))}e.scrollIntoView()}return!0})).run()}},addInputRules(){return[(e=/^(?:---|-|___\s|\*\*\*\s)$/,t=this.type,new bg(e,((e,r,o,i)=>{const a=n instanceof Function?n(r):n,{tr:s}=e;return r[0]&&s.replaceWith(o-1,i,t.create(a)),s})))];var e,t,n}}),cC=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/gm,uC=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/gm,dC=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/gm,fC=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/gm,pC=wS.create({name:"italic",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setItalic:()=>({commands:e})=>e.setMark("italic"),toggleItalic:()=>({commands:e})=>e.toggleMark("italic"),unsetItalic:()=>({commands:e})=>e.unsetMark("italic")}),addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xS(cC,this.type),xS(dC,this.type)]},addPasteRules(){return[SS(uC,this.type),SS(fC,this.type)]}}),hC=bS.create({name:"listItem",defaultOptions:{HTMLAttributes:{}},content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",pS(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem("listItem"),Tab:()=>this.editor.commands.sinkListItem("listItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("listItem")}}}),vC=/^(\d+)\.\s$/,mC=bS.create({name:"orderedList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const t=e,{start:n}=t,a=((e,t)=>{var n={};for(var a in e)o.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))t.indexOf(a)<0&&i.call(e,a)&&(n[a]=e[a]);return n})(t,["start"]);return 1===n?["ol",pS(this.options.HTMLAttributes,a),0]:["ol",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({toggleOrderedList:()=>({commands:e})=>e.toggleList("orderedList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Eg(vC,this.type,(e=>({start:+e[1]})),((e,t)=>t.childCount+t.attrs.start===+e[1]))]}}),gC=bS.create({name:"paragraph",priority:1e3,defaultOptions:{HTMLAttributes:{}},group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setParagraph:()=>({commands:e})=>e.setNode("paragraph")}),addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),yC=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/gm,bC=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/gm,wC=wS.create({name:"strike",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setStrike:()=>({commands:e})=>e.setMark("strike"),toggleStrike:()=>({commands:e})=>e.toggleMark("strike"),unsetStrike:()=>({commands:e})=>e.unsetMark("strike")}),addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xS(yC,this.type)]},addPasteRules(){return[SS(bC,this.type)]}}),xC=bS.create({name:"text",group:"inline"}),SC=zw.create({name:"starterKit",addExtensions(){var e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,v,m,g;const y=[];return!1!==this.options.blockquote&&y.push(mO.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&y.push(xO.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&y.push(kO.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&y.push(MO.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&y.push(_O.configure(null===(o=this.options)||void 0===o?void 0:o.codeBlock)),!1!==this.options.document&&y.push(AO.configure(null===(i=this.options)||void 0===i?void 0:i.document)),!1!==this.options.dropcursor&&y.push(IO.configure(null===(a=this.options)||void 0===a?void 0:a.dropcursor)),!1!==this.options.gapcursor&&y.push($O.configure(null===(s=this.options)||void 0===s?void 0:s.gapcursor)),!1!==this.options.hardBreak&&y.push(BO.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&y.push(FO.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&y.push(sC.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&y.push(lC.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&y.push(pC.configure(null===(f=this.options)||void 0===f?void 0:f.italic)),!1!==this.options.listItem&&y.push(hC.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&y.push(mC.configure(null===(h=this.options)||void 0===h?void 0:h.orderedList)),!1!==this.options.paragraph&&y.push(gC.configure(null===(v=this.options)||void 0===v?void 0:v.paragraph)),!1!==this.options.strike&&y.push(wC.configure(null===(m=this.options)||void 0===m?void 0:m.strike)),!1!==this.options.text&&y.push(xC.configure(null===(g=this.options)||void 0===g?void 0:g.text)),y}}),kC=new bg(/<-$/,""),OC=new bg(/->$/,""),CC=new bg(/\(c\)$/,""),MC=new bg(/\(tm\)$/,""),EC=new bg(/\(r\)$/,""),TC=new bg(/1\/2$/,""),_C=new bg(/\+\/-$/,""),AC=new bg(/!=$/,""),DC=new bg(/<<$/,""),IC=new bg(/>>$/,""),NC=new bg(/\d+\s?([*x])\s?\d+$/,""),RC=new bg(/\^2$/,""),jC=new bg(/\^3$/,""),PC=new bg(/1\/4$/,""),zC=new bg(/3\/4$/,""),LC=zw.create({name:"typography",addInputRules:()=>[xg,Sg,kg,Og,Cg,Mg,kC,OC,CC,MC,EC,TC,_C,AC,DC,IC,NC,RC,jC,PC,zC]}),$C=zw.create({name:"placeholder",defaultOptions:{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1},addProseMirrorPlugins(){return[new Wm({props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(n)return e.descendants(((e,t)=>{const n=r>=t&&r<=t+e.nodeSize,i=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&i){const n=[this.options.emptyNodeClass];this.editor.isEmpty&&n.push(this.options.emptyEditorClass);const r=Zb.node(t,t+e.nodeSize,{class:n.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e}):this.options.placeholder});o.push(r)}return this.options.includeChildren})),rw.create(e,o)}}})]}}),BC=wS.create({name:"underline",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",pS(this.options.HTMLAttributes,e),0]},addCommands:()=>({setUnderline:()=>({commands:e})=>e.setMark("underline"),toggleUnderline:()=>({commands:e})=>e.toggleMark("underline"),unsetUnderline:()=>({commands:e})=>e.unsetMark("underline")}),addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline()}}});var FC=Ne,VC=/\s/;var HC=function(e){for(var t=e.length;t--&&VC.test(e.charAt(t)););return t},UC=/^\s+/;var WC=function(e){return e?e.slice(0,HC(e)+1).replace(UC,""):e},qC=qe,KC=ti,JC=/^[-+]0x[0-9a-f]+$/i,GC=/^0b[01]+$/i,XC=/^0o[0-7]+$/i,YC=parseInt;var QC=qe,ZC=function(){return FC.Date.now()},eM=function(e){if("number"==typeof e)return e;if(KC(e))return NaN;if(qC(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qC(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=WC(e);var n=GC.test(e);return n||XC.test(e)?YC(e.slice(2),n?2:8):JC.test(e)?NaN:+e},tM=Math.max,nM=Math.min;var rM=function(e,t,n){var r,o,i,a,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function h(e){return c=e,s=setTimeout(m,t),u?p(e):a}function v(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function m(){var e=ZC();if(v(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?nM(n,i-(e-c)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=o=void 0,a)}function y(){var e=ZC(),n=v(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return h(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=eM(t)||0,QC(n)&&(u=!!n.leading,i=(d="maxWait"in n)?tM(eM(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},y.flush=function(){return void 0===s?a:g(ZC())},y};const oM={},iM={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},aM=[$("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},null,-1),$("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},null,-1)];var sM=mf(oM,[["render",function(e,t){return j(),G("svg",iM,aM)}]]);const lM={},cM={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},uM=[$("line",{x1:"19",y1:"4",x2:"10",y2:"4"},null,-1),$("line",{x1:"14",y1:"20",x2:"5",y2:"20"},null,-1),$("line",{x1:"15",y1:"4",x2:"9",y2:"20"},null,-1)];var dM=mf(lM,[["render",function(e,t){return j(),G("svg",cM,uM)}]]);const fM={},pM={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},hM=[$("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"},null,-1),$("line",{x1:"4",y1:"21",x2:"20",y2:"21"},null,-1)];var vM=mf(fM,[["render",function(e,t){return j(),G("svg",pM,hM)}]]);const mM={},gM={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},yM=[$("polyline",{points:"16 18 22 12 16 6"},null,-1),$("polyline",{points:"8 6 2 12 8 18"},null,-1)];var bM=mf(mM,[["render",function(e,t){return j(),G("svg",gM,yM)}]]);const wM={},xM={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},SM=[$("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},null,-1),$("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},null,-1),$("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"},null,-1),$("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"},null,-1)];var kM=mf(wM,[["render",function(e,t){return j(),G("svg",xM,SM)}]]);const OM={class:"absolute inset-0 z-30 mt-16","aria-keyshortcuts":"n"},CM={class:"relative w-5/12 h-full py-8 overflow-hidden"},MM={class:"relative h-full p-4 transition duration-300 transform bg-white shadow rounded-r-md"},EM={key:0,class:"flex items-center p-2 bg-gray-100 rounded"},TM=$("span",{class:"inline-block mx-2 text-xs font-bold text-gray-300"},"|",-1),_M=$("span",{class:"inline-block mx-2 text-xs font-bold text-gray-300"},"|",-1),AM=$("span",{class:"inline-block mx-2 text-xs font-bold text-gray-300"},"|",-1),DM=$("span",{class:"inline-block mx-2 text-xs font-bold text-gray-300"},"|",-1),IM=$("div",{class:"absolute bottom-0 right-0 z-30 px-3 py-2 mb-4 mr-4 text-sm font-semibold transition transform rounded-full bg-brand-200 text-brand-700","aria-role":"status","aria-live":"assertive"}," Notes saved! ",-1),NM=k({setup(e){var t;const n=ua(),r=da(),{isOpen:o,hide:i}=fh(),a=y(!1),s=y(!1),l=g((()=>n.userStarsByRepoId[n.selectedRepo.databaseId])),c=JSON.parse((null==(t=l.value)?void 0:t.notes)||"{}"),u=((e={})=>{const t=ve();return M((()=>{t.value=new pO(e)})),he((()=>{var e;null===(e=t.value)||void 0===e||e.destroy()})),t})({content:Object.keys(c).length?c:"<p></p>",extensions:[SC,LC,BC,$C.configure({placeholder:"Add some notes about this repo..."}),_O],onUpdate:rM((({editor:e})=>{var t;(null==(t=r.user)?void 0:t.settings.autosave_notes)&&h(e)}),1e3),editorProps:{attributes:{class:"prose focus:outline-none"}}});f((()=>n.selectedRepo),(()=>{var e,t,n;let r=JSON.parse((null==(e=l.value)?void 0:e.notes)||"{}");null==(t=u.value)||t.commands.setContent(Object.keys(r).length?r:"<p></p>"),null==(n=u.value)||n.commands.focus("end")})),f(o,(e=>{var t;e&&(null==(t=u.value)||t.commands.focus("end"))})),f(a,(e=>{e&&(s.value=!0,setTimeout((()=>{s.value=!1}),3e3))}));const h=e=>{if(e){a.value=!0;const t=e.isEmpty?null:JSON.stringify(e.getJSON());d.Inertia.put("/star/notes",{repoId:n.selectedRepo.databaseId,notes:t},{onFinish:()=>a.value=!1,only:["stars"]})}};return(e,t)=>(j(),P(p(Bd),{as:"template",show:p(o),appear:""},{default:L((()=>[$("div",OM,[z(p($d),{as:"template","enter-from":"opacity-0","enter-to":"opacity-100","leave-from":"opacity-100","leave-to":"opacity-0"},{default:L((()=>[$("div",{class:"absolute inset-0 transition-opacity duration-300 bg-gray-500/75",onClick:t[0]||(t[0]=J(((...e)=>p(i)&&p(i)(...e)),["self"]))})])),_:1}),$("div",CM,[z(p($d),{as:"template","enter-from":"opacity-0 -translate-x-full","enter-to":"opacity-100 translate-x-0","leave-from":"opacity-100 translate-x-0","leave-to":"opacity-0 -translate-x-full"},{default:L((()=>[$("div",MM,[p(u)?(j(),G("div",EM,[$("button",{class:B(["p-1 rounded hover:bg-gray-200",{"bg-brand-100 text-brand-800 hover:bg-brand-200":p(u).isActive("bold")}]),"aria-label":"Bold",onClick:t[1]||(t[1]=e=>{var t;return null==(t=p(u))?void 0:t.chain().focus().toggleBold().run()})},[z(sM,{class:"h-5"})],2),TM,$("button",{class:B(["p-1 rounded hover:bg-gray-200",{"bg-brand-100 text-brand-800 hover:bg-brand-200":p(u).isActive("italic")}]),"aria-label":"Italic",onClick:t[2]||(t[2]=e=>{var t;return null==(t=p(u))?void 0:t.chain().focus().toggleItalic().run()})},[z(dM,{class:"h-5"})],2),_M,$("button",{class:B(["p-1 rounded hover:bg-gray-200",{"bg-brand-100 text-brand-800 hover:bg-brand-200":p(u).isActive("underline")}]),"aria-label":"Underline",onClick:t[3]||(t[3]=e=>{var t;return null==(t=p(u))?void 0:t.chain().focus().toggleUnderline().run()})},[z(vM,{class:"h-5"})],2),AM,$("button",{class:B(["p-1 rounded hover:bg-gray-200",{"bg-brand-100 text-brand-800 hover:bg-brand-200":p(u).isActive("code")}]),"aria-label":"Inline Code",onClick:t[4]||(t[4]=e=>{var t;return null==(t=p(u))?void 0:t.chain().focus().toggleCode().run()})},[z(bM,{class:"h-5"})],2),DM,$("button",{class:B(["p-1 rounded hover:bg-gray-200",{"bg-brand-100 text-brand-800 hover:bg-brand-200":p(u).isActive("codeBlock")}]),"aria-label":"Code Block",onClick:t[5]||(t[5]=e=>{var t;return null==(t=p(u))?void 0:t.chain().focus().toggleCodeBlock().run()})},[z(kM,{class:"h-5"})],2),p(u)?(j(),P(eh,{key:0,size:"sm",kind:"primary",class:"ml-auto",disabled:a.value,onClick:t[6]||(t[6]=e=>h(p(u)))},{default:L((()=>[de(V(a.value?"Saving":"Save"),1)])),_:1},8,["disabled"])):F("",!0)])):F("",!0),z(p(hO),{editor:p(u),class:"h-full mt-4"},null,8,["editor"]),z(p(Bd),{show:s.value,"enter-from":"opacity-0 translate-x-full","enter-to":"opacity-100 translate-x-0","leave-from":"opacity-100 translate-x-0","leave-to":"opacity-0 translate-x-full",as:"template"},{default:L((()=>[IM])),_:1},8,["show"])])])),_:1})])])])),_:1},8,["show"]))}});const RM=k({setup(){const e=ua(),t=y(""),n=y(!1),r=y(),o=y(),i=g((()=>!e.selectedRepos.length));za((()=>e.selectedRepo),(async i=>{Object.keys(i).length?(n.value=!0,o.value&&r.value&&(o.value.scrollTo(0,0),t.value=await e.fetchReadme(i),await _(),a(),s()),n.value=!1):t.value=""}),{debounce:500});const a=()=>{if(!r.value)return!1;Array.from(r.value.querySelectorAll("a")).forEach((t=>{if(t.href.replace(location.href,"").startsWith("#"))t.addEventListener("click",(e=>{if(e.preventDefault(),o.value&&r.value){const t=o.value.scrollTop+e.currentTarget.getBoundingClientRect().top-o.value.getBoundingClientRect().top-16;o.value.scrollTo(0,t)}}));else{const n=e.selectedRepo.nameWithOwner,r=e.selectedRepo.defaultBranchRef.name,o=t.getAttribute("href");(null==o?void 0:o.startsWith("http"))||(t.href=`https://github.com/${n}/raw/${r}/${o}`),t.setAttribute("target","_blank")}}))},s=()=>{if(!r.value)return!1;Array.from(r.value.querySelectorAll("img")).forEach((t=>{const n=e.selectedRepo.nameWithOwner,r=e.selectedRepo.defaultBranchRef.name,o=t.getAttribute("src");(null==o?void 0:o.startsWith("http"))||(t.src=`https://github.com/${n}/raw/${r}/${o}`)}))};return{contents:t,isReadmeLoading:n,readmeEl:r,readmeContainerEl:o,noRepoSelected:i}}}),jM={ref:"readmeContainerEl",class:"relative flex-grow overflow-y-auto"},PM={class:"relative w-full h-full"},zM=["innerHTML"],LM={class:"absolute inset-0 z-10 flex items-center justify-center text-center text-gray-500 bg-white dark:bg-gray-900"},$M={class:"absolute inset-0 z-10 flex flex-col items-center justify-center p-4 text-center text-gray-500 bg-gray-50 dark:bg-gray-900"};var BM=mf(RM,[["render",function(e,t,n,r,o,i){const a=q("ReadmeNotSelectedSvg");return j(),G("div",jM,[H($("div",PM,[$("div",{ref:"readmeEl",class:"p-4 prose max-w-none sm:max-w-2xl 2xl:max-w-4xl sm:mx-auto",innerHTML:e.contents},null,8,zM)],512),[[U,e.contents&&!e.isReadmeLoading]]),H($("div",LM," Loading... ",512),[[U,e.isReadmeLoading]]),H($("div",$M,[z(a,{"aria-label":"No Readme Selected",class:"w-full max-w-sm"})],512),[[U,e.noRepoSelected]])],512)}]]);const FM={class:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},VM=$("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1),HM={class:"inline-block px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},UM={class:"flex items-center justify-center w-12 h-12 mx-auto bg-green-100 rounded-full"},WM={class:"mt-3 text-center sm:mt-5"},qM=de(" Sponsorship Required "),KM={class:"mt-2"},JM={key:0,class:"text-sm text-gray-500"},GM=de(" you must be an active "),XM=$("a",{href:"https://github.com/sponsors",target:"_blank",rel:"noopener noreferrer",class:"font-semibold text-brand-700 focus:outline-none"},"GitHub Sponsor",-1),YM=de(" of the project. You can sponsor as little as $1 per month to get full access to all of Astral's features. "),QM={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},ZM=k({setup(e){var t;const{isOpen:n,hide:r,currentContext:o}=Za(),i=fa(),a={[ke.CREATE_TAG]:`To create more than ${null==(t=i.limits)?void 0:t.max_tags} tags`,[ke.ADD_NOTES]:"To add notes to your starred repos"},s=g((()=>o.value?a[o.value]:null));return(e,t)=>(j(),P(p(Bd),{as:"template",show:p(n)},{default:L((()=>[z(p(Bu),{as:"div",static:"",class:"fixed inset-0 z-20 overflow-y-auto",open:p(n),onClose:p(r)},{default:L((()=>[$("div",FM,[z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:L((()=>[z(p(Fu),{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"})])),_:1}),VM,z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:L((()=>[$("div",HM,[$("div",null,[$("div",UM,[z(p(df),{class:"w-6 h-6 text-green-600","aria-hidden":"true"})]),$("div",WM,[z(p(Vu),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:L((()=>[qM])),_:1}),$("div",KM,[p(s)?(j(),G("p",JM,[$("span",null,V(p(s)),1),GM,XM,YM])):F("",!0)])])]),$("div",QM,[$("a",{href:"https://github.com/sponsors/syropian",rel:"noopener noreferrer",target:"_blank",class:"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white border border-transparent rounded-md shadow-sm bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 sm:col-start-2 sm:text-sm",onClick:t[0]||(t[0]=(...e)=>p(r)&&p(r)(...e))}," I'd like to be a sponsor! "),$("button",{ref:(e,t)=>{t.cancelButtonRef=e},type:"button",class:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:t[1]||(t[1]=(...e)=>p(r)&&p(r)(...e))}," Nevermind ",512)])])])),_:1})])])),_:1},8,["open","onClose"])])),_:1},8,["show"]))}}),eE={class:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},tE=$("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1),nE={class:"inline-block px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:max-w-md sm:w-full sm:p-6"},rE=["onSubmit"],oE=$("p",{class:"text-center text-gray-500"},"Enter a new name for your tag",-1),iE={class:"mt-3 text-center sm:mt-5"},aE=$("label",{for:"tagName",class:"sr-only"},"Tag Name",-1),sE={key:0,class:"mt-2 text-xs font-semibold text-left text-red-500"},lE={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},cE=["disabled"],uE=k({setup(e){const{isOpen:t,hide:n,currentTag:r}=vf(),o=ge({name:""}),i=y(null);f([r,t],(async([e,t])=>{var n;if(e&&!0===t){o.name=e.name,await _();const t=null==(n=i.value)?void 0:n.$el;t&&t.select()}else setTimeout((()=>{o.clearErrors()}),200)}));const a=()=>{r.value&&o.clearErrors().put(`/tags/${r.value.id}`,{preserveScroll:!0,onSuccess:()=>n()})};return(e,r)=>(j(),P(p(Bd),{as:"template",show:p(t)},{default:L((()=>[z(p(Bu),{as:"div",static:"",class:"fixed inset-0 z-20 overflow-y-auto",open:p(t),onClose:p(n)},{default:L((()=>[$("div",eE,[z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:L((()=>[z(p(Fu),{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"})])),_:1}),tE,z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:L((()=>[$("div",nE,[$("form",{onSubmit:J(a,["prevent"])},[$("div",null,[oE,$("div",iE,[aE,z(nh,{id:"tagName",ref:(e,t)=>{t.input=e,i.value=e},modelValue:p(o).name,"onUpdate:modelValue":r[0]||(r[0]=e=>p(o).name=e),type:"text",class:"block w-full",placeholder:"Enter a name for your tag"},null,8,["modelValue"]),p(o).errors.name?(j(),G("p",sE,V(p(o).errors.name),1)):F("",!0)])]),$("div",lE,[$("button",{type:"submit",class:"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white border border-transparent rounded-md shadow-sm bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 sm:col-start-2 sm:text-sm",disabled:p(o).processing}," Save Tag ",8,cE),$("button",{ref:(e,t)=>{t.cancelButtonRef=e},type:"button",class:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:r[1]||(r[1]=(...e)=>p(n)&&p(n)(...e))}," Cancel ",512)])],40,rE)])])),_:1})])])),_:1},8,["open","onClose"])])),_:1},8,["show"]))}}),dE={class:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},fE=$("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1),pE={class:"inline-block px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},hE={class:"sm:flex sm:items-start"},vE={class:"flex items-center justify-center flex-shrink-0 w-12 h-12 mx-auto bg-yellow-100 rounded-full sm:mx-0 sm:h-10 sm:w-10"},mE={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},gE=de(" Elevated Privileges Required "),yE=$("div",{class:"mt-2"},[$("p",{class:"text-sm leading-6 text-gray-500"},[de(" Unstarring repositories requires your authorization scope to be upgraded from "),$("code",{class:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold bg-yellow-100 text-yellow-800"},"read:user"),de(" to "),$("code",{class:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold bg-yellow-100 text-yellow-800"},"public_repo"),de(". If you would like to learn more about authorization scopes, you can consult the "),$("a",{href:"https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps",target:"_blank",rel:"noopener noreferrer",class:"font-semibold text-gray-800 underline focus-within:outline-none"},"official GitHub documentation"),de(". ")])],-1),bE={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},wE={setup(e){const{isOpen:t,hide:n,redirectToGitHub:r}=uh();return(e,o)=>(j(),P(p(Bd),{as:"template",show:p(t)},{default:L((()=>[z(p(Bu),{as:"div",static:"",class:"fixed inset-0 z-20 overflow-y-auto",open:p(t),onClose:o[2]||(o[2]=e=>t.value=!1)},{default:L((()=>[$("div",dE,[z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:L((()=>[z(p(Fu),{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"})])),_:1}),fE,z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:L((()=>[$("div",pE,[$("div",hE,[$("div",vE,[z(p(lf),{class:"w-6 h-6 text-yellow-800","aria-hidden":"true"})]),$("div",mE,[z(p(Vu),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:L((()=>[gE])),_:1}),yE])]),$("div",bE,[$("button",{type:"button",class:"inline-flex justify-center w-full px-4 py-2 text-base font-semibold text-white bg-yellow-600 border border-transparent rounded-md shadow-sm hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:o[0]||(o[0]=(...e)=>p(r)&&p(r)(...e))}," Grant Access "),$("button",{ref:(e,t)=>{t.cancelButtonRef=e},type:"button",class:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:o[1]||(o[1]=(...e)=>p(n)&&p(n)(...e))}," Nevermind ",512)])])])),_:1})])])),_:1},8,["open"])])),_:1},8,["show"]))}},xE={},SE={fill:"currentColor",viewBox:"0 0 24 24"},kE=[$("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.477 2 2 6.463 2 11.97c0 4.404 2.865 8.14 6.839 9.458.5.092.682-.216.682-.48 0-.236-.008-.864-.013-1.695-2.782.602-3.369-1.337-3.369-1.337-.454-1.151-1.11-1.458-1.11-1.458-.908-.618.069-.606.069-.606 1.003.07 1.531 1.027 1.531 1.027.892 1.524 2.341 1.084 2.91.828.092-.643.35-1.083.636-1.332-2.22-.251-4.555-1.107-4.555-4.927 0-1.088.39-1.979 1.029-2.675-.103-.252-.446-1.266.098-2.638 0 0 .84-.268 2.75 1.022A9.606 9.606 0 0112 6.82c.85.004 1.705.114 2.504.336 1.909-1.29 2.747-1.022 2.747-1.022.546 1.372.202 2.386.1 2.638.64.696 1.028 1.587 1.028 2.675 0 3.83-2.339 4.673-4.566 4.92.359.307.678.915.678 1.846 0 1.332-.012 2.407-.012 2.734 0 .267.18.577.688.48C19.137 20.107 22 16.373 22 11.969 22 6.463 17.522 2 12 2z"},null,-1)];var OE=mf(xE,[["render",function(e,t){return j(),G("svg",SE,kE)}]]);const CE=["src","alt"],ME={class:"hidden ml-2 text-sm font-semibold sm:inline-block"},EE={class:"py-1"},TE=$("span",null,"Settings",-1),_E=$("span",null,"Become a Sponsor",-1),AE={class:"py-1"},DE=$("span",null,"View on GitHub",-1),IE=$("span",null,"Discussions",-1),NE=$("span",null,"File an Issue",-1),RE={class:"py-1"},jE=$("span",null,"Sign Out",-1),PE=k({emits:["showSettings"],setup(e){const t=da();return(e,n)=>p(t).user?(j(),P(p(ld),{key:0,as:"div",class:"relative -mr-4 sm:mr-0"},{default:L((({open:r})=>[$("div",null,[z(p(cd),{class:B(["flex items-center py-1 pl-2 pr-2 text-white transition-colors sm:pl-1 sm:rounded-md sm:hover:bg-brand-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-600 focus:ring-brand-800",{"bg-brand-800":r}])},{default:L((()=>{var e,n,o;return[$("img",{src:null==(e=p(t).user)?void 0:e.avatar,alt:null==(n=p(t).user)?void 0:n.username,class:"w-10 h-10 rounded-md image-rendering-crisp"},null,8,CE),$("span",ME,V(null==(o=p(t).user)?void 0:o.username),1),z(p(Hd),{class:B(["flex-shrink-0 w-4 h-4 mt-0.5 ml-1",{"rotate-180":r}]),"aria-hidden":"true"},null,8,["class"])]})),_:2},1032,["class"])]),z(K,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:L((()=>[z(p(ud),{class:"absolute z-20 w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg right-2 sm:right-0 ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:L((()=>[$("div",EE,[z(p(dd),null,{default:L((({active:t})=>[$("button",{type:"button",class:B([t?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm w-full"]),onClick:n[0]||(n[0]=t=>e.$emit("showSettings"))},[z(p(Wd),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),TE],2)])),_:1}),z(p(dd),null,{default:L((({active:e})=>[$("a",{href:"https://github.com/sponsors/syropian",target:"_blank",rel:"noopener noreferrer",class:B([e?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm"])},[z(p(Yd),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),_E],2)])),_:1})]),$("div",AE,[z(p(dd),null,{default:L((({active:e})=>[$("a",{href:"https://github.com/astralapp/astral",target:"_blank",rel:"noopener noreferrer",class:B([e?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm"])},[z(OE,{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),DE],2)])),_:1}),z(p(dd),null,{default:L((({active:e})=>[$("a",{href:"https://github.com/astralapp/astral/discussions",target:"_blank",rel:"noopener noreferrer",class:B([e?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm"])},[z(p(Fd),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),IE],2)])),_:1}),z(p(dd),null,{default:L((({active:e})=>[$("a",{href:"https://github.com/astralapp/astral/issues",target:"_blank",rel:"noopener noreferrer",class:B([e?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm"])},[z(p(qd),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),NE],2)])),_:1})]),$("div",RE,[z(p(dd),null,{default:L((({active:e})=>[$("a",{href:"/logout",class:B([e?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm"])},[z(p(Kd),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),jE],2)])),_:1})])])),_:1})])),_:1})])),_:1})):F("",!0)}}),zE=k({components:{SearchIcon:function(e,t){return j(),P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[z("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])}},setup(){const e=we(),t=y(),n=g({get:()=>e.searchQuery,set(t){e.searchQuery=t}});return Ba("/",(e=>{var n;ns()||document.activeElement===t.value||(e.preventDefault(),null==(n=t.value)||n.focus())})),{input:t,searchQuery:n}}}),LE={class:"flex items-center flex-shrink-0 h-16 px-4 bg-white border-b border-gray-300 dark:bg-gray-900 dark:border-gray-600"},$E={class:"relative flex items-center w-full py-2 transition-colors bg-white border border-transparent rounded-md shadow ring-gray-300 dark:ring-gray-500 ring-1 focus-within:border-gray-400 focus-within:ring-gray-400 dark:bg-gray-700"},BE=$("span",{class:"absolute hidden px-2 py-1 text-xs font-bold text-gray-300 transition-opacity border border-gray-300 rounded-sm pointer-events-none sm:block bg-gray-50 right-2 peer-focus:opacity-0"},"/",-1);var FE=mf(zE,[["render",function(e,t,n,r,o,i){const a=q("SearchIcon");return j(),G("div",LE,[$("div",$E,[H($("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t),type:"text",class:"flex-grow w-full py-0 pr-3 text-gray-500 placeholder-gray-300 border-none dark:text-gray-300 pl-9 peer focus:ring-0 dark:bg-gray-700",placeholder:"Gaze through your telescope...","aria-keyshortcuts":"/"},null,512),[[X,e.searchQuery]]),z(a,{class:"absolute w-5 h-5 text-gray-300 transition-colors pointer-events-none dark:text-gray-500 left-2 peer-focus:text-gray-400","aria-hidden":"true"}),BE])])}]]);const VE=$("span",{class:"sr-only"},"Use setting",-1),HE=[$("svg",{class:"w-3 h-3 text-gray-400",fill:"none",viewBox:"0 0 12 12"},[$("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],UE=[$("svg",{class:"w-3 h-3 text-brand-600",fill:"currentColor",viewBox:"0 0 12 12"},[$("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})],-1)],WE=k({props:{enabled:{type:Boolean,required:!1,default:!1}},emits:["change"],setup(e,{emit:t}){const n=y(e.enabled);return f(n,(()=>t("change",n.value))),(e,t)=>(j(),P(p(Md),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:B([n.value?"bg-brand-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500"])},{default:L((()=>[VE,$("span",{class:B([n.value?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"])},[$("span",{class:B([n.value?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"]),"aria-hidden":"true"},HE,2),$("span",{class:B([n.value?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"]),"aria-hidden":"true"},UE,2)],2)])),_:1},8,["modelValue","class"]))}}),qE={class:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},KE=$("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1),JE={class:"inline-block w-full max-w-sm overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:max-w-xl"},GE=de("Settings"),XE={class:"divide-y divide-gray-300"},YE={class:"px-4 py-5"},QE={class:"flex items-center"},ZE=$("p",{class:"text-sm font-bold text-gray-600"},"Show Language Tags",-1),eT={class:"px-4 py-5"},tT={class:"flex items-center"},nT=$("p",{class:"text-sm font-bold text-gray-600"},"Auto-Save Notes",-1),rT={class:"px-4 py-5"},oT={class:"flex items-center"},iT=$("p",{class:"text-sm font-bold text-gray-600"},"GitHub Access",-1),aT=de("Revoke Access"),sT=$("p",{class:"mt-4 text-sm text-gray-500"}," This will log you out and revoke your authorization granted to Astral for accessing your GitHub account. You will not lose any data. ",-1),lT={class:"px-4 py-5"},cT={class:"flex items-center"},uT=$("p",{class:"text-sm font-bold text-gray-600"},"Delete Account",-1),dT={class:"flex items-center ml-auto space-x-3"},fT=$("label",{for:"confirm-user-delete",class:"sr-only"},"Enter your username to confirm",-1),pT=$("p",{class:"mt-4 text-sm text-gray-500"},[de(" This will permanently delete "),$("strong",null,"all"),de(" of your data on this site, and revoke your authorization granted to Astral. "),$("em",null,"Be careful!")],-1),hT=k({setup(e){const{isOpen:t,hide:n}=ts(),r=da(),o=y(!1),i=y(""),a=y(),s=g((()=>o.value?"Confirm Deletion":"Delete My Account")),l=g((()=>{var e;return o.value&&i.value!==(null==(e=r.user)?void 0:e.username)})),c=(e,t)=>{d.Inertia.put("/settings",{key:e,enabled:t},{only:["user"]})},u=async()=>{var e;o.value?r.deleteUser():(o.value=!0,await _(),null==(e=a.value)||e.$el.focus())};return(e,f)=>(j(),P(p(Bd),{as:"template",show:p(t)},{default:L((()=>[z(p(Bu),{as:"div",static:"",class:"fixed inset-0 z-20 overflow-y-auto",open:p(t),onClose:p(n)},{default:L((()=>[$("div",qE,[z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:L((()=>[z(p(Fu),{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"})])),_:1}),KE,z(p($d),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:L((()=>{var e,t;return[$("div",JE,[z(p(Vu),{class:"w-full px-4 py-3 font-bold text-gray-700 bg-gray-100 border-b border-gray-200 rounded-t-lg"},{default:L((()=>[GE])),_:1}),$("div",XE,[$("div",YE,[$("div",QE,[ZE,z(WE,{class:"ml-auto",enabled:null==(e=p(r).user)?void 0:e.settings.show_language_tags,onChange:f[0]||(f[0]=e=>c("show_language_tags",!!e))},null,8,["enabled"])])]),$("div",eT,[$("div",tT,[nT,z(WE,{class:"ml-auto",enabled:null==(t=p(r).user)?void 0:t.settings.autosave_notes,onChange:f[1]||(f[1]=e=>c("autosave_notes",!!e))},null,8,["enabled"])])]),$("div",rT,[$("div",oT,[iT,z(eh,{class:"ml-auto",kind:"danger",size:"sm",onClick:f[2]||(f[2]=e=>p(d.Inertia).post("/revoke-grant"))},{default:L((()=>[aT])),_:1})]),sT]),$("div",lT,[$("div",cT,[uT,$("div",dT,[H($("div",null,[fT,z(nh,{id:"confirm-user-delete",ref:(e,t)=>{t.confirmInput=e,a.value=e},modelValue:i.value,"onUpdate:modelValue":f[3]||(f[3]=e=>i.value=e),placeholder:"Enter your username to confirm",class:"w-60"},null,8,["modelValue"])],512),[[U,o.value]]),z(eh,{kind:"danger",size:"sm",disabled:p(l),onClick:u},{default:L((()=>[de(V(p(s)),1)])),_:1},8,["disabled"])])]),pT])])])]})),_:1})])])),_:1},8,["open","onClose"])])),_:1},8,["show"]))}}),vT={class:"sr-only"},mT=k({setup(e){const{isVisible:t,currentMessage:n,currentType:r}=us(),o=y(rs),i=g((()=>({[rs.Success]:"bg-green-200 text-green-700",[rs.Error]:"bg-red-200 text-red-700"}[r.value])));return(e,a)=>(j(),P(p(Bd),{show:p(t),"enter-from":"opacity-0 translate-x-full","enter-to":"opacity-100 translate-x-0","leave-from":"opacity-100 translate-x-0","leave-to":"opacity-0 translate-x-full",as:"template"},{default:L((()=>[$("div",{class:B(["absolute bottom-0 right-0 z-30 flex items-center px-3 py-2 mb-4 mr-4 text-sm font-semibold transition duration-300 transform rounded-full",p(i)]),"aria-role":"status","aria-live":"assertive"},[p(r)===o.value.Success?(j(),P(p(Vd),{key:0,class:"w-5 h-5 mr-1","aria-hidden":"true"})):F("",!0),p(r)===o.value.Error?(j(),P(p(Qd),{key:1,class:"w-5 h-5 mr-1","aria-hidden":"true"})):F("",!0),$("span",vT,V(p(r)===o.value.Success?"Success: ":"Error: "),1),de(" "+V(p(n)),1)],2)])),_:1},8,["show"]))}}),gT={width:"961px",height:"172px",viewBox:"0 0 961 172",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},yT=[fe('<desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="logo" fill="#FFFFFF"><g id="Group-23" fill-rule="nonzero"><path d="M38.5668239,52.5511807 C39.8155466,47.5783775 44.5384656,43.6410281 52.6044271,40.8503454 C60.3818502,38.1591325 70.9286903,36.6387631 83.9522672,36.3306827 C88.0532409,36.2339759 95.3799089,36.2595341 101.330842,36.4052851 C91.29067,50.4505703 85.3811538,67.6533333 85.3811538,86.239004 C85.3811538,89.5809157 85.5730526,92.8772369 85.9444251,96.118988 C80.5788522,93.5631647 75.5501377,90.958988 70.896247,88.3168193 C59.5652449,81.883743 50.9905445,75.5542811 45.4082227,69.502506 C39.6188158,63.2269237 37.3174109,57.5239839 38.5668239,52.5511807 L38.5668239,52.5511807 Z M241.411433,135.21894 C251.085065,121.333912 256.758504,104.450281 256.758504,86.239004 C256.758504,82.5800321 256.52864,78.9756305 256.084787,75.4375422 C261.370978,78.0728032 267.815464,81.4340562 271.415982,83.4787149 C282.746294,89.9111004 291.321684,96.241253 296.903316,102.292337 C302.692032,108.567229 304.994128,114.270859 303.745405,119.244353 C302.495992,124.217157 297.773073,128.153124 289.707111,130.944498 C281.928998,133.635711 271.382848,135.15608 258.359271,135.46347 C253.009575,135.59057 247.34718,135.506297 241.411433,135.21894 L241.411433,135.21894 Z M9.15591903,68.6107309 C16.2996619,76.3576386 27.2786194,84.4623614 41.7863057,92.7017831 C55.7321012,100.620691 72.2057146,108.248787 90.4271255,115.293189 C102.322779,148.350345 133.937759,171.987566 171.070174,171.987566 C187.048854,171.987566 202.005915,167.60951 214.809291,159.989703 C214.809291,159.989703 172.0842,152.901092 148.784374,134.172434 C151.969342,135.026217 155.176399,135.859968 158.403474,136.670924 C203.763377,148.079566 247.635719,153.91306 281.937972,153.099341 C298.614528,152.705606 312.118543,150.757655 322.07381,147.310056 C332.366626,143.7471 338.391419,138.732161 339.981142,132.404771 C341.569484,126.078072 338.630257,118.808482 331.243534,110.798394 C324.099101,103.052177 313.121524,94.9467631 298.613148,86.7073414 C286.991536,80.1084819 269.737903,72.1868112 254.328016,65.8739277 C245.192806,28.3475341 211.382034,0.49113253 171.070174,0.49113253 C145.97147,0.49113253 123.39299,11.2898313 107.721486,28.4974297 C96.2517368,27.6857831 71.5982652,25.9975582 58.4607915,26.3090924 C41.7849251,26.7048996 28.2816012,28.6528514 18.3256437,32.0990683 C8.03282794,35.6620241 2.00803441,40.6776546 0.418311741,47.0043534 C-1.17003036,53.331743 1.76919636,60.6006426 9.15591903,68.6107309 L9.15591903,68.6107309 Z" id="Fill-22"></path><path d="M69.5343178,138.893108 C69.5343178,146.614458 63.2796599,152.874153 55.5643623,152.874153 C47.8483745,152.874153 41.5937166,146.614458 41.5937166,138.893108 C41.5937166,131.17245 47.8483745,124.912755 55.5643623,124.912755 C63.2796599,124.912755 69.5343178,131.17245 69.5343178,138.893108" id="Fill-24"></path><path d="M287.204144,44.3684016 C287.204144,49.005494 283.447621,52.7653173 278.813059,52.7653173 C274.179877,52.7653173 270.422664,49.005494 270.422664,44.3684016 C270.422664,39.732 274.179877,35.9721767 278.813059,35.9721767 C283.447621,35.9721767 287.204144,39.732 287.204144,44.3684016" id="Fill-25"></path><path d="M88.1222692,152.879679 C88.1222692,155.747727 85.798085,158.073526 82.9306478,158.073526 C80.0632105,158.073526 77.7390263,155.747727 77.7390263,152.879679 C77.7390263,150.010249 80.0632105,147.683759 82.9306478,147.683759 C85.798085,147.683759 88.1222692,150.010249 88.1222692,152.879679" id="Fill-26"></path></g><g id="ASTRAL" transform="translate(365.000000, 36.000000)"><g id="path-2-link"><path d="M19.456,99 L0.736,99 L34.864,12.6 C36.688009,7.991977 39.255983,4.752009 42.568,2.88 C45.880017,1.007991 50.127974,0.072 55.312,0.072 C60.400025,0.072 64.599983,1.007991 67.912,2.88 C71.224017,4.752009 73.743991,7.991977 75.472,12.6 L108.304,99 L89.44,99 L59.92,20.808 C59.055996,18.599989 57.472012,17.496 55.168,17.496 C52.863988,17.496 51.232005,18.599989 50.272,20.808 L19.456,99 Z M197.728,1.8 L197.728,18.792 L147.904,18.792 C143.487978,18.792 140.27201,19.871989 138.256,22.032 C136.23999,24.192011 135.232,26.951983 135.232,30.312 C135.232,31.752007 135.447998,33.167993 135.88,34.56 C136.312002,35.952007 137.079994,37.199994 138.184,38.304 C139.288006,39.408006 140.751991,40.271997 142.576,40.896 C144.400009,41.520003 146.751986,41.832 149.632,41.832 L172.384,41.832 C179.008033,41.832 184.431979,42.671992 188.656,44.352 C192.880021,46.032008 196.215988,48.215987 198.664,50.904 C201.112012,53.592013 202.791995,56.663983 203.704,60.12 C204.616005,63.576017 205.072,67.031983 205.072,70.488 C205.072,74.616021 204.496006,78.407983 203.344,81.864 C202.191994,85.320017 200.368012,88.319987 197.872,90.864 C195.375988,93.408013 192.184019,95.399993 188.296,96.84 C184.407981,98.280007 179.680028,99 174.112,99 L119.968,99 L119.968,82.008 L174.688,82.008 C179.296023,82.008 182.679989,80.880011 184.84,78.624 C187.000011,76.367989 188.08,73.464018 188.08,69.912 C188.08,68.375992 187.840002,66.864007 187.36,65.376 C186.879998,63.887993 186.064006,62.592006 184.912,61.488 C183.759994,60.383994 182.20001,59.496003 180.232,58.824 C178.26399,58.151997 175.792015,57.816 172.816,57.816 L150.208,57.816 C143.679967,57.816 138.352021,57.000008 134.224,55.368 C130.095979,53.735992 126.856012,51.576013 124.504,48.888 C122.151988,46.199987 120.520005,43.176017 119.608,39.816 C118.695995,36.455983 118.24,33.096017 118.24,29.736 C118.24,25.70398 118.791994,21.984017 119.896,18.576 C121.000006,15.167983 122.775988,12.216012 125.224,9.72 C127.672012,7.223988 130.815981,5.280007 134.656,3.888 C138.496019,2.495993 143.103973,1.8 148.48,1.8 L197.728,1.8 Z M290.176,1.8 L290.176,18.792 L261.808,18.792 L261.808,99 L244.672,99 L244.672,18.792 L216.304,18.792 L216.304,1.8 L290.176,1.8 Z M358.576,1.8 C364.048027,1.8 368.75198,2.591992 372.688,4.176 C376.62402,5.760008 379.863987,7.871987 382.408,10.512 C384.952013,13.152013 386.823994,16.247982 388.024,19.8 C389.224006,23.352018 389.824,27.047981 389.824,30.888 C389.824,33.960015 389.440004,37.007985 388.672,40.032 C387.903996,43.056015 386.704008,45.887987 385.072,48.528 C383.439992,51.168013 381.328013,53.49599 378.736,55.512 C376.143987,57.52801 372.976019,59.063995 369.232,60.12 L391.84,99 L372.976,99 L350.8,61.416 L325.456,61.416 C323.823992,61.416 323.008,62.231992 323.008,63.864 L323.008,99 L306.016,99 L306.016,60.552 C306.016,55.079973 307.215988,51.144012 309.616,48.744 C312.016012,46.343988 315.903973,45.144 321.28,45.144 L359.152,45.144 C361.552012,45.144 363.615991,44.760004 365.344,43.992 C367.072009,43.223996 368.463995,42.216006 369.52,40.968 C370.576005,39.719994 371.367997,38.280008 371.896,36.648 C372.424003,35.015992 372.688,33.336009 372.688,31.608 C372.688,28.151983 371.608011,25.152013 369.448,22.608 C367.287989,20.063987 363.856024,18.792 359.152,18.792 L305.872,18.792 L305.872,1.8 L358.576,1.8 Z M418.624,99 L399.904,99 L434.032,12.6 C435.856009,7.991977 438.423983,4.752009 441.736,2.88 C445.048017,1.007991 449.295974,0.072 454.48,0.072 C459.568025,0.072 463.767983,1.007991 467.08,2.88 C470.392017,4.752009 472.911991,7.991977 474.64,12.6 L507.472,99 L488.608,99 L459.088,20.808 C458.223996,18.599989 456.640012,17.496 454.336,17.496 C452.031988,17.496 450.400005,18.599989 449.44,20.808 L418.624,99 Z M537.856,1.8 L537.856,65.304 C537.856,67.608012 538.167997,69.79199 538.792,71.856 C539.416003,73.92001 540.49599,75.695993 542.032,77.184 C543.56801,78.672007 545.60799,79.847996 548.152,80.712 C550.69601,81.576004 553.88798,82.008 557.728,82.008 L595.456,82.008 L595.456,99 L556.72,99 C550.28797,99 544.79202,98.160008 540.232,96.48 C535.671977,94.799992 531.952014,92.472015 529.072,89.496 C526.191986,86.519985 524.104006,82.99202 522.808,78.912 C521.511994,74.83198 520.864,70.344024 520.864,65.448 L520.864,1.8 L537.856,1.8 Z" id="path-2"></path></g></g></g></g>',3)];function bT(e,t){return j(),G("svg",gT,yT)}const wT={class:"absolute top-0 left-0 w-screen h-screen overflow-hidden bg-gray-50"},xT={class:"grid h-screen dashboard-grid"},ST={class:"flex items-center px-4 bg-brand-600 col-span-full"},kT={class:"flex items-center w-1/3 sm:hidden"},OT={class:"flex items-center flex-shrink-0 w-1/3"},CT={class:"flex justify-end w-1/3 sm:w-2/3"},MT=["aria-hidden"],ET={class:"flex justify-center flex-grow pt-5"},TT={class:"relative flex flex-col border-r border-gray-300 dark:border-gray-600"},_T={class:"relative flex flex-col h-full"},AT=k({props:{tags:{type:Array,required:!0},stars:{type:Array,required:!0},user:{type:Object,required:!0},abilities:{type:Object,required:!0},limits:{type:Object,required:!0},flash:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(e){const t=e,n=da(),r=fa(),o=_a(),i=ua(),a=we(),{show:s}=Za(),{show:l}=ts(),{params:c,clearParams:u}=(()=>{const e=new URLSearchParams(location.search||""),t=m(Object.assign({}));e.forEach(((e,n)=>t[n]=e)),f(t,(r=>{Object.entries(r).forEach((([n,r])=>{null===r?(delete t[n],e.delete(n)):e.set(n,r)})),Object.keys(t).length?window.history.replaceState({},"",`${window.location.pathname}?${e.toString()}`):n()}));const n=()=>{Object.keys(t).forEach((n=>{e.delete(n),t[n]=null,window.history.pushState(null,document.title,window.location.pathname)}))};return $a(window,"popstate",(()=>{e.forEach(((e,n)=>t[n]=e))})),{params:t,clearParams:n}})(),h=g((()=>t.flash));Aa(g((()=>t.user)),n,"user"),Aa(g((()=>t.abilities)),r,"abilities"),Aa(g((()=>t.limits)),r,"limits"),Aa(g((()=>t.tags)),o,"tags"),Aa(g((()=>t.stars)),i,"userStars");const{selectItem:v,selectedItems:b}=Xa(g((()=>i.starredRepos.map((e=>e.node)))));d.Inertia.on("finish",(()=>{h.value.sponsorship_required&&s(h.value.sponsorship_required)}));const w=y(!1),x=y(!1),S=()=>{w.value=!1,a.setFilterByAll(),u()},k=()=>{w.value=!1,a.setFilterByUntagged(),u()},O=e=>{w.value=!1,a.selectedTag=e,c.tag=e.name},C=e=>{w.value=!1,a.selectedLanguage=e,c.language=e},M=e=>{x.value=!0,v(e.node)};return f(b,(e=>{i.selectedRepos=e})),f(c,(e=>{if(e.tag){const t=o.tags.find((t=>t.name===e.tag));t&&(a.selectedTag=t)}e.language&&(a.selectedLanguage=e.language)}),{immediate:!0}),(e,t)=>(j(),G("div",wT,[z(ZM),z(uE),z(hT),z(wE),z(mT),$("div",xT,[$("div",ST,[$("div",kT,[$("button",{class:"inline-flex items-center justify-center w-6 h-6 text-white",onClick:t[0]||(t[0]=e=>w.value=!w.value)},[z(p(cf))])]),$("div",OT,[z(p(bT),{class:"h-6 sm:h-8","aria-label":"Astral"})]),$("div",CT,[z(PE,{onShowSettings:p(l)},null,8,["onShowSettings"])])]),$("div",{class:B(["absolute inset-0 z-20 flex col-start-1 row-start-2 row-end-3 transition-colors duration-300 ease-in-out bg-gray-900 sm:relative sm:pointer-events-auto backdrop-filter",{"bg-opacity-0 pointer-events-none":!w.value,"bg-opacity-75 backdrop-blur-sm":w.value}]),"aria-hidden":!w.value},[$("div",{class:B(["w-3/4 transition-transform duration-300 ease-in-out transform-gpu sm:translate-x-0 sm:w-full",{"-translate-x-full":!w.value,"translate-x-0":w.value}])},[z(qf,{onAllStarsSelected:S,onUntaggedSelected:k,onTagSelected:O,onLanguageSelected:C})],2),H($("div",ET,[$("button",{class:"inline-flex items-center justify-center w-10 h-10 text-4xl text-white",onClick:t[1]||(t[1]=e=>w.value=!w.value)},[z(p(ff))])],512),[[U,w.value]])],10,MT),$("div",TT,[z(FE),z(Dp,null,{default:L((({repo:e})=>[z(Zp,{repo:e,onSelected:M,onTagSelected:O,onLanguageSelected:C},null,8,["repo"])])),_:1})]),$("div",{class:B(["absolute inset-0 z-10 col-start-3 row-start-2 row-end-3 transition-transform duration-300 ease-in-out bg-white pointer-events-auto dark:bg-gray-900 transform-gpu sm:translate-x-0 sm:relative",{"translate-x-full pointer-events-none":!x.value,"translate-x-0":x.value}])},[$("button",{class:"absolute top-0 left-0 z-10 inline-flex items-center justify-center w-6 h-6 mt-20 ml-5 text-gray-700 rounded-full bg-gray-50 sm:hidden",onClick:t[2]||(t[2]=e=>x.value=!1)},[z(p(sf))]),$("div",_T,[p(i).isAnyRepoSelected?(j(),P(Ch,{key:0})):F("",!0),z(BM),p(i).isAnyRepoSelected?(j(),P(NM,{key:1,"is-open":!0})):F("",!0)])],2)])]))}});export{AT as default};
